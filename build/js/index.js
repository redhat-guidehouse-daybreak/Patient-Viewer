webpackJsonp([0],{100:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(3),d=r(c),f={info:"fa fa-info-circle",warning:"fa fa-exclamation-circle",danger:"fa fa-exclamation-triangle",success:"fa fa-thumbs-up"},p=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"container-fluid",style:{width:"100%"}},u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-xs-12"},u.default.createElement("br",null),u.default.createElement("div",{className:"alert alert-"+this.props.type},this.props.close?u.default.createElement("span",{"aria-hidden":"true","data-dismiss":"alert",className:"close",style:{lineHeight:"1.2rem"}},"×"):null,this.props.icon?u.default.createElement("i",{className:f[this.props.type],style:{marginRight:"1ex"}}):null,this.props.children),u.default.createElement("br",null))))}}]),t}(u.default.Component);p.propTypes={type:d.default.oneOf(["info","warning","danger","success"]),close:d.default.bool,icon:d.default.bool,children:d.default.any},p.defaultProps={type:"info",close:!0,icon:!0},t.default=p},101:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.DialogFooter=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(3),d=r(c),f=n(19),p=n(51),h=n(21),m=n(50);n(540);var g=window.opener&&window.name,y=parent!==self,b=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=this,t=Object.keys(this.props.selection).filter(function(t){return!!e.props.selection[t]&&"selectionCleared"!==t}).length,n=["btn"],r=["btn"];0===t&&(n.push("disabled"),r.push("disabled")),this.props.settings.renderSelectedOnly&&n.push("active");var a=this.props.canShowSelected&&t>0;return u.default.createElement("label",{disabled:0===t},u.default.createElement("span",null,t+" patient"+(1===t?"":"s")+" selected"+(a?":":"")),a?u.default.createElement("div",{className:"btn-group"},u.default.createElement("div",{className:n.join(" "),onClick:function(){e.props.onToggleSelectionVisibility(!e.props.settings.renderSelectedOnly)}},"View Selected"),u.default.createElement("div",{className:r.join(" "),onClick:function(){e.props.onResetSelection()}},"Clear Selected")):null)}}]),t}(u.default.Component);b.propTypes={settings:d.default.object.isRequired,selection:d.default.object.isRequired,onToggleSelectionVisibility:d.default.func.isRequired,onResetSelection:d.default.func.isRequired,canShowSelected:d.default.bool};var v=t.DialogFooter=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"export",value:function(){var e=this,t=this.props.selection;switch(this.props.settings.outputMode){case"id-array":return Object.keys(t).filter(function(e){return!!t[e]&&"selectionCleared"!==e});case"transactions":return Object.keys(t).filter(function(e){return!!t[e]&&"selectionCleared"!==e}).map(function(n){return e.createPatientTransaction(t[n])});case"patients":return Object.keys(t).filter(function(e){return!!t[e]&&"selectionCleared"!==e}).map(function(e){return t[e]});case"id-list":return Object.keys(t).filter(function(e){return!!t[e]&&"selectionCleared"!==e}).join(",")}}},{key:"createPatientTransaction",value:function(){throw new Error("No implemented")}},{key:"showSelectedOnly",value:function(e){if(e){var t=this.props.selection;this.props.setParam({name:"_id",value:Object.keys(t).filter(function(e){return!!t[e]}).join(",")})}else this.props.setParam({name:"_id",value:void 0});this.props.showSelectedOnly(e)}},{key:"renderDialogButtons",value:function(){var e=this;if(!g&&!y)return null;var t=window.opener||window.parent,n=Object.keys(this.props.selection).filter(function(t){return!!e.props.selection[t]}).length;return u.default.createElement("div",{className:"col-xs-6 text-right"},u.default.createElement("button",{className:"btn btn-default",onClick:function(){t.postMessage({type:"close"},"*")}},"Cancel"),u.default.createElement("button",{className:"btn btn-primary",onClick:function(){var r=!0;n<=0&&!e.props.selection.selectionCleared&&(r=window.confirm("No patients have been selected. Choose 'Cancel' to return to making a selection or 'OK' to close without selecting")),r&&t.postMessage({type:"result",data:e.export()},"*")}},"OK"))}},{key:"render",value:function(){var e=this.props.selection;return e=Object.keys(e).filter(function(t){return!!e[t]}),u.default.createElement("div",{className:"row dialog-buttons"},u.default.createElement("div",{className:"col-xs-6 text-left"},u.default.createElement(b,{selection:this.props.selection,settings:this.props.settings,onToggleSelectionVisibility:this.showSelectedOnly.bind(this),onResetSelection:this.props.resetSelection,canShowSelected:this.props.canShowSelected})),this.renderDialogButtons())}}]),t}(u.default.Component);v.propTypes={selection:d.default.object.isRequired,settings:d.default.object.isRequired,showSelectedOnly:d.default.func.isRequired,resetSelection:d.default.func.isRequired,setParam:d.default.func.isRequired,fetch:d.default.func.isRequired,canShowSelected:d.default.bool},t.default=(0,f.connect)(function(e){return{selection:e.selection,settings:e.settings,query:e.query}},function(e){return{showSelectedOnly:function(t){e((0,p.showSelectedOnly)(t)),e((0,h.fetch)())},resetSelection:function(){e((0,m.setAll)({})),e((0,p.showSelectedOnly)(!1)),e((0,h.setParam)({name:"_id",value:void 0})),e((0,h.fetch)()),e((0,m.setSelectionCleared)())},setParam:function(t,n){return e((0,h.setParam)(t,n))},fetch:function(){return e((0,h.fetch)())}}})(v)},102:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(3),d=r(c),f=n(6),p=n(100),h=r(p),m=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){return u.default.createElement(h.default,{type:"danger"},(0,f.getErrorMessage)(this.props.error))}}]),t}(u.default.Component);m.propTypes={error:d.default.oneOfType([d.default.string,d.default.object])},m.defaultProps={error:"Unknown Error"},t.default=m},103:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),l=function(e){return e&&e.__esModule?e:{default:e}}(s);n(543);var u=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),i(t,[{key:"render",value:function(){return l.default.createElement("div",{className:"loader"},l.default.createElement("div",null,l.default.createElement("i",{className:"fa fa-spinner spin"})," Loading..."))}}]),t}(l.default.Component);t.default=u},104:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){for(var t=String(e).toLowerCase().trim().split("").reduce(function(e,t){return e+t.charCodeAt(0).toString(16)},"");t.length<11;)t+=t.length?t:"000000000000";return t}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(1),f=r(d),p=n(3),h=r(p),m=n(6);n(546);var g=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),c(t,[{key:"componentDidMount",value:function(){this.renderCanvas()}},{key:"componentDidUpdate",value:function(){this.renderCanvas()}},{key:"renderCanvas",value:function(){if(!(0,m.getPatientImageUri)(this.props.patient,this.props.base)){var e=l((0,m.getPatientName)(this.props.patient));jdenticon.update("#img-"+this.props.patient.id,e,.1)}}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.style,r=e.patient,o=(e.base,a(e,["className","style","patient","base"])),i=(0,m.getPatientImageUri)(r,this.props.base);return t="patient-image-wrap "+(t||""),n=u({},n||{}),i&&(n.backgroundImage="url('"+i+"')",n.backgroundColor="rgba(255, 255, 255, 0.6)"),f.default.createElement("div",u({className:t,style:n},o),i?null:f.default.createElement("canvas",{width:"480",height:"480",style:{width:"100%",height:"100%"},id:"img-"+r.id}))}}]),t}(f.default.Component);g.propTypes={patient:h.default.object.isRequired,className:h.default.string,style:h.default.object,base:h.default.string},g.defaultProps={base:""},t.default=g},105:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CODE_SYSTEMS={LOINC:{url:"http://loinc.org"},"SNOMED-CT":{url:"http://snomed.info/sct"},RxNorm:{url:"http://www.nlm.nih.gov/research/umls/rxnorm"},CVX:{url:"http://hl7.org/fhir/sid/cvx"},NUBC:{url:"http://www.nubc.org/patient-discharge"},UMLS:{url:"http://uts.nlm.nih.gov/metathesaurus"}}},11:function(e,t){function n(e,t){var n=e[1]||"",a=e[3];if(!a)return n;if(t&&"function"==typeof btoa){var o=r(a);return[n].concat(a.sources.map(function(e){return"/*# sourceURL="+a.sourceRoot+e+" */"})).concat([o]).join("\n")}return[n].join("\n")}function r(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=n(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},a=0;a<this.length;a++){var o=this[a][0];"number"==typeof o&&(r[o]=!0)}for(a=0;a<e.length;a++){var i=e[a];"number"==typeof i[0]&&r[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),t.push(i))}},t}},13:function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],a=h[r.id];if(a){a.refs++;for(var o=0;o<a.parts.length;o++)a.parts[o](r.parts[o]);for(;o<r.parts.length;o++)a.parts.push(c(r.parts[o],t))}else{for(var i=[],o=0;o<r.parts.length;o++)i.push(c(r.parts[o],t));h[r.id]={id:r.id,refs:1,parts:i}}}}function a(e){for(var t=[],n={},r=0;r<e.length;r++){var a=e[r],o=a[0],i=a[1],s=a[2],l=a[3],u={css:i,media:s,sourceMap:l};n[o]?n[o].parts.push(u):t.push(n[o]={id:o,parts:[u]})}return t}function o(e,t){var n=g(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=v[v.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),v.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function i(e){e.parentNode.removeChild(e);var t=v.indexOf(e);t>=0&&v.splice(t,1)}function s(e){var t=document.createElement("style");return e.attrs.type="text/css",u(t,e.attrs),o(e,t),t}function l(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",u(t,e.attrs),o(e,t),t}function u(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function c(e,t){var n,r,a;if(t.singleton){var o=b++;n=y||(y=s(t)),r=d.bind(null,n,o,!1),a=d.bind(null,n,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(t),r=p.bind(null,n,t),a=function(){i(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),r=f.bind(null,n),a=function(){i(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else a()}}function d(e,t,n,r){var a=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=x(t,a);else{var o=document.createTextNode(a),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(o,i[t]):e.appendChild(o)}}function f(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function p(e,t,n){var r=n.css,a=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&a;(t.convertToAbsoluteUrls||o)&&(r=w(r)),a&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var i=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(i),s&&URL.revokeObjectURL(s)}var h={},m=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),g=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e.call(this,n)),t[n]}}(function(e){return document.querySelector(e)}),y=null,b=0,v=[],w=n(537);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},void 0===t.singleton&&(t.singleton=m()),void 0===t.insertInto&&(t.insertInto="head"),void 0===t.insertAt&&(t.insertAt="bottom");var n=a(e);return r(n,t),function(e){for(var o=[],i=0;i<n.length;i++){var s=n[i],l=h[s.id];l.refs--,o.push(l)}if(e){r(a(e),t)}for(var i=0;i<o.length;i++){var l=o[i];if(0===l.refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete h[l.id]}}}};var x=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},20:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Grid=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=n(3),p=r(f),h=n(6),m=n(19),g=t.Grid=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={__rows:n.sortRows(n.props.rows,n.props.comparator)},n}return s(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){Array.isArray(e.rows)&&this.setState({__rows:this.sortRows(e.rows,e.comparator)})}},{key:"sortRows",value:function(e,t){return t?e.sort(t):e}},{key:"renderResource",value:function(e,t){var n=this.props.settings.server.url+"/"+e.resourceType+"/"+e.id;return this.props.settings.fhirViewer.enabled&&(n=this.props.settings.fhirViewer.url+(this.props.settings.fhirViewer.url.indexOf("?")>-1?"&":"?")+this.props.settings.fhirViewer.param+"="+encodeURIComponent(n)),d.default.createElement("tr",{key:t,onClick:function(){return window.open(n,"_blank")},style:{cursor:"pointer"}},this.props.cols.map(function(t,n){var r=t.render,a=t.path,o=t.cellProps,i=t.defaultValue;return o=l({},o,{key:n}),"function"==typeof r?d.default.createElement("td",o,r(e)):d.default.createElement("td",o,(0,h.getPath)(e,a)||d.default.createElement("small",{className:"text-muted"},i||"-"))}))}},{key:"renderRows",value:function(){var e=this;if(!this.state.__enableGrouping)return this.state.__rows.map(this.renderResource,this);var t=this.props.groupBy?this.props.cols.findIndex(function(t){return t.name===e.props.groupBy||t.label===e.props.groupBy}):-1,n=t>-1?this.props.cols[t].path:null;if(!n)return this.state.__rows.map(this.renderResource,this);var r={};this.state.__rows.forEach(function(t,a){var o="function"==typeof n?n(t):(0,h.getPath)(t,n);o=o||"Empty Group",r.hasOwnProperty(o)||(r[o]=[]),r[o].push(e.renderResource(t,a))});var o=[];for(var i in r)!function(t){r[t].length>1?(o.push(d.default.createElement("tr",{className:"group-header",key:t},d.default.createElement("th",{colSpan:e.props.cols.length,onClick:function(){return e.setState(a({},t,!1===e.state[t]))}},d.default.createElement("i",{className:"glyphicon glyphicon-triangle-"+(!1!==e.state[t]?"bottom":"right")})," ",t," ",d.default.createElement("small",{className:"badge"},r[t].length)))),!1!==e.state[t]&&(o=o.concat(r[t]))):(o.push(d.default.createElement("tr",{className:"group-clear",key:t})),o=o.concat(r[t]))}(i);return o}},{key:"render",value:function(){var e=this;return d.default.createElement("div",{className:"panel panel-default"+(this.state.__enableGrouping?" grouped":"")},this.props.title?d.default.createElement("div",{className:"panel-heading"},this.props.groupBy&&this.state.__rows.length>1&&d.default.createElement("label",{className:"pull-right"},"Group by ",this.props.groupBy," ",d.default.createElement("input",{type:"checkbox",checked:!!this.state.__enableGrouping,onChange:function(t){return e.setState({__enableGrouping:t.target.checked})}})),d.default.createElement("b",{className:"text-primary"},d.default.createElement("i",{className:"fa fa-address-card-o"})," ",this.props.title)):null,d.default.createElement("div",{className:"table-responsive"},d.default.createElement("table",{className:"table table-condensed table-hover table-striped table-bordered",style:{minWidth:200*this.props.cols.length}},d.default.createElement("thead",null,d.default.createElement("tr",null,this.props.cols.map(function(e,t){var n=e.headerProps,r=e.label;return n=l({},n,{key:t}),d.default.createElement("th",n,r||"")}))),d.default.createElement("tbody",null,this.renderRows()))))}}]),t}(d.default.Component);g.propTypes={rows:p.default.arrayOf(p.default.object).isRequired,cols:p.default.arrayOf(p.default.object).isRequired,settings:p.default.object.isRequired,title:p.default.string,groupBy:p.default.string,comparator:p.default.func},t.default=(0,m.connect)(function(e){return{settings:e.settings}})(g)},21:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.goPrev=t.goNext=t.fetch=t.setLimit=t.setTags=t.delTag=t.addTag=t.setSort=t.setQueryType=t.setQueryString=t.setParam=t.setGender=t.setConditions=t.delCondition=t.addCondition=t.setAgeGroup=t.setMaxAge=t.setMinAge=t.setData=t.setError=t.setLoading=t.queryBuilder=void 0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(47),s=n(329),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=n(6),c=t.queryBuilder=new l.default((0,u.parseQueryString)(window.location.hash.split("?")[1]||"")),d=o({},c.getState(),{loading:!1,error:null,bundle:null}),f=t.setLoading=(0,i.createAction)("app/search/SET_LOADING"),p=t.setError=(0,i.createAction)("app/search/SET_ERROR"),h=t.setData=(0,i.createAction)("app/search/SET_DATA"),m=(t.setMinAge=(0,i.createAction)("app/search/SET_MIN_AGE"),t.setMaxAge=(0,i.createAction)("app/search/SET_MAX_AGE"),t.setAgeGroup=(0,i.createAction)("app/search/SET_AGE_GROUP"),t.addCondition=(0,i.createAction)("app/search/ADD_CONDITION"),t.delCondition=(0,i.createAction)("app/search/DEL_CONDITION"),t.setConditions=(0,i.createAction)("app/search/SET_CONDITIONS"),t.setGender=(0,i.createAction)("app/search/SET_GENDER"),t.setParam=(0,i.createAction)("app/search/SET_PARAM"),t.setQueryString=(0,i.createAction)("app/search/SET_QUERY_STRING"),t.setQueryType=(0,i.createAction)("app/search/SET_QUERY_TYPE"),t.setSort=(0,i.createAction)("app/search/SET_SORT"),t.addTag=(0,i.createAction)("app/search/ADD_TAG"),t.delTag=(0,i.createAction)("app/search/DEL_TAG"),t.setTags=(0,i.createAction)("app/search/SET_TAGS"),t.setLimit=(0,i.createAction)("app/search/SET_LIMIT"),t.fetch=function(){return function(e,t){e(f(!0)),e(p(null));var n=t(),r=n.settings;c.fetch(r.server).then(function(t){e(h(t)),e(f(!1))},function(t){e(p(t)),e(f(!1))})}});t.goNext=function(){return function(e,t){var n=t().query.bundle,r=(0,u.getBundleURL)(n,"next");r&&(r=(0,u.parseQueryString)(r),c.setOffset(r._getpages,+r._getpagesoffset),e(m()))}},t.goPrev=function(){return function(e,t){var n=t().query.bundle,r=(0,u.getBundleURL)(n,"previous");r&&(r=(0,u.parseQueryString)(r),c.setOffset(r._getpages,+r._getpagesoffset),e(m()))}};t.default=(0,i.handleActions)((a={},r(a,"app/search/SET_SORT",function(e,t){return c.setSort(t.payload),o({},e,c.getState())}),r(a,"app/search/SET_QUERY_STRING",function(e,t){return c.setQueryString(t.payload),o({},e,c.getState())}),r(a,"app/search/SET_QUERY_TYPE",function(e,t){return c.setQueryType(t.payload),o({},e,c.getState())}),r(a,"app/search/SET_PARAM",function(e,t){return c.setParam(t.payload.name,t.payload.value),o({},e,c.getState())}),r(a,"app/search/SET_MIN_AGE",function(e,t){return c.setMinAge(t.payload),o({},e,c.getState())}),r(a,"app/search/SET_MAX_AGE",function(e,t){return c.setMaxAge(t.payload),o({},e,c.getState())}),r(a,"app/search/SET_AGE_GROUP",function(e,t){return c.setAgeGroup(t.payload),o({},e,c.getState())}),r(a,"app/search/ADD_CONDITION",function(e,t){return c.addCondition(t.payload.key,t.payload.value),o({},e,c.getState())}),r(a,"app/search/SET_CONDITIONS",function(e,t){return c.setConditions(t.payload),o({},e,c.getState())}),r(a,"app/search/DEL_CONDITION",function(e,t){return c.removeCondition(t.payload),o({},e,c.getState())}),r(a,"app/search/ADD_TAG",function(e,t){return c.addTag(t.payload),o({},e,c.getState())}),r(a,"app/search/DEL_TAG",function(e,t){return c.removeTag(t.payload),o({},e,c.getState())}),r(a,"app/search/SET_TAGS",function(e,t){return c.setTags(t.payload),o({},e,c.getState())}),r(a,"app/search/SET_GENDER",function(e,t){return c.setGender(t.payload),o({},e,c.getState())}),r(a,"app/search/SET_LIMIT",function(e,t){return c.setLimit(t.payload),o({},e,c.getState())}),r(a,"app/search/SET_LOADING",function(e,t){return o({},e,c.getState(),{loading:!!t.payload})}),r(a,"app/search/SET_ERROR",function(e,t){return o({},e,c.getState(),{error:t.payload})}),r(a,"app/search/SET_DATA",function(e,t){return o({},e,c.getState(),{bundle:t.payload})}),a),d)},22:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(368),a=function(e){return e&&e.__esModule?e:{default:e}}(r),o=new a.default("/keycloak.json"),i=function(e){o.init({onLoad:"login-required",silentCheckSsoRedirectUri:window.location.origin+"/silent-check-sso.html",pkceMethod:"S256"}).then(function(t){t||console.log("user is not authenticated..!"),e()}).catch(function(){console.error()})},s=o.login,l=o.logout,u=function(){return o.token},c=function(){return!!o.token},d=function(e){return o.updateToken(5).then(e).catch(s)},f=function(){return o.tokenParsed?o.tokenParsed.preferred_username:""},p=function(e){return e.some(function(e){return o.hasRealmRole(e)})},h={initKeycloak:i,doLogin:s,doLogout:l,isLoggedIn:c,getToken:u,updateToken:d,getUsername:f,hasRole:p};t.default=h},304:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),o=r(a),i=n(98),s=r(i),l=n(22),u=r(l),c=n(325),d=r(c),f=function(){console.log(" Callback Invoked  :  "+u.default.isLoggedIn()),s.default.render(o.default.createElement(d.default,null),document.getElementById("main"))};u.default.initKeycloak(f)},306:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),d=n(0),f=r(d),p=n(3),h=r(p);n(538);var m=function(e){function t(){var e;a(this,t);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return s.onChangeMinValue=s.onChangeMinValue.bind(s),s.onChangeMinUnits=s.onChangeMinUnits.bind(s),s.onChangeMaxValue=s.onChangeMaxValue.bind(s),s.onChangeMaxUnits=s.onChangeMaxUnits.bind(s),s.onGroupChange=s.onGroupChange.bind(s),s.state=s._propsToState(s.props),s}return i(t,e),l(t,[{key:"_propsToState",value:function(e){var t={};return e.min&&"object"==s(e.min)&&(e.min.hasOwnProperty("value")&&(t.minValue=isNaN(e.min.value)?"":e.min.value),e.min.hasOwnProperty("units")&&(t.minUnits=e.min.units)),e.max&&"object"==s(e.max)&&(e.max.hasOwnProperty("value")&&(t.maxValue=isNaN(e.max.value)?"":e.max.value),e.max.hasOwnProperty("units")&&(t.maxUnits=e.max.units)),t}},{key:"componentWillReceiveProps",value:function(e){var t=this._propsToState(e);Object.keys(t).length&&this.setState(t)}},{key:"onChangeMinValue",value:function(e){if(this.props.onMinChange){var t={value:e.target.valueAsNumber||parseFloat(e.target.value||"0"),units:this.props.min.units};this.canSet(t,this.props.max)?this.props.onMinChange(t):this.setState(this._propsToState({min:t}))}}},{key:"onChangeMinUnits",value:function(e){if(this.props.onMinChange){var t={value:this.props.min.value,units:e.target.value};this.canSet(t,this.props.max)?this.props.onMinChange(t):this.setState(this._propsToState({min:t}))}}},{key:"onChangeMaxValue",value:function(e){if(this.props.onMaxChange){var t={value:e.target.valueAsNumber||parseFloat(e.target.value||"0"),units:this.props.max.units};this.canSet(this.props.min,t)?this.props.onMaxChange(t):this.setState(this._propsToState({max:t}))}}},{key:"onChangeMaxUnits",value:function(e){if(this.props.onMaxChange){var t={value:this.props.max.value,units:e.target.value};this.canSet(this.props.min,t)?this.props.onMaxChange(t):this.setState(this._propsToState({max:t}))}}},{key:"onGroupChange",value:function(e){this.props.onGroupChange&&this.props.onGroupChange(e.target.value)}},{key:"canSet",value:function(e,t){var n=f.default.duration(t.value,t.units);return f.default.duration(e.value,e.units)<n}},{key:"render",value:function(){var e=this.canSet({value:this.state.minValue,units:this.state.minUnits},{value:this.state.maxValue,units:this.state.maxUnits});return c.default.createElement("div",{className:"age-widget-wrap form-control input-sm"+("**custom**"==this.props.group?" custom":"")},c.default.createElement("select",{onChange:this.onGroupChange,value:this.props.group||""},c.default.createElement("option",{value:""},"Any Age"),c.default.createElement("option",{value:"infant"},"Infants (0 - 12 months, Alive only)"),c.default.createElement("option",{value:"child"},"Children (1 - 18 years, Alive only)"),c.default.createElement("option",{value:"adult"},"Adults (18 - 65 years, Alive only)"),c.default.createElement("option",{value:"elderly"},"Elderly (65+ years, Alive only)"),c.default.createElement("option",{value:"**custom**"},"**custom**"==this.props.group?"Custom Age, Alive only:":"Custom Age, Alive only")),"**custom**"==this.props.group?c.default.createElement("div",{className:"age-widget"+(e?"":" invalid")},c.default.createElement("span",null,"Min:"),c.default.createElement("input",{type:"number",value:this.state.minValue,onChange:this.onChangeMinValue,min:0,step:1}),c.default.createElement("select",{value:this.state.minUnits,onChange:this.onChangeMinUnits},c.default.createElement("option",{value:"years"},"Years"),c.default.createElement("option",{value:"months"},"Months"),c.default.createElement("option",{value:"days"},"Days"))):null,"**custom**"==this.props.group?c.default.createElement("div",{className:"age-widget"+(e?"":" invalid")},c.default.createElement("span",null,"Max:"),c.default.createElement("input",{type:"number",value:this.state.maxValue,onChange:this.onChangeMaxValue,min:0,step:1}),c.default.createElement("select",{value:this.state.maxUnits,onChange:this.onChangeMaxUnits},c.default.createElement("option",{value:"years"},"Years"),c.default.createElement("option",{value:"months"},"Months"),c.default.createElement("option",{value:"days"},"Days"))):null)}}]),t}(c.default.Component);m.propTypes={min:h.default.shape({value:h.default.number,units:h.default.oneOf(["years","months","days"])}),max:h.default.shape({value:h.default.number,units:h.default.oneOf(["years","months","days"])}),group:h.default.string,onMinChange:h.default.func,onMaxChange:h.default.func,onGroupChange:h.default.func,update:h.default.func},m.defaultProps={min:{value:0,units:"years"},max:{value:100,units:"years"},group:"",update:function(){return alert("No update function provided!")}},t.default=m},307:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(1),f=r(d),p=n(3),h=r(p),m=n(26),g=r(m),y=n(367),b=r(y),v=n(19),w=n(103),x=r(w),E=n(102),_=r(E),k=n(21),S=n(51),O=n(6);n(539);var C=window.opener||(window.parent===self?null:window.parent),A=t.App=function(e){function t(){var e;o(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return s.state={error:null},s}return s(t,e),c(t,[{key:"handleUiBlocking",value:function(){var e=0,t=void 0,n=function(){t&&clearTimeout(t),e>0?(0,g.default)("#overlay").show():t=setTimeout(function(){(0,g.default)("#overlay").hide()},200)};(0,g.default)(document).ajaxStart(function(){e++,n()}),(0,g.default)(document).ajaxComplete(function(){e=Math.max(--e,0),n()})}},{key:"componentDidMount",value:function(){var e=this;this.handleUiBlocking();var t=(0,O.parseQueryString)(window.location.search),n=t.config,r=a(t,["config"]),o={};g.default.ajax({url:"./config/"+(n||"default")+".json5",dataType:"text",cache:!1}).then(function(e){e=b.default.parse(e),g.default.ajaxSetup({timeout:e.timeout||2e4}),o=u({},e,r)},function(e){console.warn("Loading custom config: "+e.statusText)}).always(function(){var t=!1,n=function(n){"config"==n.data.type&&n.data.data&&"object"==l(n.data.data)&&(t=!0,e.props.dispatch((0,S.merge)(n.data.data)),e.props.dispatch((0,k.fetch)()))};e.props.dispatch((0,S.merge)(o)),e.props.dispatch((0,k.setLimit)(o.patientsPerPage)),C?(window.addEventListener("unload",function(){C.postMessage({type:"close"},"*")}),window.addEventListener("message",n),setTimeout(function(){window.removeEventListener("message",n),t||e.props.dispatch((0,k.fetch)())},1e3),C.postMessage({type:"ready"},"*")):e.props.dispatch((0,k.fetch)())})}},{key:"render",value:function(){return this.state.error?f.default.createElement(_.default,{error:this.state.error}):this.props.settings&&this.props.settings.loaded?f.default.createElement("div",{className:"app"},this.props.children):f.default.createElement("div",{className:"app"},f.default.createElement(x.default,null))}}]),t}(f.default.Component);A.propTypes={children:h.default.any,settings:h.default.object.isRequired,dispatch:h.default.func.isRequired},t.default=(0,v.connect)(function(e){return u({},e)})(A)},308:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(3),d=r(c),f=n(20),p=r(f),h=n(6),m=n(48),g=r(m),y=n(0),b=r(y),v=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){return u.default.createElement(p.default,{rows:(this.props.resources||[]).map(function(e){return e.resource}),title:"CarePlan",groupBy:"Category",comparator:function(e,t){var n=(0,h.getPath)(e,"period.start"),r=(0,h.getPath)(t,"period.start");return n=n?+(0,b.default)(n):0,(r=r?+(0,b.default)(r):0)-n},cols:[{label:"Category",path:"category.0.coding.0.display",render:function(e){return u.default.createElement("b",null,(0,h.getPath)(e,"category.0.coding.0.display"))}},{label:"Reason",render:function(e){return(e.activity||[]).map(function(e,t){var n=(0,h.getPath)(e,"detail.code.coding.0.display")||"";return n?u.default.createElement("div",{key:t},n,u.default.createElement("span",null," - "),u.default.createElement("span",{className:"text-muted"},(0,h.getPath)(e,"detail.status")||"no data")):""})}},{label:"Period",render:function(e){return(0,g.default)(e.period)}},{label:"Status",path:"status"}]})}}]),t}(u.default.Component);v.propTypes={resources:d.default.arrayOf(d.default.object)},t.default=v},309:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(3),d=r(c),f=n(105),p=n(20),h=r(p),m=n(34),g=r(m),y=n(6),b=n(0),v=r(b),w=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=this.props.resources||[],t=e.length;return u.default.createElement(h.default,{rows:(e||[]).map(function(e){return e.resource}),title:t+" Condition"+(1===t?"":"s"),comparator:function(e,t){var n=(0,y.getPath)(e,"onsetDateTime"),r=(0,y.getPath)(t,"onsetDateTime");return n=n?+(0,v.default)(n):0,(r=r?+(0,v.default)(r):0)-n},cols:[{label:"Condition",render:function(e){var t="-",n="-",r="";if(e.code&&(e.code.text&&(t=e.code.text),Array.isArray(e.code.coding)&&e.code.coding.length)){var a=e.code.coding[0];r=a.system;for(var o in f.CODE_SYSTEMS)if(f.CODE_SYSTEMS[o].url===a.system){r="("+o+")";break}a.display&&(t=a.display),a.code&&(n=a.code)}return u.default.createElement("div",null,u.default.createElement("b",null,t),u.default.createElement("small",{className:"text-muted pull-right"},n," ",r))}},{label:u.default.createElement("div",{className:"text-center"},"Clinical Status"),render:function(e){return u.default.createElement("div",{className:"text-center"},(0,y.getCodeOrConcept)(e.clinicalStatus))}},{label:u.default.createElement("div",{className:"text-center"},"Verification Status"),render:function(e){return u.default.createElement("div",{className:"text-center"},(0,y.getCodeOrConcept)(e.verificationStatus))}},{label:u.default.createElement("div",{className:"text-center"},"Onset Date"),render:function(e){var t=e.onsetDateTime||"";return u.default.createElement("div",{className:"text-center"},t?u.default.createElement(g.default,{moment:e.onsetDateTime}):"-")}}]})}}]),t}(u.default.Component);w.propTypes={resources:d.default.arrayOf(d.default.object)},t.default=w},310:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return e.class&&"object"==c(e.class)?(0,v.getPath)(e,"class.type.0.text"):e.class}function l(e){var t=(0,v.getPath)(e,"type.0.text");if(t)return t;var n=s(e);return n?n+" encounter":""}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=n(1),f=r(d),p=n(3),h=r(p),m=n(0),g=r(m),y=n(20),b=r(y),v=n(6),w=n(48),x=r(w),E=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){return f.default.createElement(b.default,{rows:(this.props.resources||[]).map(function(e){return e.resource}),title:"Encounter"+(1===this.props.resources.length?"":"s"),groupBy:"Type",comparator:function(e,t){var n=(0,v.getPath)(e,"period.start"),r=(0,v.getPath)(t,"period.start");return n=n?+(0,g.default)(n):0,(r=r?+(0,g.default)(r):0)-n},cols:[{label:"Type",path:function(e){return l(e)},render:function(e){var t=(0,v.getPath)(e,"type.0.text");if(t)return f.default.createElement("b",null,t);var n=s(e);return n?f.default.createElement("span",{className:"text-muted"},n+" encounter"):f.default.createElement("small",{className:"text-muted"},"N/A")}},{label:"Reason",path:"reason.0.coding.0.display",defaultValue:"N/A"},{label:"Class",render:function(e){var t=s(e);return t?f.default.createElement("b",null,t):f.default.createElement("small",{className:"text-muted"},"N/A")}},{label:"Status",path:"status",defaultValue:"N/A"},{label:"Time",path:"period",render:function(e){return(0,x.default)(e.period||{})}}]})}}]),t}(f.default.Component);E.propTypes={resources:h.default.arrayOf(h.default.object)},t.default=E},311:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(3),d=r(c),f=n(0),p=r(f),h=n(20),m=r(h),g=n(34),y=r(g),b=n(6),v=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){return u.default.createElement(m.default,{rows:(this.props.resources||[]).map(function(e){return e.resource}),title:"Immunizations",groupBy:"Type",comparator:function(e,t){var n=(0,b.getPath)(e,"date"),r=(0,b.getPath)(t,"date");return n=n?+(0,p.default)(n):0,(r=r?+(0,p.default)(r):0)-n},cols:[{label:"Type",path:"vaccineCode.coding.0.display"},{label:"Status",render:function(e){return e.status||"-"}},{label:"Date",render:function(e){return e.date?u.default.createElement(y.default,{moment:e.date}):e.occurrenceDateTime?u.default.createElement(y.default,{moment:e.occurrenceDateTime}):e.occurrenceString||"-"}}]})}}]),t}(u.default.Component);v.propTypes={resources:d.default.arrayOf(d.default.object)},t.default=v},312:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(3),d=r(c),f=n(0),p=r(f),h=n(6),m=n(20),g=r(m),y=n(316),b=r(y),v=n(315),w=r(v),x=n(48),E=r(x),_=n(34),k=r(_),S=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"getObservationLabel",value:function(e){return(0,h.getPath)(e,"code.coding.0.display")||(0,h.getPath)(e,"code.text")||(0,h.getPath)(e,"valueQuantity.code")}},{key:"renderObservation",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Array.isArray(e.component))return e.component.map(function(e,n){var r=t.renderObservation(e,!0);return u.default.createElement("span",{key:n},n>0&&u.default.createElement("span",null,", "),r)});var r=function(r){return u.default.createElement("span",null,n&&u.default.createElement("label",{className:"text-muted"},t.getObservationLabel(e).replace(/^\s*(Systolic|Diastolic)\s+blood\s+pressure\s*$/gi,"$1"),": "),r)};if(e.hasOwnProperty("valueBoolean"))return r(e.valueBoolean&&"false"!=e.valueBoolean?"Positive":"Negative");if(e.hasOwnProperty("valueString"))return r(String(e.valueString));if(e.hasOwnProperty("valueRange"))return r(u.default.createElement(b.default,{range:e.valueRange}));if(e.hasOwnProperty("valueTime"))return r(u.default.createElement(w.default,{moment:e.valueTime}));if(e.hasOwnProperty("valueDateTime"))return r(u.default.createElement(k.default,{moment:e.valueDateTime}));if(e.hasOwnProperty("valuePeriod"))return r((0,E.default)(e.valuePeriod));if(e.hasOwnProperty("valueCodeableConcept"))return r((0,h.getPath)(e,"valueCodeableConcept.coding.0.display"));if(e.hasOwnProperty("valueQuantity")){var a=(0,h.getPath)(e,"valueQuantity.value"),o=(0,h.getPath)(e,"valueQuantity.unit");return isNaN(parseFloat(a))||(a=Math.round(100*a)/100),r(u.default.createElement("span",null,a," ",u.default.createElement("span",{className:"text-muted"},o)))}return r(u.default.createElement("span",{className:"text-muted"},"N/A"))}},{key:"render",value:function(){var e=this;return u.default.createElement(g.default,{rows:(this.props.resources||[]).map(function(e){return e.resource}),title:"Observations",groupBy:"Name",comparator:function(e,t){var n=(0,h.getPath)(e,"effectiveDateTime")||(0,h.getPath)(e,"meta.lastUpdated"),r=(0,h.getPath)(t,"effectiveDateTime")||(0,h.getPath)(t,"meta.lastUpdated");return n=n?+(0,p.default)(n):0,(r=r?+(0,p.default)(r):0)-n},cols:[{label:"Name",path:function(t){return e.getObservationLabel(t)},render:function(t){return u.default.createElement("b",null,e.getObservationLabel(t))}},{label:"Value",render:function(t){return e.renderObservation(t)}},{label:"Date",render:function(e){var t=(0,h.getPath)(e,"effectiveDateTime")||(0,h.getPath)(e,"meta.lastUpdated");return t&&(t=(0,p.default)(t).format("MM/DD/YYYY")),u.default.createElement("div",{className:"text-muted"},t||"-")}}]})}}]),t}(u.default.Component);S.propTypes={resources:d.default.arrayOf(d.default.object)},t.default=S},313:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(3),d=r(c),f=n(0),p=r(f),h=n(20),m=r(h),g=n(34),y=r(g),b=n(6),v=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){return u.default.createElement(m.default,{rows:(this.props.resources||[]).map(function(e){return e.resource}),title:this.props.title,comparator:function(e,t){var n=(0,b.getPath)(e,"birthDate"),r=(0,b.getPath)(t,"birthDate");return n=n?+(0,p.default)(n):0,(r=r?+(0,p.default)(r):0)-n},cols:[{label:"Identifier",render:function(e){var t=[u.default.createElement("tr",{key:"id"},u.default.createElement("td",{className:"label-cell"},"ID"),u.default.createElement("td",null,e.id))];return Array.isArray(e.identifier)&&(t=t.concat(e.identifier.map(function(e){var t=(0,b.getPath)(e,"type.coding.0.display")||(0,b.getPath)(e,"type.text")||(0,b.getPath)(e,"type.coding.0.code")||String((0,b.getPath)(e,"system")||"").split(/\b/).pop();return t?u.default.createElement("tr",{key:t},u.default.createElement("td",{className:"label-cell"},t),u.default.createElement("td",null,e.value)):null}).filter(Boolean))),u.default.createElement("table",null,u.default.createElement("tbody",null,t))}},{label:"Name",render:b.getPatientName,defaultValue:"N/A"},{label:"Gender",render:function(e){return(0,b.capFirstLetter)(e.gender)},defaultValue:"N/A"},{label:"Birth Date",path:"birthDate",defaultValue:"N/A",render:function(e){return u.default.createElement(y.default,{moment:e.birthDate})}}]})}}]),t}(u.default.Component);v.propTypes={resources:d.default.arrayOf(d.default.object),title:d.default.string},v.defaultProps={title:"Person"},t.default=v},314:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,n){var r=[],a=function(t){var n=(0,b.getPath)(e,t.path);if(void 0!==n){var a=t.render?t.render(e):n,o=t.raw?t.raw(e):a,i="function"==typeof t.label?t.label(e):t.label,s=r.find(function(e){return e.value===o});return s?s.label+=", "+i:r.push({label:i,value:a}),!0}return!1};return t.forEach(a),r.length||n.some(a),r.length?p.default.createElement("table",null,p.default.createElement("tbody",null,r.map(function(e,t){return p.default.createElement("tr",{key:t},p.default.createElement("td",{className:"label-cell"},e.label),p.default.createElement("td",null,e.value))}))):"-"}function l(e){for(var t=["authoredOn","dateWritten","performedDateTime","recorded","performedPeriod.start","availableTime.0.availableStartTime","whenHandedOver","issued","effectiveDateTime","assertedDate","meta.lastUpdated"],n=0,r=t.length;n<r;n++){var a=(0,b.getPath)(e,t[n]);if(void 0!==a)return a}return 0}function u(e){var t=e.settings,n=e.path,r=e.children,a=t.server.url+"/"+n;return t.fhirViewer.enabled&&(a=t.fhirViewer.url+(t.fhirViewer.url.indexOf("?")>-1?"&":"?")+t.fhirViewer.param+"="+encodeURIComponent(a)),p.default.createElement("a",{onClick:function(){return window.open(a,"_blank"),!1}},r)}Object.defineProperty(t,"__esModule",{value:!0});var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(1),p=r(f),h=n(3),m=r(h),g=n(20),y=r(g),b=n(6),v=n(48),w=r(v),x=n(34),E=r(x),_=n(0),k=r(_);u.propTypes={settings:m.default.object.isRequired,path:m.default.string.isRequired,children:m.default.any};var S=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),d(t,[{key:"determineSchema",value:function(e){var t=this,n=[];return e?(n.push({label:"Identifier",render:function(e){return s(e,[{path:"id",label:"ID",ellipsis:15},{path:"name",label:"Name"},{path:"identifier.0.type.coding.0.code",label:"Identifiers",render:function(e){return Array.isArray(e.identifier)?e.identifier.map(function(e){var t=(0,b.getPath)(e,"type.coding.0.code");return t?t+": "+e.value:null}).filter(Boolean).join(", "):"-"}}])}}),n.push({label:"Details",render:function(e){return s(e,[{path:"description.text",label:"Description"},{path:"code.text",label:"Code"},{path:"code.coding.0.display",label:"Display"},{path:"medicationCodeableConcept.coding.0.display",label:"Medication"},{path:"medicationCodeableConcept.coding.0.code",label:function(e){return((0,b.getPath)(e,"medicationCodeableConcept.coding.0.system")||"").split(/\b/).pop()}},{path:"code.coding.0.code",label:function(e){return((0,b.getPath)(e,"code.coding.0.system")||"").replace(/\/$/,"").split(/\//).pop()+" code"}},{path:"result.0.display",label:"Result",render:function(e){return e.result.map(function(e){return e.display||0}).filter(Boolean).join(", ")}},{label:"Status",render:function(e){return(0,b.getCodeOrConcept)(e.status)}},{label:"Clinical Status",render:function(e){return(0,b.getCodeOrConcept)(e.clinicalStatus)}},{label:"Verification Status",render:function(e){return(0,b.getCodeOrConcept)(e.verificationStatus)}},{label:"Value as String",path:"valueString"},{label:"Comment",path:"comment"},{label:"Extra Details",path:"extraDetails"},{label:"Type",path:"type",render:function(e){return Array.isArray(e.type)?e.type.map(function(e){return e.text||(0,b.getPath)(e,"coding.0.display")||""}).filter(Boolean).join(", "):String((0,b.getPath)(e,"type.coding.0.display")||(0,b.getPath)(e,"type.text")||e.type)}},{label:"Criticality",path:"criticality"},{label:"Category",path:"category",render:function(e){function t(e){return e?"string"==typeof e?e:Array.isArray(e)?e.map(t).join(", "):"object"!=(void 0===e?"undefined":c(e))?"N/A":e.text||e.display||e.code||t(e.coding):"N/A"}return t(e.category)}},{label:"Quantity",path:"quantity.value",render:function(e){return p.default.createElement("span",null,e.quantity.value,p.default.createElement("span",{className:"text-muted"}," ",e.quantity.unit||e.quantity.units||""))}},{label:"Days Supply",path:"daysSupply.value",render:function(e){return p.default.createElement("span",null,e.daysSupply.value,p.default.createElement("span",{className:"text-muted"}," ",e.daysSupply.unit||e.daysSupply.units||""))}},{label:"Medication",path:"medicationReference.reference",render:function(e){return p.default.createElement(u,{settings:t.props.settings,path:e.medicationReference.reference},e.medicationReference.reference)}}],[{path:"text.div",label:"Text",render:function(e){return p.default.createElement("span",{dangerouslySetInnerHTML:{__html:e.text.div}})}}])}}),n.push({label:"Date",render:function(e){return s(e,[{path:"authoredOn",label:"Authored On",render:function(e){return p.default.createElement(E.default,{moment:e.authoredOn})}},{path:"dateWritten",label:"Date Written",render:function(e){return p.default.createElement(E.default,{moment:e.dateWritten})}},{path:"performedDateTime",label:"Performed At",render:function(e){return p.default.createElement(E.default,{moment:e.performedDateTime})}},{path:"recorded",label:"Recorded",render:function(e){return p.default.createElement(E.default,{moment:e.recorded})}},{path:"performedPeriod",label:"Performed",render:function(e){return(0,w.default)(e.performedPeriod)}},{path:"availableTime",label:"Available Time",render:function(e){if(Array.isArray(e.availableTime))return e.availableTime.map(function(e,t){return p.default.createElement("div",{key:t},e.availableStartTime&&p.default.createElement("span",null,p.default.createElement("label",null,"from: "),p.default.createElement("span",null,e.availableStartTime," ")),e.availableEndTime&&p.default.createElement("span",null,p.default.createElement("label",null,"to: "),p.default.createElement("span",null,e.availableEndTime)))})}},{path:"whenHandedOver",label:"Handed Over",render:function(e){return p.default.createElement(E.default,{moment:e.whenHandedOver})}},{path:"issued",label:"Issued",raw:function(e){return(0,k.default)(e.issued).format("MM/DD/YYYY")},render:function(e){return p.default.createElement(E.default,{moment:e.issued})}},{path:"effectiveDateTime",label:"Effective",raw:function(e){return(0,k.default)(e.effectiveDateTime).format("MM/DD/YYYY")},render:function(e){return p.default.createElement(E.default,{moment:e.effectiveDateTime})}},{path:"assertedDate",label:"Asserted",raw:function(e){return e.assertedDate},render:function(e){return p.default.createElement(E.default,{moment:e.assertedDate})}}],[{path:"meta.lastUpdated",label:"Last Updated",raw:function(e){return e.meta.lastUpdated},render:function(e){return p.default.createElement(E.default,{moment:e.meta.lastUpdated})}}])}}),n):n}},{key:"render",value:function(){var e=this.props.resources||[],t=e.length;return p.default.createElement(y.default,{rows:e.map(function(e){return e.resource}),title:t+" resource"+(1===t?"":"s")+" of type "+this.props.type,cols:this.determineSchema(e[0].resource),comparator:function(e,t){var n=l(e),r=l(t);return n=n?+(0,k.default)(n):0,(r=r?+(0,k.default)(r):0)-n}})}}]),t}(p.default.Component);S.propTypes={type:m.default.string,resources:m.default.arrayOf(m.default.object).isRequired,settings:m.default.object.isRequired},t.default=S},315:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e){var t=e.moment,n=e.format,r=void 0===n?"HH:mm":n,o=a(e,["moment","format"]);return s.default.createElement("span",o,(0,d.default)(t).format(r))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(1),s=r(i),l=n(3),u=r(l),c=n(0),d=r(c);o.propTypes={format:u.default.string,moment:u.default.oneOfType([u.default.string,u.default.instanceOf(Date),u.default.object]).isRequired}},316:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.range,n=t.low,r=t.high;return i.default.createElement("span",null,void 0!==n&&i.default.createElement("span",null,i.default.createElement("span",{className:"text-muted"},"low: "),i.default.createElement("span",null,n.value," (",n.unit,")")),void 0!==r&&i.default.createElement("span",null,void 0!==n&&i.default.createElement("span",null," "),i.default.createElement("span",{className:"text-muted"},"high: "),i.default.createElement("span",null,r.value," (",r.unit,")")),void 0===r&&void 0===n&&i.default.createElement("small",{className:"text-muted"},"N/A"))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var o=n(1),i=r(o),s=n(3),l=r(s);a.propTypes={range:l.default.object.isRequired}},317:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(3),d=r(c),f=n(21),p=n(6),h=n(101),m=r(h);n(541);var g=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props.query.error?" Error! ":" Loading... ",n=this.props.bundle,r=n&&(0,p.getBundleURL)(n,"previous"),a=n&&(0,p.getBundleURL)(n,"next");if(n&&!this.props.query.error)if(this.props.query.params._id)t="Showing the selected patients only";else{var o=n&&n.entry?n.entry.length:0;if(o){var i=+(this.props.query.offset||0)+1,s=i+o-1;t=" patient "+i+" to "+s+" ","total"in n&&(t+=" of "+n.total+" ")}else t=" No Records! "}return u.default.createElement("div",{className:"app-footer"},u.default.createElement("div",{className:"container-fluid",style:{width:"100%"}},u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-xs-3 col-sm-4 text-right"},u.default.createElement("a",{href:"#prev",onClick:function(t){t.preventDefault(),e.props.dispatch((0,f.goPrev)())},disabled:!r},u.default.createElement("i",{className:"fa fa-arrow-left"})," Prev")),u.default.createElement("div",{className:"col-xs-6 col-sm-4 text-center"},t),u.default.createElement("div",{className:"col-xs-3 col-sm-4 text-left"},u.default.createElement("a",{href:"#next",onClick:function(t){t.preventDefault(),e.props.dispatch((0,f.goNext)())},disabled:!a},"Next ",u.default.createElement("i",{className:"fa fa-arrow-right"})))),u.default.createElement(m.default,{canShowSelected:this.props.canShowSelected})))}}]),t}(u.default.Component);g.propTypes={bundle:d.default.object,query:d.default.object.isRequired,dispatch:d.default.func.isRequired,selection:d.default.object.isRequired,canShowSelected:d.default.bool},t.default=g},318:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(3),d=r(c);n(542);var f=n(21),p=n(49),h=r(p),m=n(327),g=r(m),y=n(306),b=r(y),v=n(326),w=r(v),x=n(6),E=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"fetch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;"automatic"==this.props.settings.submitStrategy&&(this.fetchDelay&&clearTimeout(this.fetchDelay),this.fetchDelay=setTimeout(function(){h.default.dispatch((0,f.fetch)())},e))}},{key:"renderAdvancedTabContents",value:function(){return u.default.createElement("div",{className:"form-group"},u.default.createElement("p",{className:"text-warning",style:{padding:"0 5px 5px",margin:0}},u.default.createElement("i",{className:"fa fa-info-circle"})," In advanced mode, provide a query string to browse and select from a list of matching patients. ",u.default.createElement("a",{target:"_blank",href:"http://hl7.org/fhir/patient.html#search"},"More Info...")),u.default.createElement("form",{onSubmit:function(e){e.preventDefault(),h.default.dispatch((0,f.fetch)())}},u.default.createElement("div",{className:"input-group input-group-sm"},u.default.createElement("span",{className:"input-group-addon"},"/Patient?"),u.default.createElement("input",{type:"text",className:"form-control",placeholder:"Patient Search Query String",name:"query",onChange:function(e){return h.default.dispatch((0,f.setQueryString)(e.target.value))},value:this.props.query.queryString}),u.default.createElement("span",{className:"input-group-btn"},u.default.createElement("button",{className:"btn btn-warning",type:"submit"},"Go")))))}},{key:"renderDemographicsTabContents",value:function(){var e=this;return u.default.createElement("form",{onSubmit:function(e){e.preventDefault(),h.default.dispatch((0,f.fetch)())}},u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"**custom**"===this.props.query.ageGroup?"col-sm-6":"col-sm-12"},u.default.createElement("div",{className:"form-group"},u.default.createElement("div",{className:"input-group"},u.default.createElement("span",{className:"input-group-addon"},u.default.createElement("small",null,"Name:")),u.default.createElement("input",{type:"text",className:"form-control input-sm",placeholder:"Search by name...",value:this.props.query.params.name||"",onChange:function(t){h.default.dispatch((0,f.setParam)({name:"name",value:t.target.value})),e.fetch()}})))),u.default.createElement("div",{className:"col-sm-6"},u.default.createElement("div",{className:"form-group"},u.default.createElement("select",{className:"form-control input-sm",onChange:function(t){h.default.dispatch((0,f.setGender)(t.target.value)),e.fetch()},value:this.props.query.gender||""},u.default.createElement("option",{value:"male"},"Males"),u.default.createElement("option",{value:"female"},"Females"),u.default.createElement("option",{value:""},"Any Gender")))),u.default.createElement("div",{className:"**custom**"===this.props.query.ageGroup?"col-sm-12":"col-sm-6"},u.default.createElement("div",{className:"form-group"},u.default.createElement(b.default,{min:this.props.query.minAge||{value:0,units:"years"},max:this.props.query.maxAge||{value:100,units:"years"},onMinChange:function(t){h.default.dispatch((0,f.setMinAge)(t)),e.fetch()},onMaxChange:function(t){h.default.dispatch((0,f.setMaxAge)(t)),e.fetch()},onGroupChange:function(t){h.default.dispatch((0,f.setAgeGroup)(t)),e.fetch()},group:this.props.query.ageGroup})))))}},{key:"renderConditionsTabContents",value:function(){var e=this;return u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-sm-12"},u.default.createElement("div",{className:"form-group"},u.default.createElement(g.default,{tags:Object.keys(this.props.settings.server.conditions).map(function(t){var n=e.props.settings.server.conditions[t];return{key:t,label:n.description,data:n}}),onChange:function(t){var n={};t.forEach(function(e){n[e.key]=e.data}),h.default.dispatch((0,f.setConditions)(n)),e.fetch()},label:"condition code",selected:Object.keys(this.props.query.conditions)}))))}},{key:"renderTagsTabContents",value:function(){var e=this,t=this.props.query.tags||this.props.settings.server.tags.filter(function(e){return!!e.selected}).map(function(e){return!!e.key});return u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-sm-12"},u.default.createElement("div",{className:"form-group"},u.default.createElement(g.default,{tags:this.props.settings.server.tags,selected:t,onChange:function(t){var n=Object.keys(t).map(function(e){return t[e].key});h.default.dispatch((0,f.setTags)(n)),e.fetch()},label:"tag"}))))}},{key:"render",value:function(){var e=(0,x.parseQueryString)(this.props.location.search),t="advanced"==this.props.query.queryType,n=Object.keys(this.props.query.conditions).length,r=0,a=Object.keys(this.props.query.tags).length,o=["demographics","conditions"];this.props.settings.hideTagSelector||o.push("tags");var i=e._tab||"";return-1==o.indexOf(i)&&(i="demographics"),this.props.query.gender&&(r+=1),this.props.query.params.name&&(r+=1),null===this.props.query.maxAge&&null===this.props.query.minAge||(r+=1),u.default.createElement("div",{className:"app-header"},u.default.createElement("div",{style:{flexDirection:"row"}},u.default.createElement("label",{className:"pull-right advanced-label text-warning"},"Advanced ",u.default.createElement("span",{className:"hidden-xs"},"Mode ")," ",u.default.createElement("input",{type:"checkbox",checked:t,onChange:function(e){h.default.dispatch((0,f.setQueryType)(e.target.checked?"advanced":"basic"))}})),t?u.default.createElement("ul",{className:"nav nav-tabs"}):u.default.createElement("ul",{className:"nav nav-tabs"},u.default.createElement("li",{className:t||"demographics"!=i?null:"active"},u.default.createElement("a",{href:"",onClick:function(e){e.preventDefault(),(0,x.setHashParam)("_tab","demographics")}},u.default.createElement("b",null,"Demographics"),r?u.default.createElement("span",{className:"hidden-xs"}," ",u.default.createElement("small",{className:"badge"},r)):null)),u.default.createElement("li",{className:t||"conditions"!=i?null:"active"},u.default.createElement("a",{href:"",onClick:function(e){e.preventDefault(),(0,x.setHashParam)("_tab","conditions")}},u.default.createElement("b",null,"Conditions"),n?u.default.createElement("span",{className:"hidden-xs"}," ",u.default.createElement("small",{className:"badge"},n)):null)),this.props.settings.hideTagSelector||this.props.query.params._id?null:u.default.createElement("li",{className:t||"tags"!=i?null:"active"},u.default.createElement("a",{href:"",onClick:function(e){e.preventDefault(),(0,x.setHashParam)("_tab","tags")}},u.default.createElement("b",null,"Tags"),a?u.default.createElement("span",{className:"hidden-xs"}," ",u.default.createElement("small",{className:"badge"},a)):null)))),u.default.createElement("div",{className:"tab-content"},u.default.createElement("div",{className:"tab-pane "+(t?"active":"")},this.renderAdvancedTabContents()),u.default.createElement("div",{className:"tab-pane "+(t||"demographics"!=i?"":"active")},this.renderDemographicsTabContents()),u.default.createElement("div",{className:"tab-pane "+(t||"conditions"!=i?"":"active")},this.renderConditionsTabContents()),this.props.settings.hideTagSelector||this.props.query.params._id?null:u.default.createElement("div",{className:"tab-pane "+(t||"tags"!=i?"":"active")},this.renderTagsTabContents()),t||"manual"!=this.props.settings.submitStrategy?null:u.default.createElement("div",{className:"text-right",style:{height:0}},u.default.createElement("button",{type:"button",onClick:function(){return h.default.dispatch((0,f.fetch)())},className:"btn btn-primary btn-submit"},u.default.createElement("i",{className:"fa fa-search"})," Search"))),t?null:u.default.createElement(w.default,{sort:this.props.query.sort,onChange:function(e){h.default.dispatch((0,f.setSort)(e)),h.default.dispatch((0,f.fetch)())}}))}}]),t}(u.default.Component);E.propTypes={settings:d.default.object.isRequired,query:d.default.object.isRequired,location:d.default.object.isRequired,urlParams:d.default.object.isRequired},t.default=E},319:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=n(3),p=r(f);n(544);var h=n(6),m=function(e){function t(){var e,n,r,a;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.handleClick=function(){r.props.toggle()},r.getCityState=function(e){var t={city:"",state:""};if(e.address&&e.address instanceof Array)for(var n=0;n<e.address.length;n++)"home"==e.address[n].use&&(t.city=e.address[n].city,t.state=e.address[n].state);return t},a=n,i(r,a)}return s(t,e),u(t,[{key:"render",value:function(){console.log(this.props.patient);var e=this.props.patientResources.RiskAssessment,t={};try{var n=e[0].resource.prediction[0].outcome.text;t=JSON.parse(n)}catch(e){console.error(e)}console.log(t);var r="",o=[],i=[],s=[];t instanceof Array&&t.forEach(function(e){"Suicide Risk"==e.name&&(r=e.value),"Rationale"==e.name&&(o=e.value),"Social Determinants"==e.name&&(i=e.value),"Care Team"==e.name&&(s=e.value)}),console.log("riskLevel :"+r),console.log("rationaleList :"+o),console.log("socialDeterminants :"+i),console.log("careTeam :"+s);var u=this.props,c=(u.className,u.style);u.patient,u.base,a(u,["className","style","patient","base"]);return c=l({},c||{}),c.backgroundColor="rgba(255, 255, 255, 0.6)",d.default.createElement("div",{className:"modal_local"},d.default.createElement("div",{className:"modal_content"},d.default.createElement("span",{className:"close",onClick:this.handleClick},"×"),d.default.createElement("div",null,d.default.createElement("h3",{className:"alert_heading"},"BEHAVIORAL SAFETY ALERT"),d.default.createElement("div",null,d.default.createElement("p",null,"The ",d.default.createElement("strong",null," VA REACH VET ")," predictive model has determined that ",d.default.createElement("strong",null,(0,h.getPatientName)(this.props.patient))," is at ",d.default.createElement("strong",{className:-1!=r.indexOf("Medium")?"orange_hightlight":"red_hightlight"},r)," for ",d.default.createElement("b",null,"attempting suicide/self-harm")," for the following clinical reasons:"),d.default.createElement("ul",{className:"no-bullets"},o.map(function(e,t){return d.default.createElement("li",{className:"numbered"},t+1,". ",e," ")})),d.default.createElement("p",null," The following areas of the patient record are recommended for review:"),d.default.createElement("ul",null,d.default.createElement("li",null," Link to ",d.default.createElement("a",null,"Problem List")),d.default.createElement("li",null," Link to ",d.default.createElement("a",null,"Current Medication")),d.default.createElement("li",null," Link to ",d.default.createElement("a",null,"Problem Encounters last 30 Days"))),d.default.createElement("p",null," In addition, because ",d.default.createElement("strong",null,(0,h.getPatientName)(this.props.patient))," lives in ",d.default.createElement("strong",null,this.getCityState(this.props.patient).city,", ",this.getCityState(this.props.patient).state),", they are at an elevated social risk for ",d.default.createElement("b",null," attempting suicide/self-harm"),"  for the following community reasons:"),d.default.createElement("ul",{className:"no-bullets"},i.map(function(e,t){return d.default.createElement("li",{className:"numbered"},t+1,". ",e," ")})),d.default.createElement("p",null," The following individuals are part of the care team for ",d.default.createElement("strong",null,(0,h.getPatientName)(this.props.patient),":")," "),d.default.createElement("ul",null,s.map(function(e){return d.default.createElement("li",null," ",e.name,", ",e.Role,", ",e.Phone)}))))))}}]),t}(d.default.Component);m.propTypes={patient:p.default.object.isRequired,patientResources:p.default.object,className:p.default.string,style:p.default.object,base:p.default.string,toggle:p.default.func},m.defaultProps={base:""},t.default=m},320:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PatientDetail=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),d=n(3),f=r(d),p=n(104),h=r(p),m=n(103),g=r(m),y=n(19),b=n(26),v=r(b),w=n(46),x=n(101),E=r(x),_=n(50),k=n(49),S=r(k),O=n(21),C=n(312),A=r(C),P=n(311),T=r(P),N=n(309),j=r(N),R=n(310),M=r(R),I=n(308),D=r(I),U=n(313),H=r(U),L=n(314),q=r(L),F=n(22),B=r(F),Y=n(6);n(545);var G=n(319),X=r(G),V=t.PatientDetail=function(e){function t(){var e;a(this,t);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var l=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return l.state={alertseen:!1},l.closePopup=function(){l.setState({alertseen:!1,popupClosedManually:!0})},l.query=O.queryBuilder.clone(),l.state={loading:!1,error:null,conditions:[],patient:{},index:0,hasNext:!1,groups:{},selectedSubCat:"",alertseen:!1,popupClosedManually:!1,bundle:v.default.isEmptyObject(l.props.query.bundle)?null:s({},l.props.query.bundle)},l}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.fetch(this.props.match.params.index)}},{key:"componentWillReceiveProps",value:function(e){e.match.params.index!==this.props.match.params.index&&this.fetch(e.match.params.index)}},{key:"fetch",value:function(e){var t=this;if((e=(0,Y.intVal)(e,-1))<0)return this.setState({error:new Error("Invalid patient index")});this.setState({loading:!0,index:e},function(){t.fetchPatient(t.props.settings.server,e).then(function(e){t.setState(s({},e,{error:null,loading:!1}))}).catch(function(e){t.setState({loading:!1,error:e})})})}},{key:"fetchPatient",value:function(e,t){var n=this;return Promise.resolve(s({},this.state)).then(function(t){return n.query.cacheId=null,n.query.offset=null,n.query.fetch(e).then(function(e){return t.bundle=e,t})}).then(function(e){return(t=(0,Y.intVal)(t,-1))<0?Promise.reject("Invalid patient index"):(e.patient=(0,Y.getPath)(e,"bundle.entry."+t+".resource"),e.nextURL=(0,Y.getBundleURL)(e.bundle,"next"),e.hasNext=!!e.nextURL||!!e.patient&&t<e.bundle.entry.length-1,Promise.resolve(e))}).then(function(r){if(!r.patient){var a=(0,Y.parseQueryString)(r.nextURL);return n.query.setOffset(a._getpages,t),n.query.fetch(e).then(function(e){return r.bundle=e,r.patient=(0,Y.getPath)(r,"bundle.entry.0.resource"),r.hasNext=!!r.patient&&(n.query.limit&&n.query.limit>1?r.bundle.entry.length>1:(0,Y.getBundleURL)(r.bundle,"next")),r})}return r}).then(function(e){return new Promise(function(t){n.setState(e,function(){return t(e)})})}).then(function(t){return(0,Y.getAllPages)({url:e.url+"/Patient/"+t.patient.id+"/$everything?_count=500"}).then(function(e){var n={};return e.forEach(function(e){var t=(0,Y.getPath)(e,"resource.resourceType")||"Other",r=t;if("Observation"==r){var a=String((0,Y.getPath)(e,"resource.category.0.text")||(0,Y.getPath)(e,"resource.category.coding.0.code")||(0,Y.getPath)(e,"resource.category.0.coding.0.code")||"Other").toLowerCase();a=a.split(/\-+/).map(function(e){return e.charAt(0).toUpperCase()+e.substr(1)}).join(" "),r+=" - "+a}Array.isArray(n[r])||(n[r]=[]),n[r].push(e)}),t.groups=n,t})}).then(function(e){return Promise.resolve(e)},function(e){return Promise.reject(new Error((0,Y.getErrorMessage)(e)))})}},{key:"renderPatient",value:function(){var e=this;if(this.state.error)return this.state.error+"";var t=(this.state.patient.id||"").toLowerCase(),n=t&&Object.keys(this.props.selection).find(function(e){return e.toLowerCase()==t}),r=n&&!1!==this.props.selection[n];return c.default.createElement("div",{className:"panel panel-default patient col-xs-12"},c.default.createElement("p",null," Signed in as : ",B.default.getUsername()),this.state.alertseen&&!this.state.popupClosedManually?c.default.createElement(X.default,{toggle:this.closePopup,patient:this.state.patient,patientResources:this.state.groups,className:"embed-responsive-item",base:this.props.settings.server.url}):null,c.default.createElement("div",{className:"row"},this.state.loading?c.default.createElement(g.default,null):null,c.default.createElement("div",{className:"col-xs-2 col-sm-2 col-md-1"},c.default.createElement("div",{className:"embed-responsive"},c.default.createElement(h.default,{patient:this.state.patient,className:"embed-responsive-item",base:this.props.settings.server.url}))),c.default.createElement("div",{className:"col-xs-10 col-md-11"},c.default.createElement("div",{className:"patient-row"},c.default.createElement("div",{className:"col-xs-7 patient-name"},c.default.createElement("h3",{className:"pull-left text-primary"},(0,Y.getPatientName)(this.state.patient)||(this.state.loading?"loading...":"Unknown")),r?c.default.createElement("i",{className:"label label-success pull-left"},"Selected"):null),c.default.createElement("div",{className:"col-xs-5 text-right",style:{paddingRight:0}},c.default.createElement("button",{type:"button",className:"btn btn-sm btn-"+(r?"danger":"primary"),onClick:function(){return S.default.dispatch((0,_.toggle)({id:e.state.patient.id}))}},r?"Unselect":"Select"),c.default.createElement("button",{type:"button",className:"btn btn-default btn-sm",onClick:function(){return e.fetch(e.props.match.params.index)}},c.default.createElement("i",{className:"fa fa-refresh"})," Reload"))),c.default.createElement("div",{className:"row"},c.default.createElement("div",{className:"col-xs-4 col-sm-2 col-lg-1 text-right text-muted"},"Gender:"),c.default.createElement("div",{className:"col-xs-8 col-sm-3 col-lg-3 text-left"},(this.state.patient.gender?(0,Y.capFirstLetter)(this.state.patient.gender):"")||(this.state.loading?"loading...":"Unknown")),c.default.createElement("div",{className:"col-xs-4 col-sm-2 col-lg-1 text-right text-muted"},"DOB:"),c.default.createElement("div",{className:"col-xs-8 col-sm-5 col-lg-3 text-left"},this.state.patient.birthDate||(this.state.loading?"loading...":"Unknown")),c.default.createElement("div",{className:"col-xs-4 col-sm-2 col-lg-1 text-right text-muted"},"Age:"),c.default.createElement("div",{className:"col-xs-8 col-sm-3 col-lg-3 text-left"},(0,Y.getPatientAge)(this.state.patient)||(this.state.loading?"loading...":"Unknown")),c.default.createElement("div",{className:"col-xs-4 col-sm-2 col-lg-1 text-right text-muted"},"Email"),c.default.createElement("div",{className:"col-xs-8 col-sm-5 col-lg-3 text-left"},(0,Y.getPatientEmail)(this.state.patient)||(this.state.loading?"loading...":"Unknown")),c.default.createElement("div",{className:"col-xs-4 col-sm-2 col-lg-1 text-right text-muted"},"Phone:"),c.default.createElement("div",{className:"col-xs-8 col-sm-3 col-lg-3 text-left"},(0,Y.getPatientPhone)(this.state.patient)||(this.state.loading?"loading...":"Unknown")),c.default.createElement("div",{className:"col-xs-4 col-sm-2 col-lg-1 text-right text-muted"},"Address:"),c.default.createElement("div",{className:"col-xs-8 col-sm-5 col-lg-3 text-left"},(0,Y.getPatientHomeAddressWithZip)(this.state.patient)||(this.state.loading?"loading...":"Unknown")),c.default.createElement("div",{className:"col-xs-4 col-sm-2 col-lg-1 text-right text-muted"},"ID:"),c.default.createElement("div",{className:"col-xs-8 col-sm-3 col-lg-3 text-left"},this.state.patient.id||(this.state.loading?"loading...":"Unknown")),c.default.createElement("div",{className:"col-xs-4 col-sm-2 col-lg-1 text-right text-muted"},"MRN:"),c.default.createElement("div",{className:"col-xs-8 col-sm-5 col-lg-3 text-left"},(0,Y.getPatientMRN)(this.state.patient)||(this.state.loading?"loading...":"Unknown")),this.state.patient.deceasedBoolean||this.state.patient.deceasedDateTime?c.default.createElement("div",{className:"col-xs-4 col-sm-2 col-lg-1 text-right text-muted"},c.default.createElement("span",{className:"deceased-label"},"Deceased:")):null,this.state.patient.deceasedBoolean||this.state.patient.deceasedDateTime?c.default.createElement("div",{className:"col-xs-8 col-sm-5 col-lg-3 text-left"},this.state.patient.deceasedDateTime?c.default.createElement("span",null,this.state.patient.deceasedDateTime):c.default.createElement("span",null,this.state.patient.deceasedBoolean?"Yes":"No")):null))))}},{key:"renderResources",value:function(e){var t=this.state.groups[e]||[];if(!t.length)return c.default.createElement("p",{className:"text-center text-muted"},'No items of type "',e,'" found');if(0===e.indexOf("Observation"))return c.default.createElement(A.default,{resources:t});switch(e){case"Immunization":return c.default.createElement(T.default,{resources:t});case"Condition":return c.default.createElement(j.default,{resources:t});case"Encounter":return c.default.createElement(M.default,{resources:t});case"CarePlan":return c.default.createElement(D.default,{resources:t});case"Patient":case"Practitioner":case"RelatedPerson":return c.default.createElement(H.default,{resources:t,title:e});default:return c.default.createElement(q.default,{resources:t,type:e,settings:this.props.settings})}}},{key:"render",value:function(){var e=this,t=Object.keys(this.state.groups).sort(),n=this.state.selectedSubCat;return n&&this.state.groups[n]||(n=Object.keys(this.state.groups)[0]||""),t instanceof Array&&t.forEach(function(t){"RiskAssessment"!=t||e.state.alertseen||e.setState({alertseen:!0})}),c.default.createElement("div",{className:"page patient-detail-page"},c.default.createElement("nav",{className:"navbar bg-primary navbar-fixed-top"},c.default.createElement("div",{className:"container-fluid"},c.default.createElement("div",{className:"row navigator"},c.default.createElement("div",{className:"col-xs-4 col-sm-4 col-md-3 col-lg-2"},c.default.createElement(w.Link,{to:"/patient/"+(this.state.index-1),className:"btn btn-primary btn-block",disabled:this.state.index<1},c.default.createElement("i",{className:"fa fa-chevron-left"}),c.default.createElement("b",null,"Prev",c.default.createElement("span",{className:"hidden-xs"},"ious Patient")))),c.default.createElement("div",{className:"col-xs-4 col-sm-4 col-md-6 col-lg-8 text-center"},c.default.createElement(w.Link,{className:"btn btn-block text-center",to:"/"},c.default.createElement("span",{className:"hidden-xs"},"Browse Patients"),c.default.createElement("span",{className:"visible-xs"},"Browse"))),c.default.createElement("div",{className:"col-xs-4 col-sm-4 col-md-3 col-lg-2 text-right"},c.default.createElement(w.Link,{to:"/patient/"+(this.state.index+1),className:"btn btn-primary btn-block",disabled:!this.state.hasNext},c.default.createElement("b",null,"Next",c.default.createElement("span",{className:"hidden-xs"}," Patient")),c.default.createElement("i",{className:"fa fa-chevron-right"})))))),c.default.createElement("div",{className:"container"},this.renderPatient(),t.length?c.default.createElement("div",{className:"row patient-details"},c.default.createElement("br",null),c.default.createElement("div",{className:"col-xs-12 col-sm-3"},c.default.createElement("ul",{className:"list-group"},t.map(function(t,r){return c.default.createElement("a",{href:"#",key:r,className:"list-group-item"+(t===n?" active":""),onClick:function(n){n.preventDefault(),e.setState({selectedSubCat:t})}},c.default.createElement("b",{className:"badge pull-right"},e.state.groups[t].length),c.default.createElement("b",null,t))}))),c.default.createElement("div",{className:"col-xs-12 col-sm-9"},this.renderResources(n))):this.state.loading?null:c.default.createElement("div",{className:"row"},c.default.createElement("div",{className:"col-xs-12 text-muted text-center"},"No additional details for this patient"))),window.opener||window.parent&&window.parent!==window?c.default.createElement("nav",{className:"navbar navbar-default navbar-fixed-bottom"},c.default.createElement("div",{className:"container-fluid",style:{width:"100%"}},c.default.createElement("div",{className:"row"},c.default.createElement("div",{className:"col-xs-12",style:{paddingTop:8}},c.default.createElement(E.default,null))))):null)}}]),t}(c.default.Component);V.propTypes={match:f.default.object,settings:f.default.object,selection:f.default.object,query:f.default.object},t.default=(0,y.connect)(function(e){return e})(V)},321:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PatientList=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),d=n(3),f=r(d),p=n(322),h=r(p),m=n(50),g=n(51),y=n(21),b=n(49),v=r(b),w=n(19),x=n(317),E=r(x),_=n(318),k=r(_),S=n(102),O=r(S),C=n(100),A=r(C);n(547);var P=n(22),T=r(P),N=t.PatientList=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return c.default.createElement("div",{className:"page"},c.default.createElement("div",{className:"row login_bg"},c.default.createElement("div",{className:"col-md-3 login_user"}," Signed in as : ",c.default.createElement("strong",null,T.default.getUsername())),c.default.createElement("div",{className:"col-md-offset-6 col-md-3 logout_button"},c.default.createElement("button",{className:"btn btn-info  navbar-btn navbar-right",style:{marginRight:0},onClick:function(){return T.default.doLogout()}},"Logout"))),c.default.createElement(k.default,{query:this.props.query,settings:this.props.settings,location:this.props.location,urlParams:this.props.urlParams}),c.default.createElement("div",{className:"patient-search-results"},this.renderContents()),c.default.createElement(E.default,{query:this.props.query,bundle:this.props.query.bundle,dispatch:this.props.dispatch,selection:this.props.selection,canShowSelected:!0}))}},{key:"renderContents",value:function(){return this.props.query.error?c.default.createElement(O.default,{error:this.props.query.error}):!this.props.query.bundle||this.props.query.loading?c.default.createElement("div",{className:"patient-search-loading"},c.default.createElement("i",{className:"fa fa-spinner spin"})," Loading. Please wait..."):this.props.query.bundle.entry&&this.props.query.bundle.entry.length?this.renderPatientItems():c.default.createElement(A.default,null,"No patients found to match this search criteria")}},{key:"renderPatientItems",value:function(){var e=this,t=function(t){var n=(t.resource.id||"").toLowerCase(),r=Object.keys(e.props.selection).find(function(e){return e.toLowerCase()==n});return r&&!1!==e.props.selection[r]},n=this.props.query.offset||0,r=this.props.query.bundle.entry||[];return this.props.settings.renderSelectedOnly&&(r=r.filter(t)),r.map(function(r,a){return c.default.createElement(h.default,s({},r.resource,{patient:r.resource,key:r.resource.id,index:n+a,selected:t(r),onSelectionChange:function(t){e.props.settings.renderSelectedOnly&&1===Object.keys(e.props.selection).filter(function(t){return!!e.props.selection[t]}).length?(v.default.dispatch((0,m.setAll)({})),v.default.dispatch((0,g.showSelectedOnly)(!1)),v.default.dispatch((0,y.setParam)({name:"_id",value:void 0})),v.default.dispatch((0,y.fetch)())):v.default.dispatch((0,m.toggle)(t))},query:e.props.query,settings:e.props.settings}))})}}]),t}(c.default.Component);N.propTypes={query:f.default.object,selection:f.default.object,location:f.default.object,settings:f.default.object,urlParams:f.default.object,dispatch:f.default.func},t.default=(0,w.connect)(function(e){return e})(N)},322:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(3),d=r(c),f=n(46),p=n(104),h=r(p),m=n(0),g=r(m),y=n(6),b=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=this,t=(0,y.getPatientAge)(this.props.patient)+" year",n=(0,y.getPatientName)(this.props);return this.props.query.params.name&&(n=(0,y.renderSearchHighlight)(n,this.props.query.params.name)),u.default.createElement(f.Link,{to:"/patient/"+this.props.index,className:"patient"+(this.props.selected?" selected":"")},u.default.createElement("div",{className:"patient-select-zone",onClick:function(t){t.stopPropagation(),t.preventDefault(),e.props.onSelectionChange(e.props.patient)}},u.default.createElement("i",{className:this.props.selected?"fa fa-check-square-o":"fa fa-square-o"})),u.default.createElement(h.default,{patient:this.props.patient,base:this.props.settings.server.url}),u.default.createElement("div",{className:"patient-info"},u.default.createElement("b",null,n," ",this.props.patient.deceasedBoolean||this.props.patient.deceasedDateTime?u.default.createElement("span",{className:"deceased-label"},"Deceased"):null),u.default.createElement("small",null,u.default.createElement("b",null,t)," old ",this.renderGender()),u.default.createElement("footer",{className:"small"},u.default.createElement("span",null,"DOB: ",this.props.patient.birthDate||"Unknown",this.props.patient.deceasedDateTime?" / DOD: "+(0,g.default)(this.props.patient.deceasedDateTime).format("YYYY-MM-DD"):null),u.default.createElement("span",null,"ID: ",this.props.patient.id||"Unknown"),u.default.createElement("span",null,"MRN: ",(0,y.getPatientMRN)(this.props.patient)||"Unknown"))),u.default.createElement("i",{className:"fa fa-angle-right"}))}},{key:"renderGender",value:function(){var e=this.props.patient.gender;return e?u.default.createElement("span",{className:e},(0,y.capFirstLetter)(e)):null}}]),t}(u.default.Component);b.propTypes={patient:d.default.object,query:d.default.object,settings:d.default.object,selected:d.default.bool,onSelectionChange:d.default.func,index:d.default.number},b.defaultProps={onSelectionChange:function(){return 1}},t.default=b},323:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),a=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function(e){var t=e.children;return a.default.isLoggedIn()?null:t};t.default=o},324:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),a=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function(e){var t=e.children;return a.default.isLoggedIn()?t:null};t.default=o},325:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.RootPage=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(19),d=n(49),f=r(d),p=n(321),h=r(p),m=n(320),g=r(m),y=n(307),b=r(y),v=n(46),w=n(26),x=r(w),E=n(323),_=r(E),k=n(324),S=r(k),O=t.RootPage=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){return window.$=window.jQuery=x.default,console.log(f.default.getState()),u.default.createElement("div",null,u.default.createElement(c.Provider,{store:f.default},u.default.createElement(v.BrowserRouter,{history:history},u.default.createElement("div",null,u.default.createElement(_.default,null,u.default.createElement("div",null," Welcome Please login first")),u.default.createElement(S.default,null,u.default.createElement(v.Switch,null,u.default.createElement(b.default,null,u.default.createElement(v.Route,{path:"/",component:h.default,exact:!0}),u.default.createElement(v.Route,{path:"/patient/:index",component:g.default}))))))))}}]),t}(u.default.Component);t.default=O},326:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(3),d=r(c);n(548);var f=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"change",value:function(e,t){if("function"==typeof this.props.onChange){var n=this.parseSort(this.props.sort);t?n[e]=t:n.hasOwnProperty(e)&&delete n[e],this.props.onChange(this.compileSort(n))}}},{key:"parseSort",value:function(e){var t={};return String(e||"").split(",").filter(Boolean).forEach(function(e){var n=e.replace(/^\-/,"");t[n]=0===e.indexOf("-")?"desc":"asc"}),t}},{key:"compileSort",value:function(e){return Object.keys(e).map(function(t){return"desc"==e[t]?"-"+t:t}).join(",")}},{key:"render",value:function(){var e=this,t=this.parseSort(this.props.sort);return u.default.createElement("div",{className:"sort-widget small"},u.default.createElement("span",{className:"pull-left"},"Sort",u.default.createElement("span",{className:"hidden-xs"}," by"),":"),u.default.createElement("ul",{className:"nav nav-pills"},this.props.options.map(function(n,r){return u.default.createElement("li",{key:r,role:"presentation",className:n.value in t?"active":null},u.default.createElement("a",{href:"#",onClick:function(t){switch(t.preventDefault(),e.parseSort(e.props.sort)[n.value]){case"asc":return e.change(n.value,"desc");case"desc":return e.change(n.value,"");default:return e.change(n.value,"asc")}}},n.label||n.name,"asc"==t[n.value]?u.default.createElement("span",{className:"sort"},u.default.createElement("span",{className:"hidden-xs"}," Asc")," ",u.default.createElement("i",{className:"fa fa-sort-amount-asc"})):"desc"==t[n.value]?u.default.createElement("span",{className:"sort"},u.default.createElement("span",{className:"hidden-xs"}," Desc")," ",u.default.createElement("i",{className:"fa fa-sort-amount-desc"})):null))})))}}]),t}(u.default.Component);f.propTypes={sort:d.default.string,options:d.default.arrayOf(d.default.shape({name:d.default.string,value:d.default.string})),onChange:d.default.func},f.defaultProps={sort:"name,-birthdate",options:[{label:u.default.createElement("span",null,u.default.createElement("span",{className:"hidden-xs"},"Patient "),"ID"),name:"Patient ID",value:"_id"},{name:"Name",value:"given"},{name:"Gender",value:"gender"},{name:"DOB",value:"birthdate"}]},t.default=f},327:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(1),f=r(d),p=n(3),h=r(p),m=n(26),g=r(m),y=n(6);n(549);var b=function(e){function t(){var e;o(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return s.state={selected:[],open:!1,selectedIndex:-1,search:""},s.stateFromProps(s.state,s.props),s.addTag=s.addTag.bind(s),s.removeTag=s.removeTag.bind(s),s.onFocus=s.onFocus.bind(s),s.onBlur=s.onBlur.bind(s),s.onKeyDown=s.onKeyDown.bind(s),s.onInput=s.onInput.bind(s),s}return s(t,e),c(t,[{key:"stateFromProps",value:function(e,t){var n=this,r=!1;return t.search&&(e.search=t.search,r=!0),t.selected&&(e.selected=[].concat(a(t.selected.map(function(e){return n.props.tags.find(function(t){return t.key===e})||{key:e,label:e,custom:!0,data:{description:e,codes:{"":[e]}}}}))),r=!0),r}},{key:"componentWillReceiveProps",value:function(e){var t={};this.stateFromProps(t,e)&&this.setState(t)}},{key:"componentDidUpdate",value:function(){var e=this,t=this.refs.menu;if(t){var n=t.clientHeight,r=t.scrollTop,a=parseInt((0,g.default)(t).css("paddingTop"),10),o=parseInt((0,g.default)(t).css("paddingBottom"),10),i=(0,g.default)(".selected",this.refs.menu);if(i.length){var s=i[0].offsetTop,l=i[0].offsetHeight;s<r?requestAnimationFrame(function(){return e.refs.menu.scrollTop=s-a}):s+l-r>n&&requestAnimationFrame(function(){return e.refs.menu.scrollTop=s+l+o-n})}}}},{key:"onFocus",value:function(){this.setState({open:!0})}},{key:"onBlur",value:function(){this.setState({open:!1})}},{key:"onInput",value:function(e){var t=this.filterTags(e.target.value);this.setState({search:e.target.value,open:!0,selectedIndex:t.length&&-1==this.state.selectedIndex?0:this.state.selectedIndex})}},{key:"onKeyDown",value:function(e){var t=this,n=this.filterTags(this.state.search);switch(e.keyCode){case 27:this.setState({open:!1});break;case 13:e.preventDefault(),n.length<2&&this.setState({open:!1});var r=this.state.selectedIndex;r===n.length-1?this.setState({selectedIndex:r-1},function(){t.addTag(n[r])}):this.addTag(n[r]);break;case 40:e.preventDefault();var a=n.length-1;this.setState({open:!0,selectedIndex:Math.min(this.state.selectedIndex+1,a)});break;case 38:e.preventDefault(),this.state.selectedIndex>0?this.setState({selectedIndex:this.state.selectedIndex-1}):this.state.open&&this.setState({open:!1,selectedIndex:-1})}}},{key:"addTag",value:function(e){var t=this;e&&e.key&&(this.state.selected.find(function(t){return t.key===e.key})||this.setState(u({},this.state,{selected:[].concat(a(this.state.selected),[e]),search:"",open:!1,selectedIndex:-1}),function(){return t.props.onChange(t.state.selected)}))}},{key:"removeTag",value:function(e){var t=this;if(e){var n=this.state.selected.findIndex(function(t){return t.key===e});n>-1&&(this.state.selected.splice(n,1),this.setState({},function(){return t.props.onChange(t.state.selected)}))}}},{key:"filterTags",value:function(e){var t=this,n=this.props.tags.filter(function(n){if(t.state.selected.find(function(e){return n.key===e.key}))return!1;if(e){if(n.label.toLowerCase().indexOf(e.toLowerCase())>-1)return!0;if(n.data&&n.data.codes&&"object"==l(n.data.codes))for(var r in n.data.codes)return n.data.codes[r].some(function(t){return t.toLowerCase().indexOf(e.toLowerCase())>-1});return!1}return!0}).sort(function(e,t){return e.label>t.label?1:e.label<t.label?-1:0}).map(function(e){return u({},e)});return this.state.search&&n.unshift({key:this.state.search,label:this.state.search,custom:!0,data:{description:this.state.search,codes:{"":[this.state.search]}}}),n}},{key:"renderTagCode",value:function(e){if(!e||!e.data||!e.data.codes)return null;var t="",n=e.data.codes;if(n["SNOMED-CT"])t=n["SNOMED-CT"].join("|");else for(var r in n){t=n[r].join(",")+" ("+r+")";break}return this.state.search&&(t=(0,y.renderSearchHighlight)(t,this.state.search)),t?f.default.createElement("small",{key:e.key,className:"text-muted code"},t,":"):null}},{key:"renderTag",value:function(e,t){var n=this;return f.default.createElement("div",{className:"menu-item"+(this.state.selectedIndex===t?" selected":"")+(e.custom?" custom text-primary":""),key:e.key,onMouseDown:function(t){t.preventDefault(),n.addTag(e)},title:e.label},e.custom?f.default.createElement("span",null,"Search for ",f.default.createElement("b",{className:"tag custom"},this.state.search),this.props.label?" "+this.props.label:""):null,e.custom?null:this.renderTagCode(e),e.custom?null:(0,y.renderSearchHighlight)(e.label,this.state.search))}},{key:"render",value:function(){var e=this,t=this.filterTags(this.state.search).map(this.renderTag,this),n=0===t.length,r=this.state.selected.map(function(t){return f.default.createElement("div",{className:"tag"+(t.custom?" custom":""),key:t.key},t.label,f.default.createElement("i",{className:"tag-remove fa fa-times-circle",title:"Remove",onMouseDown:function(n){n.preventDefault(),n.stopPropagation(),e.removeTag(t.key)}}))}),a="Type to search";return this.props.label&&(a+=" for "+this.props.label+"s"),a+=" ...",f.default.createElement("div",{className:"tag-selector"+(this.state.open?" open":"")},r.length?f.default.createElement("div",{className:"tags"},r):null,f.default.createElement("input",{className:"input form-control input-sm",placeholder:a,onFocus:this.onFocus,onClick:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onInput:this.onInput,onChange:function(){return 1},value:this.state.search}),f.default.createElement("i",{className:"fa fa-caret-down"}),n&&!this.state.search?null:f.default.createElement("div",{className:"menu dropdown-menu",ref:"menu"},t))}}]),t}(f.default.Component);b.propTypes={tags:h.default.arrayOf(h.default.object),selected:h.default.arrayOf(h.default.string),onChange:h.default.func,search:h.default.string,label:h.default.string},b.defaultProps={onChange:function(){return 1},tags:[],selected:[],search:""},t.default=b},328:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={server:{type:"STU-3",url:"https://r3.smarthealthit.org",conditions:{},tags:[]},hideTagSelector:!1,patientsPerPage:25,timeout:2e4,renderSelectedOnly:!1,fhirViewer:{enabled:!0,url:"http://docs.smarthealthit.org/fhir-viewer/index.html",param:"url"},outputMode:"id-list",submitStrategy:"manual"}},329:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(105),d=n(6),f=n(22),p=r(f),h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e),this.__cache__={},this.__scheduled__={},this.conditions=i({},t.conditions||{}),this.minAge=null,this.maxAge=null,this.gender=t.gender||null,this.limit=t.limit||null,this.offset=null,this.params={},this.queryType=t.queryType||"default",this.queryString=t.queryString||"",this.sort=t.sort||"",this.tags=String(t.tags||"").split(/\s*,\s*/).filter(Boolean)}return s(e,[{key:"schedule",value:function(e){this.__scheduled__=i({},this.__scheduled__,e)}},{key:"hasParam",value:function(e){return this.params.hasOwnProperty(e)}},{key:"setParam",value:function(e,t){var n=this.hasParam(e);return void 0===t?n&&delete this.params[e]:this.params[e]=t,this.offset=null,this.cacheId=null,this}},{key:"setQueryType",value:function(e){return this.queryType="advanced"==e?"advanced":"default",this}},{key:"setQueryString",value:function(e){return this.queryString=String(e||""),this}},{key:"addCondition",value:function(e,t){return this.conditions[e]=t,this.__cache__.patientIDs=null,this}},{key:"removeCondition",value:function(e){return this.conditions.hasOwnProperty(e)&&(delete this.conditions[e],this.__cache__.patientIDs=null),this}},{key:"setConditions",value:function(e){return this.conditions=i({},e),this.schedule({offset:null,cacheId:null}),this.__cache__.patientIDs=null,this}},{key:"addTag",value:function(e){return-1==this.tags.findIndex(e)&&this.tags.push(e),this}},{key:"removeTag",value:function(e){var t=this.tags.findIndex(e);return t>-1&&this.tags.splice(t,1),this}},{key:"setTags",value:function(e){return this.tags=[].concat(a(e)),this.schedule({offset:null,cacheId:null}),this}},{key:"setMinAge",value:function(e){return this.minAge=e,this.schedule({offset:null,cacheId:null}),this}},{key:"setMaxAge",value:function(e){return this.maxAge=e,this.schedule({offset:null,cacheId:null}),this}},{key:"setAgeGroup",value:function(e){switch(this.ageGroup=e,this.schedule({offset:null,cacheId:null}),e){case"infant":this.setMinAge(null),this.setMaxAge({value:1,units:"years"});break;case"child":this.setMinAge({value:1,units:"years"}),this.setMaxAge({value:18,units:"years"});break;case"adult":this.setMinAge({value:18,units:"years"}),this.setMaxAge({value:65,units:"years"});break;case"elderly":this.setMinAge({value:65,units:"years"}),this.setMaxAge(null);break;default:this.setMinAge(null),this.setMaxAge(null)}return this}},{key:"setGender",value:function(e){return e!==this.gender&&(this.gender=e,this.schedule({offset:null,cacheId:null})),this}},{key:"setLimit",value:function(e){return this.limit=(0,d.intVal)(e),this.limit<1&&(this.limit=null),this}},{key:"setOffset",value:function(e,t){return this.offset=(0,d.intVal)(t),this.cacheId=e,this.offset<1&&(this.offset=null,this.cacheId=null),this}},{key:"setSort",value:function(e){return this.sort=e,this.offset=null,this.cacheId=null,this}},{key:"clone",value:function(){var t=new e;return t.conditions=i({},this.conditions),t.params=i({},this.params),t.tags=[].concat(a(this.tags)),t.setSort(this.sort).setAgeGroup(this.ageGroup).setMinAge(this.minAge).setMaxAge(this.maxAge).setGender(this.gender).setLimit(this.limit).setOffset(this.cacheId,this.offset).setQueryType(this.queryType).setQueryString(this.queryString),t}},{key:"reset",value:function(){return this.conditions={},this.minAge=null,this.maxAge=null,this.gender=null,this.limit=null,this.offset=null,this.cacheId=null,this.ageGroup=null,this.params={},this.queryString="",this.queryType="default",this.sort="",this.tags=[],this}},{key:"getState",value:function(){return{conditions:this.conditions,minAge:this.minAge,maxAge:this.maxAge,gender:this.gender,limit:this.limit,offset:this.offset,cacheId:this.cacheId,ageGroup:this.ageGroup,params:i({},this.params),queryString:this.queryString,queryType:this.queryType,sort:this.sort,tags:[].concat(a(this.tags))}}},{key:"compile",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=[];if(["minAge","maxAge","gender","limit","offset","queryType","queryString","sort"].forEach(function(t){e.__scheduled__.hasOwnProperty(t)&&(e[t]=e.__scheduled__[t],delete e.__scheduled__[t])}),this.tags.length&&!this.params._id&&n.push({name:"_tag",value:this.tags.join(",")}),"advanced"==this.queryType){var r=this.queryString.trim();if(r){var a=(0,d.parseQueryString)(r);for(var o in a)n.push({name:o,value:a[o]})}}else if(Object.keys(this.params).forEach(function(t){String(e.params[t]).trim()&&n.push({name:t,value:e.params[t]})}),this.sort&&String(this.sort).split(",").forEach(function(e){0===e.indexOf("-")?n.push({name:"_sort:desc",value:e.substring(1)}):n.push({name:"_sort:asc",value:e})}),!this.params._id){if(this.minAge){var i=(0,u.default)().subtract(this.minAge.value,this.minAge.units);n.push({name:"birthdate",value:"le"+i.format("YYYY-MM-DD")})}if(this.maxAge){var s=(0,u.default)().subtract(this.maxAge.value,this.maxAge.units);n.push({name:"birthdate",value:"ge"+s.format("YYYY-MM-DD")})}if(this.maxAge||this.minAge){var l=n.find(function(e){return"deceased"===e.name});l?l.value=!1:n.push({name:"deceased",value:!1})}this.gender&&n.push({name:"gender",value:this.gender})}return this.limit&&n.push({name:"_count",value:this.limit}),this.offset&&this.cacheId&&n.push({name:"_getpages",value:this.cacheId},{name:"_getpagesoffset",value:this.offset}),n.map(function(e){return t?encodeURIComponent(e.name)+"="+encodeURIComponent(e.value):e.name+"="+e.value}).join("&")}},{key:"hasConditions",value:function(){for(var e in this.conditions)if(this.conditions.hasOwnProperty(e))return!0;return!1}},{key:"compileConditions",value:function(){var e=this,t=[];for(var n in this.conditions)!function(n){var r=e.conditions[n],a=[];for(var o in r.codes)!function(e){var t=(c.CODE_SYSTEMS[e]||{}).url||"http://snomed.info/sct";r.codes[e].forEach(function(e){a.push(t+"|"+e)})}(o);a.length&&t.push(a.join(","))}(n);return t.length?"code="+encodeURIComponent(t.join(",")):""}},{key:"getConditionKeys",value:function(){var e=this,t=[];for(var n in this.conditions)!function(n){var r=e.conditions[n],a=[];for(var o in r.codes)!function(e){var t=(c.CODE_SYSTEMS[e]||{}).url||"http://snomed.info/sct";r.codes[e].forEach(function(e){a.push(t+"|"+e)})}(o);a.length&&t.push(a.join(","))}(n);return t}},{key:"getPatientIDs",value:function(e){var t=this;if(this.__cache__.patientIDs)return Promise.resolve(this.__cache__.patientIDs);var n=this.compileConditions();if(!n)return Promise.resolve([]);var r=this.getConditionKeys(),a={},o=function t(n){if(n.entry){n.entry.forEach(function(t){var n="DSTU-2"==e.type?t.resource.patient.reference.split("/").pop():t.resource.subject.reference.split("/").pop();a[n]||(a[n]=[]),a[n].push(((0,d.getPath)(t,"resource.code.coding.0.system")||"http://snomed.info/sct")+"|"+(0,d.getPath)(t,"resource.code.coding.0.code"))});var o=(n.link||[]).find(function(e){return"next"==e.relation});if(o)return(0,d.request)({url:o.url}).then(t)}return a=Object.keys(a).filter(function(e){return r.every(function(t){return a[e].indexOf(t)>-1})}),Promise.resolve(a)},i=[n];return i.push("DSTU-2"==e.type?"_elements=patient,code":"_elements=subject,code"),i.push("_count=500"),this.tags.length&&i.push("_tag="+encodeURIComponent(this.tags.join(","))),(0,d.request)({url:e.url+"/Condition?"+i.join("&")}).then(o).then(function(e){return t.__cache__.patientIDs=e,e})}},{key:"fetch",value:function(e){var t=this,n=this.compile();"DSTU-2"==e.type&&(n=n.replace(/\bdeceased=(true|false)\b/gi,""));var r={url:this.offset&&this.cacheId?e.url:e.url+"/Patient",method:this.offset&&this.cacheId?"GET":"POST",processData:!1,data:n,headers:{accept:"application/json+fhir","content-type":"application/x-www-form-urlencoded",Authorization:"Bearer "+p.default.getToken()}};return this.getPatientIDs(e).then(function(e){if(e.length)r.data=[r.data,"_id="+encodeURIComponent(e.join(","))].filter(Boolean).join("&");else if(t.hasConditions())return Promise.reject("No patients found with the specified conditions!");return r}).then(d.request)}}]),e}();t.default=h},330:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){return r({},o)};var a=n(6),o=(0,a.parseQueryString)(location.hash.replace(/^.*\?/,""))},331:function(e,t,n){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function a(e){var t=r(e),n=t[0],a=t[1];return 3*(n+a)/4-a}function o(e,t,n){return 3*(t+n)/4-n}function i(e){var t,n,a=r(e),i=a[0],s=a[1],l=new f(o(e,i,s)),u=0,c=s>0?i-4:i;for(n=0;n<c;n+=4)t=d[e.charCodeAt(n)]<<18|d[e.charCodeAt(n+1)]<<12|d[e.charCodeAt(n+2)]<<6|d[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;return 2===s&&(t=d[e.charCodeAt(n)]<<2|d[e.charCodeAt(n+1)]>>4,l[u++]=255&t),1===s&&(t=d[e.charCodeAt(n)]<<10|d[e.charCodeAt(n+1)]<<4|d[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t),l}function s(e){return c[e>>18&63]+c[e>>12&63]+c[e>>6&63]+c[63&e]}function l(e,t,n){for(var r,a=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),a.push(s(r));return a.join("")}function u(e){for(var t,n=e.length,r=n%3,a=[],o=0,i=n-r;o<i;o+=16383)a.push(l(e,o,o+16383>i?i:o+16383));return 1===r?(t=e[n-1],a.push(c[t>>2]+c[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],a.push(c[t>>10]+c[t>>4&63]+c[t<<2&63]+"=")),a.join("")}t.byteLength=a,t.toByteArray=i,t.fromByteArray=u;for(var c=[],d=[],f="undefined"!=typeof Uint8Array?Uint8Array:Array,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,m=p.length;h<m;++h)c[h]=p[h],d[p.charCodeAt(h)]=h;d["-".charCodeAt(0)]=62,d["_".charCodeAt(0)]=63},334:function(e,t,n){t=e.exports=n(11)(!1),t.push([e.i,".age-widget-wrap {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  white-space: nowrap;\n  padding: 0;\n  position: relative;\n  font-size: 12px;\n}\n.age-widget-wrap > * {\n  display: flex;\n  flex-grow: 1;\n  flex-shrink: 1;\n  margin: 0;\n  height: 100%;\n  font-size: 13px;\n}\n.age-widget-wrap select {\n  border: 1px solid transparent;\n  border-radius: 4px;\n  height: 100%;\n}\n.age-widget-wrap.custom > select {\n  flex-grow: 0;\n  min-width: 0;\n  flex-basis: 180px;\n}\n.age-widget-wrap input {\n  height: 100%;\n  border: 1px solid transparent;\n}\n.age-widget {\n  display: flex;\n  flex-basis: 30%;\n  min-width: 0;\n  overflow: hidden;\n  align-items: center;\n  box-shadow: 2px 1px 2px -2px #BBB inset;\n}\n.age-widget:last-of-type {\n  border-radius: 0 3px 3px 0;\n}\n.age-widget span {\n  display: flex;\n  white-space: nowrap;\n  flex-basis: 7ex;\n  flex-shrink: 0;\n  flex-grow: 0;\n  margin: 0 1ex 0 0;\n  flex-direction: column;\n  align-content: flex-end;\n  background: rgba(0, 0, 0, 0.06);\n  box-shadow: 1px 0 0 0 rgba(0, 0, 0, 0.1), 1px 0 2px 0px rgba(0, 0, 0, 0.1);\n  line-height: 2.1em;\n  padding: 0 1ex;\n  text-align: right;\n  height: 100%;\n  font-weight: 500;\n}\n.age-widget input {\n  flex-shrink: 1;\n  flex-grow: 2;\n  flex-basis: 30px;\n  display: flex;\n  margin: 0;\n  background: transparent;\n  min-width: 32px;\n  border-right: 1px dotted rgba(0, 0, 0, 0.2);\n}\n.age-widget select {\n  display: flex;\n  flex-shrink: 1;\n  flex-grow: 1;\n  flex-basis: 6em;\n  min-width: 6em;\n}\n.age-widget:hover {\n  box-shadow: 0 0 0 1px #369;\n  background: #ebf0f5;\n}\n.age-widget.invalid {\n  background: rgba(255, 0, 0, 0.1);\n  background: rgba(255, 0, 0, 0.03) repeating-linear-gradient(-45deg, rgba(255, 50, 0, 0), rgba(255, 50, 0, 0) 2.5px, rgba(255, 0, 0, 0.2) 3px, rgba(255, 50, 0, 0) 3.5px);\n  background-size: 40px 40px;\n}\n@media (max-width: 600px) {\n  .age-widget-wrap.custom {\n    flex-wrap: wrap;\n    white-space: normal;\n    height: auto;\n  }\n  .age-widget-wrap.custom > select {\n    flex-basis: 600px;\n    flex-grow: 1;\n    flex-shrink: 1;\n    width: 100%;\n    line-height: 2.1em;\n    height: 2.1em;\n  }\n  .age-widget-wrap.custom .age-widget {\n    flex-basis: 50%;\n    flex-grow: 1;\n    min-width: none;\n    box-shadow: 0px 3px 0px -2px #DDD inset;\n  }\n  .age-widget-wrap.custom .age-widget:hover {\n    box-shadow: 0 0 0 1px #369;\n    background: #ebf0f5;\n  }\n  .age-widget-wrap.custom .age-widget:last-of-type {\n    border-radius: 0 0 3px 0;\n  }\n  .age-widget-wrap.custom .age-widget ~ .age-widget span {\n    box-shadow: 1px 0 0 0 rgba(0, 0, 0, 0.1), 1px 0 0 0 rgba(0, 0, 0, 0.1) inset, 1px 0 2px 0px rgba(0, 0, 0, 0.1);\n  }\n}\n",""])},335:function(e,t,n){t=e.exports=n(11)(!1),t.push([e.i,"* {\n  box-sizing: border-box;\n}\nhtml {\n  height: 100%;\n  display: block;\n}\nbody {\n  background: linear-gradient(#F6F6F6, #FFF);\n  color: #444;\n  margin: 0;\n  padding: 0;\n  overflow: hidden;\n  height: 100%;\n  font-family: \"Helvetica Neue\", Arial, sans-serif;\n  font-size: 14px;\n  line-height: normal;\n}\na {\n  text-decoration: none;\n  color: #369;\n}\na:disabled,\na[disabled] {\n  pointer-events: none;\n  opacity: 0.4 !important;\n}\nhr {\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.9);\n}\n*:focus {\n  outline: none !important;\n}\n.tab-content {\n  background: linear-gradient(#FFF, transparent);\n  border: 1px solid #DDD;\n  border-top: 0;\n  padding: 15px 15px 0;\n  border-radius: 0 0 5px 5px;\n}\n#overlay {\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(150, 150, 150, 0.1);\n  z-index: 1000000000;\n}\n#main {\n  height: 100%;\n}\n.app {\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n  height: 100%;\n}\n.page {\n  display: flex;\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.page {\n  display: flex;\n}\n.patient-search-loading {\n  display: flex;\n  flex-grow: 1;\n  align-content: center;\n  align-items: center;\n  align-self: center;\n}\n.patient-search-loading .fa {\n  margin: 1ex;\n}\n.spin {\n  animation: spin 2s linear infinite;\n}\n@keyframes spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(359deg);\n  }\n}\n.page {\n  display: flex;\n  flex-grow: 1;\n  flex-direction: column;\n  height: 100%;\n}\n.pre {\n  white-space: pre;\n  font-family: monospace;\n  font-size: 12px;\n  display: block;\n}\n.search-match {\n  background: #FFCF39;\n  box-shadow: 0 0 1px rgba(255, 255, 255, 0.8) inset, 0 0 1px rgba(0, 0, 0, 0.99) !important;\n  border-radius: 2px;\n  text-shadow: 0 0 1px #FFF !important;\n  color: #000 !important;\n}\n.small.pull-left,\n.small.pull-right,\nsmall.pull-left,\nsmall.pull-right {\n  margin-top: 0.5ex;\n}\nlabel[disabled] {\n  color: rgba(0, 0, 0, 0.4);\n  cursor: not-allowed;\n  user-select: none;\n}\n.deceased-label {\n  vertical-align: baseline;\n  color: #e45f00;\n  font-size: 11px;\n  padding: 0px 4px 1px;\n  border-radius: 3px;\n  border: 1px solid #ff6a00;\n  box-shadow: 0 1px 4px 0px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(255, 255, 255, 0.31) inset;\n}\nselect,\nselect.form-control {\n  padding: 0 10px;\n  line-height: 30px;\n  font: inherit;\n  background-color: transparent;\n  background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwMCIgaGVpZ2h0PSI1MTIiIHZpZXdCb3g9IjAgMCAxMDAwIDUxMiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZD0iTSA5Ni4wMCw5Ni4wMGwtOTYuMDAsOTYuMDBsIDI1Ni4wMCwyNTYuMDBsIDI1Ni4wMC0yNTYuMDBsLTk2LjAwLTk2LjAwTCAyNTYuMDAsMjU2LjAwTCA5Ni4wMCw5Ni4wMHoiID48L3BhdGg+PC9zdmc+');\n  background-position: 100% 50%;\n  background-repeat: no-repeat;\n  background-size: 15px;\n  position: relative;\n  padding-right: 20px;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  -ms-appearance: none;\n}\nselect::-ms-expand,\nselect.form-control::-ms-expand {\n  display: none;\n}\n",""])},336:function(e,t,n){t=e.exports=n(11)(!1),t.push([e.i,".dialog-buttons button {\n  min-width: 10em;\n  margin: 0 0 0 1em;\n}\n.dialog-buttons label {\n  margin: 2px 0;\n  display: flex;\n  align-items: center;\n  min-height: 30px;\n}\n.dialog-buttons .btn-group {\n  display: inline-flex;\n  flex: 0 1 18em;\n  line-height: 1;\n  flex-direction: row;\n  box-shadow: 0 1px 1px #FFF;\n  margin: 0 6px;\n}\n.dialog-buttons .btn-group > .btn {\n  display: flex;\n  flex: 1 1 120px;\n  align-items: center;\n  align-content: center;\n  align-self: center;\n  flex-direction: column;\n  min-width: 4em;\n  margin: 0;\n  border: 1px solid #BBB;\n  padding: 4px 2ex;\n  background: linear-gradient(#F9F9F9, #E9E9E9);\n  font-weight: normal;\n  color: #666;\n  text-shadow: 0 1px 0 #FFF;\n  box-shadow: 0 1px 1px #FFF inset;\n  overflow: hidden;\n}\n.dialog-buttons .btn-group > .btn:hover {\n  background: linear-gradient(#FFF, #EEE);\n}\n.dialog-buttons .btn-group > .btn:active,\n.dialog-buttons .btn-group > .btn.active {\n  background: linear-gradient(#CCC, #DDD);\n  box-shadow: 0 1px 1px #BBB inset;\n  border-color: #999 #AAA #BBB;\n}\n.dialog-buttons .btn-group > .btn + .btn {\n  margin-left: -1px;\n}\n.dialog-buttons .btn-group > .btn:first-child {\n  border-radius: 4px 0 0 4px;\n}\n.dialog-buttons .btn-group > .btn:last-child {\n  border-radius: 0 4px 4px 0;\n}\n.dialog-buttons :disabled .btn-group,\n.dialog-buttons [disabled] .btn-group,\n.dialog-buttons .disabled .btn-group {\n  opacity: 0.5;\n  pointer-events: none;\n}\n",""])},337:function(e,t,n){t=e.exports=n(11)(!1),t.push([e.i,".app-footer {\n  position: relative;\n  z-index: 3;\n  display: flex;\n  flex-grow: 0;\n  flex-shrink: 0;\n  justify-content: center;\n  align-items: center;\n  box-shadow: 0 -1px 0 rgba(0, 0, 0, 0.2), 0 0 5px 0 rgba(0, 0, 0, 0.25);\n  text-shadow: 0 1px 0 #FFF;\n  background: #F0F0F0;\n  white-space: nowrap;\n}\n.app-footer .row {\n  padding: 4px 0;\n  box-shadow: 0 -1px 0 0 rgba(0, 0, 0, 0.1) inset;\n}\n.app-footer .row + .row {\n  box-shadow: 0 -1px 0 0 rgba(0, 0, 0, 0.1) inset, 0 1px 0 0 rgba(255, 255, 255, 0.9) inset;\n}\n.app-footer .row:first-child .col-xs-6 {\n  padding: 6px 0px;\n}\n.app-footer a {\n  display: block;\n  padding: 5px 0px;\n  text-align: center;\n  border-radius: 4px;\n  border: 1px solid transparent;\n}\n.app-footer a:hover {\n  background: rgba(51, 122, 183, 0.15);\n  border: 1px solid rgba(51, 122, 183, 0.29);\n}\n",""])},338:function(e,t,n){t=e.exports=n(11)(!1),t.push([e.i,'.app-header {\n  color: #1f3d5c;\n  padding: 5px 0 0;\n  background: linear-gradient(#DFDFDF, #EEE 5px, #e2e2e2);\n  position: relative;\n  z-index: 3;\n  box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 5px 0 rgba(0, 0, 0, 0.5);\n  text-shadow: 0 1px 0 #FFF;\n  display: flex;\n  flex-shrink: 0;\n  flex-direction: column;\n}\n.app-header .nav.nav-tabs {\n  padding-left: 5px;\n}\n.app-header .nav.nav-tabs a {\n  padding: 5px 10px;\n}\n.app-header .tab-content {\n  background: linear-gradient(#FFF, #F6F6F6);\n  border: 0;\n  border-bottom: 1px solid #BBB;\n  padding: 5px 5px 0;\n  border-radius: 0;\n  font-size: small;\n  box-shadow: 0 2px 1px -1px rgba(0, 0, 0, 0.1);\n}\n.app-header .badge {\n  text-shadow: 0 0 1px #FFF;\n  background: rgba(0, 0, 0, 0.08);\n  color: #444;\n  font-weight: 400;\n  box-shadow: 0 0 0.5px 0 rgba(0, 0, 0, 0.2) inset;\n}\n.app-header .advanced-label {\n  margin: 7px 6px 0 0;\n}\n.app-header .advanced-label input[type="checkbox"] {\n  margin: 0;\n  vertical-align: middle;\n}\n.app-header .form-group {\n  margin-bottom: 5px;\n}\n.app-header label,\n.app-header .alert {\n  margin-bottom: 3px;\n}\n.app-header .alert {\n  padding: 5px 10px;\n}\n.app-header .btn-submit {\n  margin: 4px 5px 0 auto;\n  padding: 3px 8px;\n  box-shadow: -13px 3px 0px -6px #e3e3e3, 13px 3px 0px -6px #e3e3e3, 0px 1px 0px 2px #e3e3e3, 0 2px 0 2px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.4), 0px 1px 1px -1px #FFF inset, 0px -17px 0px -5px rgba(0, 0, 0, 0.05) inset;\n  border-radius: 30px;\n  text-shadow: 0 -1px 1px rgba(0, 0, 0, 0.25), 0 0 1px rgba(0, 0, 0, 0.5);\n  border-color: rgba(0, 0, 0, 0.5);\n  position: relative;\n  z-index: 100000000;\n  min-width: 10%;\n}\n',""])},339:function(e,t,n){t=e.exports=n(11)(!1),t.push([e.i,".loader {\n  background: rgba(255, 255, 255, 0.5);\n  text-align: center;\n  position: absolute;\n  z-index: 2;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  border-radius: inherit;\n}\n.loader div {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  font-size: 18px;\n  transform: translate(-50%, -50%);\n  background: #FFF;\n  border-radius: 5px;\n  padding: 1ex 2em;\n  box-shadow: 0 0 1px 0px rgba(0, 0, 0, 0.5), 0 0 15px 1px rgba(0, 0, 0, 0.15);\n}\n",""])},34:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e){var t=e.moment,n=e.format,r=void 0===n?"MM/DD/YYYY":n,o=a(e,["moment","format"]);return s.default.createElement("span",o,(0,d.default)(t).format(r))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(1),s=r(i),l=n(3),u=r(l),c=n(0),d=r(c);o.propTypes={format:u.default.string,moment:u.default.oneOfType([u.default.string,u.default.instanceOf(o),u.default.object]).isRequired}},340:function(e,t,n){t=e.exports=n(11)(!1),t.push([e.i,".modal {\n  position: fixed;\n  z-index: 1;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.25);\n}\n.modal_content {\n  background-color: white;\n  position: absolute;\n  top: 20%;\n  left: 30%;\n  width: 40%;\n  padding: 20px;\n  border-radius: 5px;\n  border: 2px solid black;\n}\n.close {\n  color: Black;\n  float: right;\n}\n.close:hover {\n  color: cyan;\n  cursor: pointer;\n}\nul.no-bullets {\n  list-style-type: none;\n  /* Remove bullets */\n  padding: 0;\n  /* Remove padding */\n  margin: 0;\n  /* Remove margins */\n}\nli.numbered {\n  padding: 1px;\n  padding-left: 20px;\n}\np {\n  margin-top: 10px;\n}\n",""])},341:function(e,t,n){t=e.exports=n(11)(!1),t.push([e.i,'.patient-detail-page {\n  overflow: auto;\n  padding: 65px 0 50px;\n  display: block;\n  -webkit-overflow-scrolling: touch;\n}\n.patient-detail-page > .container {\n  width: 100%;\n}\n.patient-detail-page .navigator {\n  color: #FFF;\n}\n.patient-detail-page .navigator a {\n  white-space: nowrap;\n  padding: 8px 15px;\n  margin: 5px 0;\n  color: #FFF;\n}\n.patient-detail-page .navigator a:hover {\n  background: rgba(0, 0, 0, 0.05);\n}\n.patient-detail-page .navigator .fa {\n  margin: 0 5px;\n}\n.patient-detail-page .embed-responsive {\n  padding-bottom: 100%;\n}\n.patient-detail-page .page-header {\n  margin: 0;\n  padding-bottom: 1.5ex;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n}\n.patient-detail-page .patient {\n  background: transparent;\n  padding: 0;\n  border: 0;\n  box-shadow: none;\n  position: relative;\n}\n.patient-detail-page .patient .text-left {\n  text-shadow: 0 0 1px rgba(0, 0, 0, 0.1);\n}\n.patient-detail-page .patient-row {\n  background: rgba(0, 0, 0, 0.05);\n  border-radius: 3px;\n  margin-bottom: 5px;\n  padding: 5px;\n}\n.patient-detail-page .patient-row:after {\n  content: "";\n  display: table;\n  clear: both;\n}\n.patient-detail-page .patient-row ~ .row > div {\n  padding: 3px 5px;\n}\n.patient-detail-page .patient-row h3 {\n  margin: 0;\n  line-height: 1.45em;\n}\n.patient-detail-page .patient-row .label {\n  margin: 8px 0 0 12px;\n  font-size: 13px;\n}\n.patient-detail-page .patient-row .btn {\n  min-width: 7em;\n  margin: 2px;\n}\n.patient-detail-page .patient-image-wrap {\n  margin-right: 1ex;\n}\n.patient-detail-page .patient-name {\n  font-size: 24px;\n}\n.patient-detail-page td,\n.patient-detail-page th {\n  font-size: 13px;\n  line-height: 16px;\n}\n.patient-detail-page td .text-muted,\n.patient-detail-page th .text-muted {\n  font-weight: 400;\n}\n.patient-detail-page td b,\n.patient-detail-page th b {\n  font-weight: 500;\n}\n.patient-detail-page td label,\n.patient-detail-page th label {\n  margin-bottom: 0;\n}\n.patient-detail-page td td,\n.patient-detail-page th td {\n  vertical-align: top;\n  font-size: 12px;\n  line-height: 16px;\n}\n.patient-detail-page td .label-cell,\n.patient-detail-page th .label-cell {\n  color: #888;\n  white-space: nowrap;\n  text-align: right;\n  font-weight: 400;\n  padding-right: 1ex;\n}\n.patient-detail-page td .label-cell:after,\n.patient-detail-page th .label-cell:after {\n  content: ": ";\n}\n.patient-detail-page td {\n  font-weight: 500;\n}\n.patient-detail-page th {\n  font-weight: 700;\n}\n.patient-detail-page thead th .glyphicon,\n.patient-detail-page thead th .fa {\n  text-shadow: 0 1px 2px #FFF, 0 0 0px #214b6f;\n  color: rgba(51, 122, 183, 0.3);\n}\n.patient-detail-page .patient-details {\n  white-space: normal;\n  word-wrap: break-word;\n}\n.patient-detail-page .patient-details .badge {\n  opacity: 0.75;\n  margin: 0 0 0 2px;\n}\n.patient-detail-page .patient-details table a {\n  white-space: normal;\n  word-break: break-all;\n  word-wrap: break-word;\n}\n.patient-detail-page .patient-details .panel-heading {\n  text-shadow: 0 1px 0 #FFF;\n}\n.patient-detail-page .list-group-item {\n  padding-top: 7px;\n  padding-bottom: 7px;\n}\n.patient-detail-page .group-header {\n  cursor: pointer;\n  background: linear-gradient(90deg, #ebf2f8, #f5f8fb);\n  text-indent: 0;\n}\n.patient-detail-page .group-header .glyphicon-triangle-bottom {\n  position: relative;\n  top: 2px;\n}\n.patient-detail-page .group-header ~ tr > td:first-child {\n  text-indent: 17px;\n}\n.patient-detail-page .group-clear + tr > td:first-child {\n  text-indent: 0;\n}\n.patient-detail-page .group-clear + tr > td:first-child:before {\n  content: "\\E250";\n  position: relative;\n  top: 1px;\n  display: inline-block;\n  font-family: \'Glyphicons Halflings\';\n  font-style: normal;\n  font-weight: 400;\n  line-height: 1;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  margin-right: 3px;\n  opacity: 0.3;\n}\n.patient-detail-page .table-responsive {\n  border: none !important;\n}\n.modal_local {\n  position: fixed;\n  z-index: 1;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.25);\n}\n.modal_content {\n  background-color: white;\n  position: absolute;\n  top: 20%;\n  left: 30%;\n  width: 40%;\n  padding: 20px;\n  border-radius: 5px;\n  border: 2px solid black;\n}\n.close {\n  color: Black;\n  float: right;\n}\n.close:hover {\n  color: cyan;\n  cursor: pointer;\n}\n.alert_heading {\n  text-align: center;\n  color: red;\n  font-size: 20px;\n}\n.orange_hightlight {\n  color: orange;\n}\n.red_hightlight {\n  color: red;\n}\n',""])},342:function(e,t,n){t=e.exports=n(11)(!1),t.push([e.i,".patient-image-wrap {\n  height: 80px;\n  width: 80px;\n  background: #F6F6F6;\n  border-radius: 3px;\n  text-align: center;\n  position: relative;\n  box-shadow: 0 0 0.5px 0 rgba(0, 0, 0, 0.5) inset, 0 0 1px 1px #FFF;\n  background-size: cover;\n  background-position: center;\n  flex-shrink: 0;\n  flex-grow: 0;\n}\n",""])},343:function(e,t,n){t=e.exports=n(11)(!1),t.push([e.i,".login_user {\n  padding: 20px;\n}\n.login_bg {\n  background: brown;\n  color: white;\n}\n.logout_button {\n  padding-right: 20px;\n}\n.patient-search-results {\n  display: flex;\n  flex-grow: 1;\n  flex-direction: column;\n  background: #FFF;\n  overflow: auto;\n  -webkit-overflow-scrolling: touch;\n}\n.patient-search-results .male {\n  color: #369;\n}\n.patient-search-results .female {\n  color: #936;\n}\n.patient-search-results .patient {\n  position: relative;\n  padding: 1ex;\n  cursor: pointer;\n  flex-flow: 0;\n  flex-shrink: 0;\n  align-items: center;\n  display: flex;\n  transition: background 0.1s;\n  color: #444;\n  text-decoration: none;\n  box-shadow: 0 1px 0 rgba(255, 255, 255, 0.85) inset, 0 -1px 0 rgba(0, 0, 0, 0.15) inset;\n}\n.patient-search-results .patient:hover {\n  background: rgba(0, 0, 0, 0.05);\n}\n.patient-search-results .patient .patient-select-zone {\n  display: inline-block;\n  vertical-align: middle;\n  height: 54px;\n  line-height: 54px;\n  width: 30px;\n  border-radius: 3px;\n  text-align: center;\n  color: #369;\n  min-width: 30px;\n}\n.patient-search-results .patient .patient-select-zone:hover {\n  background: rgba(51, 102, 153, 0.1);\n}\n.patient-search-results .patient .fa-angle-right {\n  opacity: 0.5;\n  font-size: 20px;\n  display: flex;\n  flex-basis: 1em;\n}\n.patient-search-results .patient .patient-image-wrap {\n  height: 54px;\n  width: 54px;\n  margin: 0 1ex;\n}\n.patient-search-results .patient .patient-info {\n  flex-grow: 1;\n}\n.patient-search-results .patient .patient-info > b {\n  font-size: 16px;\n  line-height: 1;\n  display: block;\n  margin-bottom: 2px;\n}\n.patient-search-results .patient .patient-info small {\n  opacity: 0.7;\n  display: block;\n}\n.patient-search-results .patient .patient-info footer {\n  opacity: 0.7;\n  display: flex;\n  flex-direction: row;\n  margin-top: 5px;\n}\n.patient-search-results .patient .patient-info footer > span {\n  display: flex;\n  flex-basis: 14em;\n  flex-grow: 1;\n}\n.patient-search-results .patient .patient-info footer > span + span {\n  margin-left: 2em;\n}\n.patient-search-results .patient.selected {\n  background: #369;\n  box-shadow: 0 1px 0 rgba(255, 255, 255, 0.05) inset, 0 -1px 0 rgba(0, 0, 0, 0.15) inset;\n  text-shadow: 0 0 1px #000;\n}\n.patient-search-results .patient.selected,\n.patient-search-results .patient.selected * {\n  color: #FFF;\n}\n.patient-search-results .patient.selected .patient-image-wrap {\n  box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.3), 0 0 0 0.5px rgba(255, 255, 255, 0.5) inset;\n}\n.patient-search-results .patient.selected .patient-select-zone:hover {\n  background: rgba(255, 255, 255, 0.07);\n}\n.patient-search-results .patient.selected:hover {\n  background: #2f5e8e;\n}\n@media (max-width: 480px) {\n  .patient-search-results .patient .patient-info footer span + span {\n    display: none;\n  }\n}\n",""])},344:function(e,t,n){t=e.exports=n(11)(!1),t.push([e.i,".sort-widget {\n  padding: 0 5px;\n  float: left;\n  width: 100%;\n}\n.sort-widget > span {\n  padding: 6px 1ex 0 0;\n  font-weight: bold;\n}\n.sort-widget .nav.nav-pills li {\n  margin: 3px 3px 3px 0;\n}\n.sort-widget .nav.nav-pills li a {\n  padding: 4px 8px;\n}\n.sort-widget .nav.nav-pills li a .sort {\n  opacity: 0.6;\n}\n.sort-widget .nav.nav-pills li.active a,\n.sort-widget .nav.nav-pills li:hover a,\n.sort-widget .nav.nav-pills li:active a,\n.sort-widget .nav.nav-pills li a:focus {\n  box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.2) inset;\n}\n.sort-widget .nav.nav-pills li.active a {\n  text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.3);\n}\n",""])},345:function(e,t,n){t=e.exports=n(11)(!1),t.push([e.i,'.tag-selector {\n  position: relative;\n  display: block;\n  width: 100%;\n  color: #000;\n  min-width: 200px;\n  font-size: small;\n}\n.tag-selector .tags {\n  margin-bottom: 4px;\n}\n.tag-selector input {\n  padding-right: 24px;\n}\n.tag-selector .tag {\n  margin: 1px 6px 1px 0px;\n  padding: 3px 26px 3px 6px;\n  background: #DC9;\n  box-shadow: 0 0 1px 0 rgba(0, 0, 0, 0.5) inset;\n  border-radius: 3px;\n  color: #520;\n  text-shadow: 0 1px 1px rgba(255, 255, 255, 0.3);\n  display: inline-block;\n  position: relative;\n  font-weight: 500;\n  line-height: 1.2;\n  font-size: 12px;\n  cursor: default;\n}\n.tag-selector .tag:last-of-type {\n  margin-right: 0;\n}\n.tag-selector .tag .tag-remove {\n  position: absolute;\n  top: 4px;\n  right: 5px;\n  color: rgba(0, 0, 0, 0.4);\n  text-shadow: none;\n  opacity: 0.6;\n}\n.tag-selector .tag:hover {\n  background-color: #d7c286;\n}\n.tag-selector .tag:hover .tag-remove {\n  opacity: 0.5;\n}\n.tag-selector .tag:hover .tag-remove:hover {\n  opacity: 1;\n  color: #900;\n}\n.tag-selector .tag.custom {\n  background: #adc2d6;\n  color: #19334d;\n}\n.tag-selector .tag.custom:hover {\n  background-color: #9cb5ce;\n}\n.tag-selector .menu {\n  padding: 4px;\n  top: 100%;\n  width: 100%;\n  text-align: left;\n  max-height: 50vh;\n  overflow: auto;\n  z-index: 10000000000;\n}\n.tag-selector .menu-item {\n  padding: 5px 10px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  cursor: default;\n}\n.tag-selector .menu-item small {\n  line-height: 1.4;\n  font-weight: 400;\n}\n.tag-selector .menu-item .code {\n  width: 110px;\n  display: inline-block;\n  text-align: right;\n  padding-right: 1ex;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  float: left;\n  margin: 1px 0 -1px;\n}\n.tag-selector .menu-item:hover {\n  background: rgba(0, 0, 0, 0.1);\n}\n.tag-selector .menu-item.selected {\n  color: #FFF;\n  background: #369;\n  text-shadow: 0 0 1px #000000;\n}\n.tag-selector .menu-item.selected small {\n  color: rgba(255, 255, 255, 0.6);\n  text-shadow: none;\n}\n.tag-selector .menu-item.selected .tag.custom {\n  box-shadow: 0 0 1px 0 rgba(0, 0, 0, 0.5);\n}\n.tag-selector .menu-item.custom {\n  font-weight: bold;\n  cursor: pointer;\n  padding: 3px 10px;\n}\n.tag-selector .menu-item.custom + .menu-item {\n  position: relative;\n  overflow: visible;\n  margin-top: 9px;\n}\n.tag-selector .menu-item.custom + .menu-item:before {\n  content: "";\n  display: block;\n  height: 1px;\n  background: #CCC;\n  position: absolute;\n  top: -5px;\n  left: 0;\n  right: 0;\n}\n.tag-selector .menu-item.custom .tag {\n  margin: 0 1px;\n  padding: 3px 6px;\n  line-height: 1;\n}\n.tag-selector.open {\n  outline: none;\n}\n.tag-selector .fa.fa-caret-down {\n  position: absolute;\n  right: 10px;\n  bottom: 10px;\n  pointer-events: none;\n}\n',""])},364:function(e,t,n){"use strict";function r(e){return!0===a(e)&&"[object Object]"===Object.prototype.toString.call(e)}/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
var a=n(365);e.exports=function(e){var t,n;return!1!==r(e)&&("function"==typeof(t=e.constructor)&&(n=t.prototype,!1!==r(n)&&!1!==n.hasOwnProperty("isPrototypeOf")))}},365:function(e,t,n){"use strict";/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
e.exports=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)}},366:function(module,exports,__webpack_require__){(function(process,global){var __WEBPACK_AMD_DEFINE_RESULT__;/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */
!function(){"use strict";function Sha256(e,t){t?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}function HmacSha256(e,t,n){var r,a=typeof e;if("string"===a){var o,i=[],s=e.length,l=0;for(r=0;r<s;++r)o=e.charCodeAt(r),o<128?i[l++]=o:o<2048?(i[l++]=192|o>>6,i[l++]=128|63&o):o<55296||o>=57344?(i[l++]=224|o>>12,i[l++]=128|o>>6&63,i[l++]=128|63&o):(o=65536+((1023&o)<<10|1023&e.charCodeAt(++r)),i[l++]=240|o>>18,i[l++]=128|o>>12&63,i[l++]=128|o>>6&63,i[l++]=128|63&o);e=i}else{if("object"!==a)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR)}e.length>64&&(e=new Sha256(t,!0).update(e).array());var u=[],c=[];for(r=0;r<64;++r){var d=e[r]||0;u[r]=92^d,c[r]=54^d}Sha256.call(this,t,n),this.update(c),this.oKeyPad=u,this.inner=!0,this.sharedMemory=n}var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD=__webpack_require__(553),ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e,t){return function(n){return new Sha256(t,!0).update(n)[e]()}},createMethod=function(e){var t=createOutputMethod("hex",e);NODE_JS&&(t=nodeWrap(t,e)),t.create=function(){return new Sha256(e)},t.update=function(e){return t.create().update(e)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];t[r]=createOutputMethod(r,e)}return t},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(e){if("string"==typeof e)return crypto.createHash(algorithm).update(e,"utf8").digest("hex");if(null===e||void 0===e)throw new Error(ERROR);return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod},createHmacOutputMethod=function(e,t){return function(n,r){return new HmacSha256(n,t,!0).update(r)[e]()}},createHmacMethod=function(e){var t=createHmacOutputMethod("hex",e);t.create=function(t){return new HmacSha256(t,e)},t.update=function(e,n){return t.create(e).update(n)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];t[r]=createHmacOutputMethod(r,e)}return t};Sha256.prototype.update=function(e){if(!this.finalized){var t,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR);t=!0}for(var r,a,o=0,i=e.length,s=this.blocks;o<i;){if(this.hashed&&(this.hashed=!1,s[0]=this.block,s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0),t)for(a=this.start;o<i&&a<64;++o)s[a>>2]|=e[o]<<SHIFT[3&a++];else for(a=this.start;o<i&&a<64;++o)r=e.charCodeAt(o),r<128?s[a>>2]|=r<<SHIFT[3&a++]:r<2048?(s[a>>2]|=(192|r>>6)<<SHIFT[3&a++],s[a>>2]|=(128|63&r)<<SHIFT[3&a++]):r<55296||r>=57344?(s[a>>2]|=(224|r>>12)<<SHIFT[3&a++],s[a>>2]|=(128|r>>6&63)<<SHIFT[3&a++],s[a>>2]|=(128|63&r)<<SHIFT[3&a++]):(r=65536+((1023&r)<<10|1023&e.charCodeAt(++o)),s[a>>2]|=(240|r>>18)<<SHIFT[3&a++],s[a>>2]|=(128|r>>12&63)<<SHIFT[3&a++],s[a>>2]|=(128|r>>6&63)<<SHIFT[3&a++],s[a>>2]|=(128|63&r)<<SHIFT[3&a++]);this.lastByteIndex=a,this.bytes+=a-this.start,a>=64?(this.block=s[16],this.start=a-64,this.hash(),this.hashed=!0):this.start=a}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var e,t,n,r,a,o,i,s,l,u,c,d=this.h0,f=this.h1,p=this.h2,h=this.h3,m=this.h4,g=this.h5,y=this.h6,b=this.h7,v=this.blocks;for(e=16;e<64;++e)a=v[e-15],t=(a>>>7|a<<25)^(a>>>18|a<<14)^a>>>3,a=v[e-2],n=(a>>>17|a<<15)^(a>>>19|a<<13)^a>>>10,v[e]=v[e-16]+t+v[e-7]+n<<0;for(c=f&p,e=0;e<64;e+=4)this.first?(this.is224?(s=300032,a=v[0]-1413257819,b=a-150054599<<0,h=a+24177077<<0):(s=704751109,a=v[0]-210244248,b=a-1521486534<<0,h=a+143694565<<0),this.first=!1):(t=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),n=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7),s=d&f,r=s^d&p^c,i=m&g^~m&y,a=b+n+i+K[e]+v[e],o=t+r,b=h+a<<0,h=a+o<<0),t=(h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),n=(b>>>6|b<<26)^(b>>>11|b<<21)^(b>>>25|b<<7),l=h&d,r=l^h&f^s,i=b&m^~b&g,a=y+n+i+K[e+1]+v[e+1],o=t+r,y=p+a<<0,p=a+o<<0,t=(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10),n=(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7),u=p&h,r=u^p&d^l,i=y&b^~y&m,a=g+n+i+K[e+2]+v[e+2],o=t+r,g=f+a<<0,f=a+o<<0,t=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),n=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7),c=f&p,r=c^f&h^u,i=g&y^~g&b,a=m+n+i+K[e+3]+v[e+3],o=t+r,m=d+a<<0,d=a+o<<0;this.h0=this.h0+d<<0,this.h1=this.h1+f<<0,this.h2=this.h2+p<<0,this.h3=this.h3+h<<0,this.h4=this.h4+m<<0,this.h5=this.h5+g<<0,this.h6=this.h6+y<<0,this.h7=this.h7+b<<0},Sha256.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,a=this.h4,o=this.h5,i=this.h6,s=this.h7,l=HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i];return this.is224||(l+=HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s]),l},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,a=this.h4,o=this.h5,i=this.h6,s=this.h7,l=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24&255,n>>16&255,n>>8&255,255&n,r>>24&255,r>>16&255,r>>8&255,255&r,a>>24&255,a>>16&255,a>>8&255,255&a,o>>24&255,o>>16&255,o>>8&255,255&o,i>>24&255,i>>16&255,i>>8&255,255&i];return this.is224||l.push(s>>24&255,s>>16&255,s>>8&255,255&s),l},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&void 0!==(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module))&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}()}).call(exports,__webpack_require__(68),__webpack_require__(45))},367:function(e,t,n){var r=t;r.parse=function(){"use strict";var e,t,n,r,a,o,i={"'":"'",'"':'"',"\\":"\\","/":"/","\n":"",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},s=[" ","\t","\r","\n","\v","\f"," ","\ufeff"],l=function(e){return""===e?"EOF":"'"+e+"'"},u=function(r){var o=new SyntaxError;throw o.message=r+" at line "+t+" column "+n+" of the JSON5 data. Still to read: "+JSON.stringify(a.substring(e-1,e+19)),o.at=e,o.lineNumber=t,o.columnNumber=n,o},c=function(o){return o&&o!==r&&u("Expected "+l(o)+" instead of "+l(r)),r=a.charAt(e),e++,n++,("\n"===r||"\r"===r&&"\n"!==d())&&(t++,n=0),r},d=function(){return a.charAt(e)},f=function(){var e=r;for("_"!==r&&"$"!==r&&(r<"a"||r>"z")&&(r<"A"||r>"Z")&&u("Bad identifier as unquoted key");c()&&("_"===r||"$"===r||r>="a"&&r<="z"||r>="A"&&r<="Z"||r>="0"&&r<="9");)e+=r;return e},p=function(){var e,t="",n="",a=10;if("-"!==r&&"+"!==r||(t=r,c(r)),"I"===r)return e=v(),("number"!=typeof e||isNaN(e))&&u("Unexpected word for number"),"-"===t?-e:e;if("N"===r)return e=v(),isNaN(e)||u("expected word to be NaN"),e;switch("0"===r&&(n+=r,c(),"x"===r||"X"===r?(n+=r,c(),a=16):r>="0"&&r<="9"&&u("Octal literal")),a){case 10:for(;r>="0"&&r<="9";)n+=r,c();if("."===r)for(n+=".";c()&&r>="0"&&r<="9";)n+=r;if("e"===r||"E"===r)for(n+=r,c(),"-"!==r&&"+"!==r||(n+=r,c());r>="0"&&r<="9";)n+=r,c();break;case 16:for(;r>="0"&&r<="9"||r>="A"&&r<="F"||r>="a"&&r<="f";)n+=r,c()}if(e="-"===t?-n:+n,isFinite(e))return e;u("Bad number")},h=function(){var e,t,n,a,o="";if('"'===r||"'"===r)for(n=r;c();){if(r===n)return c(),o;if("\\"===r)if(c(),"u"===r){for(a=0,t=0;t<4&&(e=parseInt(c(),16),isFinite(e));t+=1)a=16*a+e;o+=String.fromCharCode(a)}else if("\r"===r)"\n"===d()&&c();else{if("string"!=typeof i[r])break;o+=i[r]}else{if("\n"===r)break;o+=r}}u("Bad string")},m=function(){"/"!==r&&u("Not an inline comment");do{if(c(),"\n"===r||"\r"===r)return void c()}while(r)},g=function(){"*"!==r&&u("Not a block comment");do{for(c();"*"===r;)if(c("*"),"/"===r)return void c("/")}while(r);u("Unterminated block comment")},y=function(){"/"!==r&&u("Not a comment"),c("/"),"/"===r?m():"*"===r?g():u("Unrecognized comment")},b=function(){for(;r;)if("/"===r)y();else{if(!(s.indexOf(r)>=0))return;c()}},v=function(){switch(r){case"t":return c("t"),c("r"),c("u"),c("e"),!0;case"f":return c("f"),c("a"),c("l"),c("s"),c("e"),!1;case"n":return c("n"),c("u"),c("l"),c("l"),null;case"I":return c("I"),c("n"),c("f"),c("i"),c("n"),c("i"),c("t"),c("y"),1/0;case"N":return c("N"),c("a"),c("N"),NaN}u("Unexpected "+l(r))},w=function(){var e=[];if("["===r)for(c("["),b();r;){if("]"===r)return c("]"),e;if(","===r?u("Missing array element"):e.push(o()),b(),","!==r)return c("]"),e;c(","),b()}u("Bad array")},x=function(){var e,t={};if("{"===r)for(c("{"),b();r;){if("}"===r)return c("}"),t;if(e='"'===r||"'"===r?h():f(),b(),c(":"),t[e]=o(),b(),","!==r)return c("}"),t;c(","),b()}u("Bad object")};return o=function(){switch(b(),r){case"{":return x();case"[":return w();case'"':case"'":return h();case"-":case"+":case".":return p();default:return r>="0"&&r<="9"?p():v()}},function(i,s){var l;return a=String(i),e=0,t=1,n=1,r=" ",l=o(),b(),r&&u("Syntax error"),"function"==typeof s?function e(t,n){var r,a,o=t[n];if(o&&"object"==typeof o)for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(a=e(o,r),void 0!==a?o[r]=a:delete o[r]);return s.call(t,n,o)}({"":l},""):l}}(),r.stringify=function(e,t,n){function a(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||"_"===e||"$"===e}function o(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||"_"===e||"$"===e}function i(e){if("string"!=typeof e)return!1;if(!o(e[0]))return!1;for(var t=1,n=e.length;t<n;){if(!a(e[t]))return!1;t++}return!0}function s(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}function l(e){return"[object Date]"===Object.prototype.toString.call(e)}function u(e){for(var t=0;t<m.length;t++)if(m[t]===e)throw new TypeError("Converting circular structure to JSON")}function c(e,t,n){if(!e)return"";e.length>10&&(e=e.substring(0,10));for(var r=n?"":"\n",a=0;a<t;a++)r+=e;return r}function d(e){return g.lastIndex=0,g.test(e)?'"'+e.replace(g,function(e){var t=y[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function f(e,t,n){var r,a,o=p(e,t,n);switch(o&&!l(o)&&(o=o.valueOf()),typeof o){case"boolean":return o.toString();case"number":return isNaN(o)||!isFinite(o)?"null":o.toString();case"string":return d(o.toString());case"object":if(null===o)return"null";if(s(o)){u(o),r="[",m.push(o);for(var g=0;g<o.length;g++)a=f(o,g,!1),r+=c(h,m.length),r+=null===a||void 0===a?"null":a,g<o.length-1?r+=",":h&&(r+="\n");m.pop(),o.length&&(r+=c(h,m.length,!0)),r+="]"}else{u(o),r="{";var y=!1;m.push(o);for(var b in o)if(o.hasOwnProperty(b)){var v=f(o,b,!1);n=!1,void 0!==v&&null!==v&&(r+=c(h,m.length),y=!0,t=i(b)?b:d(b),r+=t+":"+(h?" ":"")+v+",")}m.pop(),r=y?r.substring(0,r.length-1)+c(h,m.length)+"}":"{}"}return r;default:return}}if(t&&"function"!=typeof t&&!s(t))throw new Error("Replacer must be a function or an array");var p=function(e,n,r){var a=e[n];return a&&a.toJSON&&"function"==typeof a.toJSON&&(a=a.toJSON()),"function"==typeof t?t.call(e,n,a):t?r||s(e)||t.indexOf(n)>=0?a:void 0:a};r.isWord=i;var h,m=[];n&&("string"==typeof n?h=n:"number"==typeof n&&n>=0&&(h=c(" ",n,!0)));var g=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,y={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},b={"":e};return void 0===e?p(b,"",!0):f(b,"",!0)}},368:function(e,t,n){"use strict";function r(){u||(u=!0,console.warn("[KEYCLOAK] Usage of legacy style promise methods such as `.error()` and `.success()` has been deprecated and support will be removed in future versions. Use standard style promise methods such as `.then() and `.catch()` instead."))}function a(e){function t(e){var t=null,n=window.crypto||window.msCrypto;if(n&&n.getRandomValues&&window.Uint8Array)return t=new Uint8Array(e),n.getRandomValues(t),t;t=new Array(e);for(var r=0;r<t.length;r++)t[r]=Math.floor(256*Math.random());return t}function n(e){return o(e,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789")}function o(e,n){for(var r=t(e),a=new Array(e),o=0;o<e;o++)a[o]=n.charCodeAt(r[o]%n.length);return String.fromCharCode.apply(null,a)}function s(e,t){switch(e){case"S256":var n=new Uint8Array(l.a.arrayBuffer(t));return i.a.fromByteArray(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"");default:throw"Invalid value for pkceMethod"}}function u(e){var t={id_token:{acr:e}};return JSON.stringify(t)}function c(){return void 0!==j.authServerUrl?"/"==j.authServerUrl.charAt(j.authServerUrl.length-1)?j.authServerUrl+"realms/"+encodeURIComponent(j.realm):j.authServerUrl+"/realms/"+encodeURIComponent(j.realm):void 0}function d(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}function f(e,t){function n(n,r,a,o){i=(i+(new Date).getTime())/2,m(n,r,a,i),U&&(j.tokenParsed&&j.tokenParsed.nonce!=e.storedNonce||j.refreshTokenParsed&&j.refreshTokenParsed.nonce!=e.storedNonce||j.idTokenParsed&&j.idTokenParsed.nonce!=e.storedNonce)?(H("[KEYCLOAK] Invalid nonce, clearing token"),j.clearToken(),t&&t.setError()):o&&(j.onAuthSuccess&&j.onAuthSuccess(),t&&t.setSuccess())}var r=e.code,a=e.error,o=e.prompt,i=(new Date).getTime();if(e.kc_action_status&&j.onActionUpdate&&j.onActionUpdate(e.kc_action_status),a)if("none"!=o){var s={error:a,error_description:e.error_description};j.onAuthError&&j.onAuthError(s),t&&t.setError(s)}else t&&t.setSuccess();else if("standard"!=j.flow&&(e.access_token||e.id_token)&&n(e.access_token,null,e.id_token,!0),"implicit"!=j.flow&&r){var l="code="+r+"&grant_type=authorization_code",u=j.endpoints.token(),c=new XMLHttpRequest;c.open("POST",u,!0),c.setRequestHeader("Content-type","application/x-www-form-urlencoded"),l+="&client_id="+encodeURIComponent(j.clientId),l+="&redirect_uri="+e.redirectUri,e.pkceCodeVerifier&&(l+="&code_verifier="+e.pkceCodeVerifier),c.withCredentials=!0,c.onreadystatechange=function(){if(4==c.readyState)if(200==c.status){var e=JSON.parse(c.responseText);n(e.access_token,e.refresh_token,e.id_token,"standard"===j.flow),k()}else j.onAuthError&&j.onAuthError(),t&&t.setError()},c.send(l)}}function p(t){function n(e){j.endpoints=e?{authorize:function(){return e.authorization_endpoint},token:function(){return e.token_endpoint},logout:function(){if(!e.end_session_endpoint)throw"Not supported by the OIDC server";return e.end_session_endpoint},checkSessionIframe:function(){if(!e.check_session_iframe)throw"Not supported by the OIDC server";return e.check_session_iframe},register:function(){throw'Redirection to "Register user" page not supported in standard OIDC mode'},userinfo:function(){if(!e.userinfo_endpoint)throw"Not supported by the OIDC server";return e.userinfo_endpoint}}:{authorize:function(){return c()+"/protocol/openid-connect/auth"},token:function(){return c()+"/protocol/openid-connect/token"},logout:function(){return c()+"/protocol/openid-connect/logout"},checkSessionIframe:function(){var e=c()+"/protocol/openid-connect/login-status-iframe.html";return j.iframeVersion&&(e=e+"?version="+j.iframeVersion),e},thirdPartyCookiesIframe:function(){var e=c()+"/protocol/openid-connect/3p-cookies/step1.html";return j.iframeVersion&&(e=e+"?version="+j.iframeVersion),e},register:function(){return c()+"/protocol/openid-connect/registrations"},userinfo:function(){return c()+"/protocol/openid-connect/userinfo"}}}var r,a=x();if(e?"string"==typeof e&&(r=e):r="keycloak.json",r){var o=new XMLHttpRequest;o.open("GET",r,!0),o.setRequestHeader("Accept","application/json"),o.onreadystatechange=function(){if(4==o.readyState)if(200==o.status||h(o)){var e=JSON.parse(o.responseText);j.authServerUrl=e["auth-server-url"],j.realm=e.realm,j.clientId=e.resource,n(null),a.setSuccess()}else a.setError()},o.send()}else{if(!e.clientId)throw"clientId missing";j.clientId=e.clientId;var i=e.oidcProvider;if(i)if("string"==typeof i){var s;s="/"==i.charAt(i.length-1)?i+".well-known/openid-configuration":i+"/.well-known/openid-configuration";var o=new XMLHttpRequest;o.open("GET",s,!0),o.setRequestHeader("Accept","application/json"),o.onreadystatechange=function(){if(4==o.readyState)if(200==o.status||h(o)){var e=JSON.parse(o.responseText);n(e),a.setSuccess()}else a.setError()},o.send()}else n(i),a.setSuccess();else{if(!e.url)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++)if(l[u].src.match(/.*keycloak\.js/)){e.url=l[u].src.substr(0,l[u].src.indexOf("/js/keycloak.js"));break}if(!e.realm)throw"realm missing";j.authServerUrl=e.url,j.realm=e.realm,n(null),a.setSuccess()}}return a.promise}function h(e){return 0==e.status&&e.responseText&&e.responseURL.startsWith("file:")}function m(e,t,n,r){if(j.tokenTimeoutHandle&&(clearTimeout(j.tokenTimeoutHandle),j.tokenTimeoutHandle=null),t?(j.refreshToken=t,j.refreshTokenParsed=g(t)):(delete j.refreshToken,delete j.refreshTokenParsed),n?(j.idToken=n,j.idTokenParsed=g(n)):(delete j.idToken,delete j.idTokenParsed),e){if(j.token=e,j.tokenParsed=g(e),j.sessionId=j.tokenParsed.session_state,j.authenticated=!0,j.subject=j.tokenParsed.sub,j.realmAccess=j.tokenParsed.realm_access,j.resourceAccess=j.tokenParsed.resource_access,r&&(j.timeSkew=Math.floor(r/1e3)-j.tokenParsed.iat),null!=j.timeSkew&&(H("[KEYCLOAK] Estimated time difference between browser and server is "+j.timeSkew+" seconds"),j.onTokenExpired)){var a=1e3*(j.tokenParsed.exp-(new Date).getTime()/1e3+j.timeSkew);H("[KEYCLOAK] Token expires in "+Math.round(a/1e3)+" s"),a<=0?j.onTokenExpired():j.tokenTimeoutHandle=setTimeout(j.onTokenExpired,a)}}else delete j.token,delete j.tokenParsed,delete j.subject,delete j.realmAccess,delete j.resourceAccess,j.authenticated=!1}function g(e){switch(e=e.split(".")[1],e=e.replace(/-/g,"+"),e=e.replace(/_/g,"/"),e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Invalid token"}return e=decodeURIComponent(escape(atob(e))),e=JSON.parse(e)}function y(){var e="0123456789abcdef",t=o(36,e).split("");return t[14]="4",t[19]=e.substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")}function b(e){var t=v(e);if(t){var n=N.get(t.state);return n&&(t.valid=!0,t.redirectUri=n.redirectUri,t.storedNonce=n.nonce,t.prompt=n.prompt,t.pkceCodeVerifier=n.pkceCodeVerifier),t}}function v(e){var t;switch(j.flow){case"standard":t=["code","state","session_state","kc_action_status"];break;case"implicit":t=["access_token","token_type","id_token","state","session_state","expires_in","kc_action_status"];break;case"hybrid":t=["access_token","token_type","id_token","code","state","session_state","expires_in","kc_action_status"]}t.push("error"),t.push("error_description"),t.push("error_uri");var n,r,a=e.indexOf("?"),o=e.indexOf("#");if("query"===j.responseMode&&-1!==a?(n=e.substring(0,a),r=w(e.substring(a+1,-1!==o?o:e.length),t),""!==r.paramsString&&(n+="?"+r.paramsString),-1!==o&&(n+=e.substring(o))):"fragment"===j.responseMode&&-1!==o&&(n=e.substring(0,o),r=w(e.substring(o+1),t),""!==r.paramsString&&(n+="#"+r.paramsString)),r&&r.oauthParams)if("standard"===j.flow||"hybrid"===j.flow){if((r.oauthParams.code||r.oauthParams.error)&&r.oauthParams.state)return r.oauthParams.newUrl=n,r.oauthParams}else if("implicit"===j.flow&&(r.oauthParams.access_token||r.oauthParams.error)&&r.oauthParams.state)return r.oauthParams.newUrl=n,r.oauthParams}function w(e,t){for(var n=e.split("&"),r={paramsString:"",oauthParams:{}},a=0;a<n.length;a++){var o=n[a].indexOf("="),i=n[a].slice(0,o);-1!==t.indexOf(i)?r.oauthParams[i]=n[a].slice(o+1):(""!==r.paramsString&&(r.paramsString+="&"),r.paramsString+=n[a])}return r}function x(){var e={setSuccess:function(t){e.resolve(t)},setError:function(t){e.reject(t)}};return e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n}),e.promise.success=function(e){return r(),this.then(function(t){e(t)}),this},e.promise.error=function(e){return r(),this.catch(function(t){e(t)}),this},e}function E(e,t,n){var r=null,a=new Promise(function(e,a){r=setTimeout(function(){a({error:n||"Promise is not settled within timeout of "+t+"ms"})},t)});return Promise.race([e,a]).finally(function(){clearTimeout(r)})}function _(){var e=x();if(!M.enable)return e.setSuccess(),e.promise;if(M.iframe)return e.setSuccess(),e.promise;var t=document.createElement("iframe");M.iframe=t,t.onload=function(){var t=j.endpoints.authorize();"/"===t.charAt(0)?M.iframeOrigin=d():M.iframeOrigin=t.substring(0,t.indexOf("/",8)),e.setSuccess()};var n=j.endpoints.checkSessionIframe();t.setAttribute("src",n),t.setAttribute("title","keycloak-session-iframe"),t.style.display="none",document.body.appendChild(t);var r=function(e){if(e.origin===M.iframeOrigin&&M.iframe.contentWindow===e.source&&("unchanged"==e.data||"changed"==e.data||"error"==e.data)){"unchanged"!=e.data&&j.clearToken();for(var t=M.callbackList.splice(0,M.callbackList.length),n=t.length-1;n>=0;--n){var r=t[n];"error"==e.data?r.setError():r.setSuccess("unchanged"==e.data)}}};return window.addEventListener("message",r,!1),e.promise}function k(){M.enable&&j.token&&setTimeout(function(){S().then(function(e){e&&k()})},1e3*M.interval)}function S(){var e=x();if(M.iframe&&M.iframeOrigin){var t=j.clientId+" "+(j.sessionId?j.sessionId:"");M.callbackList.push(e);var n=M.iframeOrigin;1==M.callbackList.length&&M.iframe.contentWindow.postMessage(t,n)}else e.setSuccess();return e.promise}function O(){var e=x();if(M.enable||j.silentCheckSsoRedirectUri){var t=document.createElement("iframe");t.setAttribute("src",j.endpoints.thirdPartyCookiesIframe()),t.setAttribute("title","keycloak-3p-check-iframe"),t.style.display="none",document.body.appendChild(t);var n=function(r){t.contentWindow===r.source&&("supported"!==r.data&&"unsupported"!==r.data||("unsupported"===r.data&&(M.enable=!1,j.silentCheckSsoFallback&&(j.silentCheckSsoRedirectUri=!1),L("[KEYCLOAK] 3rd party cookies aren't supported by this browser. checkLoginIframe and silent check-sso are not available.")),document.body.removeChild(t),window.removeEventListener("message",n),e.setSuccess()))};window.addEventListener("message",n,!1)}else e.setSuccess();return E(e.promise,j.messageReceiveTimeout,"Timeout when waiting for 3rd party check iframe message.")}function C(e){if(!e||"default"==e)return{login:function(e){return window.location.replace(j.createLoginUrl(e)),x().promise},logout:function(e){return window.location.replace(j.createLogoutUrl(e)),x().promise},register:function(e){return window.location.replace(j.createRegisterUrl(e)),x().promise},accountManagement:function(){var e=j.createAccountUrl();if(void 0===e)throw"Not supported by the OIDC server";return window.location.href=e,x().promise},redirectUri:function(e,t){return e&&e.redirectUri?e.redirectUri:j.redirectUri?j.redirectUri:location.href}};if("cordova"==e){M.enable=!1;var t=function(e,t,n){return window.cordova&&window.cordova.InAppBrowser?window.cordova.InAppBrowser.open(e,t,n):window.open(e,t,n)},n=function(e){return e&&e.cordovaOptions?Object.keys(e.cordovaOptions).reduce(function(t,n){return t[n]=e.cordovaOptions[n],t},{}):{}},r=function(e){return Object.keys(e).reduce(function(t,n){return t.push(n+"="+e[n]),t},[]).join(",")},a=function(e){var t=n(e);return t.location="no",e&&"none"==e.prompt&&(t.hidden="yes"),r(t)};return{login:function(e){var n=x(),r=a(e),o=j.createLoginUrl(e),i=t(o,"_blank",r),s=!1,l=!1,u=function(){l=!0,i.close()};return i.addEventListener("loadstart",function(e){if(0==e.url.indexOf("http://localhost")){f(b(e.url),n),u(),s=!0}}),i.addEventListener("loaderror",function(e){if(!s)if(0==e.url.indexOf("http://localhost")){var t=b(e.url);f(t,n),u(),s=!0}else n.setError(),u()}),i.addEventListener("exit",function(e){l||n.setError({reason:"closed_by_user"})}),n.promise},logout:function(e){var n,r=x(),a=j.createLogoutUrl(e),o=t(a,"_blank","location=no,hidden=yes,clearcache=yes");return o.addEventListener("loadstart",function(e){0==e.url.indexOf("http://localhost")&&o.close()}),o.addEventListener("loaderror",function(e){0==e.url.indexOf("http://localhost")?o.close():(n=!0,o.close())}),o.addEventListener("exit",function(e){n?r.setError():(j.clearToken(),r.setSuccess())}),r.promise},register:function(e){var n=x(),r=j.createRegisterUrl(),o=a(e),i=t(r,"_blank",o);return i.addEventListener("loadstart",function(e){if(0==e.url.indexOf("http://localhost")){i.close();f(b(e.url),n)}}),n.promise},accountManagement:function(){var e=j.createAccountUrl();if(void 0===e)throw"Not supported by the OIDC server";var n=t(e,"_blank","location=no");n.addEventListener("loadstart",function(e){0==e.url.indexOf("http://localhost")&&n.close()})},redirectUri:function(e){return"http://localhost"}}}if("cordova-native"==e)return M.enable=!1,{login:function(e){var t=x(),n=j.createLoginUrl(e);return universalLinks.subscribe("keycloak",function(e){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close(),f(b(e.url),t)}),window.cordova.plugins.browsertab.openUrl(n),t.promise},logout:function(e){var t=x(),n=j.createLogoutUrl(e);return universalLinks.subscribe("keycloak",function(e){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close(),j.clearToken(),t.setSuccess()}),window.cordova.plugins.browsertab.openUrl(n),t.promise},register:function(e){var t=x(),n=j.createRegisterUrl(e);return universalLinks.subscribe("keycloak",function(e){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close(),f(b(e.url),t)}),window.cordova.plugins.browsertab.openUrl(n),t.promise},accountManagement:function(){var e=j.createAccountUrl();if(void 0===e)throw"Not supported by the OIDC server";window.cordova.plugins.browsertab.openUrl(e)},redirectUri:function(e){return e&&e.redirectUri?e.redirectUri:j.redirectUri?j.redirectUri:"http://localhost"}};throw"invalid adapter type: "+e}function A(){try{return new q}catch(e){}return new F}function P(e){return function(){j.enableLogging&&e.apply(console,Array.prototype.slice.call(arguments))}}if(!(this instanceof a))return new a(e);for(var T,N,j=this,R=[],M={enable:!0,callbackList:[],interval:5},I=document.getElementsByTagName("script"),D=0;D<I.length;D++)-1===I[D].src.indexOf("keycloak.js")&&-1===I[D].src.indexOf("keycloak.min.js")||-1===I[D].src.indexOf("version=")||(j.iframeVersion=I[D].src.substring(I[D].src.indexOf("version=")+8).split("&")[0]);var U=!0,H=P(console.info),L=P(console.warn);j.init=function(e){function t(){var t=function(e){e||(r.prompt="none"),j.login(r).then(function(){i.setSuccess()}).catch(function(e){i.setError(e)})},n=function(){var e=document.createElement("iframe"),t=j.createLoginUrl({prompt:"none",redirectUri:j.silentCheckSsoRedirectUri});e.setAttribute("src",t),e.setAttribute("title","keycloak-silent-check-sso"),e.style.display="none",document.body.appendChild(e);var n=function(t){if(t.origin===window.location.origin&&e.contentWindow===t.source){f(b(t.data),i),document.body.removeChild(e),window.removeEventListener("message",n)}};window.addEventListener("message",n)},r={};switch(e.onLoad){case"check-sso":M.enable?_().then(function(){S().then(function(e){e?i.setSuccess():j.silentCheckSsoRedirectUri?n():t(!1)}).catch(function(e){i.setError(e)})}):j.silentCheckSsoRedirectUri?n():t(!1);break;case"login-required":t(!0);break;default:throw"Invalid value for onLoad"}}function n(){var n=b(window.location.href);if(n&&window.history.replaceState(window.history.state,null,n.newUrl),n&&n.valid)return _().then(function(){f(n,i)}).catch(function(e){i.setError(e)});e?e.token&&e.refreshToken?(m(e.token,e.refreshToken,e.idToken),M.enable?_().then(function(){S().then(function(e){e?(j.onAuthSuccess&&j.onAuthSuccess(),i.setSuccess(),k()):i.setSuccess()}).catch(function(e){i.setError(e)})}):j.updateToken(-1).then(function(){j.onAuthSuccess&&j.onAuthSuccess(),i.setSuccess()}).catch(function(n){j.onAuthError&&j.onAuthError(),e.onLoad?t():i.setError(n)})):e.onLoad?t():i.setSuccess():i.setSuccess()}function r(){var e=x(),t=function(){"interactive"!==document.readyState&&"complete"!==document.readyState||(document.removeEventListener("readystatechange",t),e.setSuccess())};return document.addEventListener("readystatechange",t),t(),e.promise}j.authenticated=!1,N=A();var a=["default","cordova","cordova-native"];if(T=e&&a.indexOf(e.adapter)>-1?C(e.adapter):e&&"object"==typeof e.adapter?e.adapter:window.Cordova||window.cordova?C("cordova"):C(),e){if(void 0!==e.useNonce&&(U=e.useNonce),void 0!==e.checkLoginIframe&&(M.enable=e.checkLoginIframe),e.checkLoginIframeInterval&&(M.interval=e.checkLoginIframeInterval),"login-required"===e.onLoad&&(j.loginRequired=!0),e.responseMode){if("query"!==e.responseMode&&"fragment"!==e.responseMode)throw"Invalid value for responseMode";j.responseMode=e.responseMode}if(e.flow){switch(e.flow){case"standard":j.responseType="code";break;case"implicit":j.responseType="id_token token";break;case"hybrid":j.responseType="code id_token token";break;default:throw"Invalid value for flow"}j.flow=e.flow}if(null!=e.timeSkew&&(j.timeSkew=e.timeSkew),e.redirectUri&&(j.redirectUri=e.redirectUri),e.silentCheckSsoRedirectUri&&(j.silentCheckSsoRedirectUri=e.silentCheckSsoRedirectUri),"boolean"==typeof e.silentCheckSsoFallback?j.silentCheckSsoFallback=e.silentCheckSsoFallback:j.silentCheckSsoFallback=!0,e.pkceMethod){if("S256"!==e.pkceMethod)throw"Invalid value for pkceMethod";j.pkceMethod=e.pkceMethod}"boolean"==typeof e.enableLogging?j.enableLogging=e.enableLogging:j.enableLogging=!1,"string"==typeof e.scope&&(j.scope=e.scope),"number"==typeof e.messageReceiveTimeout&&e.messageReceiveTimeout>0?j.messageReceiveTimeout=e.messageReceiveTimeout:j.messageReceiveTimeout=1e4}j.responseMode||(j.responseMode="fragment"),j.responseType||(j.responseType="code",j.flow="standard");var o=x(),i=x();i.promise.then(function(){j.onReady&&j.onReady(j.authenticated),o.setSuccess(j.authenticated)}).catch(function(e){o.setError(e)});var s=p();return s.then(function(){r().then(O).then(n).catch(function(e){o.setError(e)})}),s.catch(function(e){o.setError(e)}),o.promise},j.login=function(e){return T.login(e)},j.createLoginUrl=function(e){var t=y(),r=y(),a=T.redirectUri(e),o={state:t,nonce:r,redirectUri:encodeURIComponent(a)};e&&e.prompt&&(o.prompt=e.prompt);var i;i=e&&"register"==e.action?j.endpoints.register():j.endpoints.authorize();var l=e&&e.scope||j.scope;l?-1===l.indexOf("openid")&&(l="openid "+l):l="openid";var c=i+"?client_id="+encodeURIComponent(j.clientId)+"&redirect_uri="+encodeURIComponent(a)+"&state="+encodeURIComponent(t)+"&response_mode="+encodeURIComponent(j.responseMode)+"&response_type="+encodeURIComponent(j.responseType)+"&scope="+encodeURIComponent(l);if(U&&(c=c+"&nonce="+encodeURIComponent(r)),e&&e.prompt&&(c+="&prompt="+encodeURIComponent(e.prompt)),e&&e.maxAge&&(c+="&max_age="+encodeURIComponent(e.maxAge)),e&&e.loginHint&&(c+="&login_hint="+encodeURIComponent(e.loginHint)),e&&e.idpHint&&(c+="&kc_idp_hint="+encodeURIComponent(e.idpHint)),e&&e.action&&"register"!=e.action&&(c+="&kc_action="+encodeURIComponent(e.action)),e&&e.locale&&(c+="&ui_locales="+encodeURIComponent(e.locale)),e&&e.acr){var d=u(e.acr);c+="&claims="+encodeURIComponent(d)}if(j.pkceMethod){var f=n(96);o.pkceCodeVerifier=f;c+="&code_challenge="+s(j.pkceMethod,f),c+="&code_challenge_method="+j.pkceMethod}return N.add(o),c},j.logout=function(e){return T.logout(e)},j.createLogoutUrl=function(e){var t=j.endpoints.logout()+"?client_id="+encodeURIComponent(j.clientId)+"&post_logout_redirect_uri="+encodeURIComponent(T.redirectUri(e,!1));return j.idToken&&(t+="&id_token_hint="+encodeURIComponent(j.idToken)),t},j.register=function(e){return T.register(e)},j.createRegisterUrl=function(e){return e||(e={}),e.action="register",j.createLoginUrl(e)},j.createAccountUrl=function(e){var t=c(),n=void 0;return void 0!==t&&(n=t+"/account?referrer="+encodeURIComponent(j.clientId)+"&referrer_uri="+encodeURIComponent(T.redirectUri(e))),n},j.accountManagement=function(){return T.accountManagement()},j.hasRealmRole=function(e){var t=j.realmAccess;return!!t&&t.roles.indexOf(e)>=0},j.hasResourceRole=function(e,t){if(!j.resourceAccess)return!1;var n=j.resourceAccess[t||j.clientId];return!!n&&n.roles.indexOf(e)>=0},j.loadUserProfile=function(){var e=c()+"/account",t=new XMLHttpRequest;t.open("GET",e,!0),t.setRequestHeader("Accept","application/json"),t.setRequestHeader("Authorization","bearer "+j.token);var n=x();return t.onreadystatechange=function(){4==t.readyState&&(200==t.status?(j.profile=JSON.parse(t.responseText),n.setSuccess(j.profile)):n.setError())},t.send(),n.promise},j.loadUserInfo=function(){var e=j.endpoints.userinfo(),t=new XMLHttpRequest;t.open("GET",e,!0),t.setRequestHeader("Accept","application/json"),t.setRequestHeader("Authorization","bearer "+j.token);var n=x();return t.onreadystatechange=function(){4==t.readyState&&(200==t.status?(j.userInfo=JSON.parse(t.responseText),n.setSuccess(j.userInfo)):n.setError())},t.send(),n.promise},j.isTokenExpired=function(e){if(!j.tokenParsed||!j.refreshToken&&"implicit"!=j.flow)throw"Not authenticated";if(null==j.timeSkew)return H("[KEYCLOAK] Unable to determine if token is expired as timeskew is not set"),!0;var t=j.tokenParsed.exp-Math.ceil((new Date).getTime()/1e3)+j.timeSkew;if(e){if(isNaN(e))throw"Invalid minValidity";t-=e}return t<0},j.updateToken=function(e){var t=x();if(!j.refreshToken)return t.setError(),t.promise;e=e||5;var n=function(){var n=!1;if(-1==e?(n=!0,H("[KEYCLOAK] Refreshing token: forced refresh")):j.tokenParsed&&!j.isTokenExpired(e)||(n=!0,H("[KEYCLOAK] Refreshing token: token expired")),n){var r="grant_type=refresh_token&refresh_token="+j.refreshToken,a=j.endpoints.token();if(R.push(t),1==R.length){var o=new XMLHttpRequest;o.open("POST",a,!0),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.withCredentials=!0,r+="&client_id="+encodeURIComponent(j.clientId);var i=(new Date).getTime();o.onreadystatechange=function(){if(4==o.readyState)if(200==o.status){H("[KEYCLOAK] Token refreshed"),i=(i+(new Date).getTime())/2;var e=JSON.parse(o.responseText);m(e.access_token,e.refresh_token,e.id_token,i),j.onAuthRefreshSuccess&&j.onAuthRefreshSuccess();for(var t=R.pop();null!=t;t=R.pop())t.setSuccess(!0)}else{L("[KEYCLOAK] Failed to refresh token"),400==o.status&&j.clearToken(),j.onAuthRefreshError&&j.onAuthRefreshError();for(var t=R.pop();null!=t;t=R.pop())t.setError(!0)}},o.send(r)}}else t.setSuccess(!1)};if(M.enable){S().then(function(){n()}).catch(function(e){t.setError(e)})}else n();return t.promise},j.clearToken=function(){j.token&&(m(null,null,null),j.onAuthLogout&&j.onAuthLogout(),j.loginRequired&&j.login())};var q=function(){function e(){for(var e=(new Date).getTime(),t=0;t<localStorage.length;t++){var n=localStorage.key(t);if(n&&0==n.indexOf("kc-callback-")){var r=localStorage.getItem(n);if(r)try{var a=JSON.parse(r).expires;(!a||a<e)&&localStorage.removeItem(n)}catch(e){localStorage.removeItem(n)}}}}if(!(this instanceof q))return new q;localStorage.setItem("kc-test","test"),localStorage.removeItem("kc-test");var t=this;t.get=function(t){if(t){var n="kc-callback-"+t,r=localStorage.getItem(n);return r&&(localStorage.removeItem(n),r=JSON.parse(r)),e(),r}},t.add=function(t){e();var n="kc-callback-"+t.state;t.expires=(new Date).getTime()+36e5,localStorage.setItem(n,JSON.stringify(t))}},F=function(){if(!(this instanceof F))return new F;var e=this;e.get=function(e){if(e){var a=n("kc-callback-"+e);return r("kc-callback-"+e,"",t(-100)),a?JSON.parse(a):void 0}},e.add=function(e){r("kc-callback-"+e.state,JSON.stringify(e),t(60))},e.removeItem=function(e){r(e,"",t(-100))};var t=function(e){var t=new Date;return t.setTime(t.getTime()+60*e*1e3),t},n=function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var a=n[r];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return""},r=function(e,t,n){var r=e+"="+t+"; expires="+n.toUTCString()+"; ";document.cookie=r}}}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return a});var o=n(331),i=n.n(o),s=n(366),l=n.n(s);if("undefined"==typeof Promise)throw Error("Keycloak requires an environment that supports Promises. Make sure that you include the appropriate polyfill.");var u=!1},377:function(e,t,n){"use strict";function r(e,t){for(var n=arguments.length,r=0;++r<n;){var i=arguments[r];o(i)&&s(i,a,e)}return e}function a(e,t){if("__proto__"!==t){var n=this[t];o(e)&&o(n)?r(n,e):this[t]=e}}function o(e){return i(e)&&!Array.isArray(e)}var i=n(379),s=n(378);e.exports=r},378:function(e,t,n){"use strict";/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
e.exports=function(e,t,n){for(var r in e)if(!1===t.call(n,e[r],r,e))break}},379:function(e,t,n){"use strict";/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
var r=n(364);e.exports=function(e){return r(e)||"function"==typeof e||Array.isArray(e)}},48:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.start||"",n=e.end||"";return t&&n?(t=(0,l.default)(t),n=(0,l.default)(n),t.isSame(n,"day")?i.default.createElement("span",null,t.format("MM/DD/YYYY"),t.isSame(n,"hour")?null:i.default.createElement("span",null,i.default.createElement("small",{className:"text-muted"}," from "),t.format("HH:mm"),i.default.createElement("small",{className:"text-muted"}," to "),n.format("HH:mm"))):i.default.createElement("span",null,i.default.createElement("small",{className:"text-muted"}," from "),t.format("MM/DD/YYYY"),i.default.createElement("small",{className:"text-muted"}," to "),n.format("MM/DD/YYYY"))):t?(t=(0,l.default)(t),i.default.createElement("span",null,i.default.createElement("small",{className:"text-muted"}," from "),t.format("MM/DD/YYYY"))):n?(n=(0,l.default)(n),i.default.createElement("span",null,i.default.createElement("small",{className:"text-muted"}," to "),n.format("MM/DD/YYYY"))):i.default.createElement("small",{className:"text-muted"},"N/A")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var o=n(1),i=r(o),s=n(0),l=r(s)},49:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(63),o=n(99),i=r(o),s=n(50),l=r(s),u=n(21),c=r(u),d=n(51),f=r(d),p=n(330),h=r(p),m=[i.default];t.default=(0,a.createStore)((0,a.combineReducers)({selection:l.default,query:c.default,settings:f.default,urlParams:h.default}),a.applyMiddleware.apply(void 0,m))},50:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){(0,l.setHashParam)("_selection",Object.keys(e).filter(function(t){return e.hasOwnProperty(t)&&!!e[t]}).join(","))}Object.defineProperty(t,"__esModule",{value:!0}),t.setSelectionCleared=t.setAll=t.toggle=void 0;var o,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(47),l=n(6),u=(0,l.parseQueryString)(location.hash),c=(0,l.boolVal)(u["single-selection"]),d={};(u._selection||"").split(/\s*,\s*/).forEach(function(e){e&&(c?d=r({},e,!0):d[e]=!0)});var f=i({},d,{selectionCleared:!1}),p="app/selection/TOGGLE";t.toggle=(0,s.createAction)(p),t.setAll=(0,s.createAction)("app/selection/SET_ALL"),t.setSelectionCleared=(0,s.createAction)("app/selection/SELECTION_CLEARED");t.default=(0,s.handleActions)((o={},r(o,p,function(e,t){var n,o=String(t.payload.id),s=(n={},r(n,o,!e[o]&&t.payload),r(n,"selectionCleared",!1),n);return c||(s=i({},e,s)),a(s),s}),r(o,"app/selection/SELECTION_CLEARED",function(e,t){return i({},e,{selectionCleared:!0})}),r(o,"app/selection/SET_ALL",function(e,t){var n=i({},t.payload,{selectionCleared:!1});return a(n),n}),o),f)},51:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.showSelectedOnly=t.replace=t.merge=void 0;var o,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(47),l=n(328),u=r(l),c=n(377),d=r(c),f="app/settings/MERGE";t.merge=(0,s.createAction)(f),t.replace=(0,s.createAction)("app/settings/REPLACE"),t.showSelectedOnly=(0,s.createAction)("app/settings/RENDER_SELECTED_ONLY");t.default=(0,s.handleActions)((o={},a(o,f,function(e,t){return(0,d.default)(e,t.payload,{loaded:!0})}),a(o,"app/settings/RENDER_SELECTED_ONLY",function(e,t){return i({},e,{renderSelectedOnly:!!t.payload})}),a(o,"app/settings/REPLACE",function(e,t){return i({},t.payload)}),o),u.default)},537:function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var a=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(a))return e;var o;return o=0===a.indexOf("//")?a:0===a.indexOf("/")?n+a:r+a.replace(/^\.\//,""),"url("+JSON.stringify(o)+")"})}},538:function(e,t,n){var r=n(334);"string"==typeof r&&(r=[[e.i,r,""]]);n(13)(r,{singleton:!0});r.locals&&(e.exports=r.locals)},539:function(e,t,n){var r=n(335);"string"==typeof r&&(r=[[e.i,r,""]]);n(13)(r,{singleton:!0});r.locals&&(e.exports=r.locals)},540:function(e,t,n){var r=n(336);"string"==typeof r&&(r=[[e.i,r,""]]);n(13)(r,{singleton:!0});r.locals&&(e.exports=r.locals)},541:function(e,t,n){var r=n(337);"string"==typeof r&&(r=[[e.i,r,""]]);n(13)(r,{singleton:!0});r.locals&&(e.exports=r.locals)},542:function(e,t,n){var r=n(338);"string"==typeof r&&(r=[[e.i,r,""]]);n(13)(r,{singleton:!0});r.locals&&(e.exports=r.locals)},543:function(e,t,n){var r=n(339);"string"==typeof r&&(r=[[e.i,r,""]]);n(13)(r,{singleton:!0});r.locals&&(e.exports=r.locals)},544:function(e,t,n){var r=n(340);"string"==typeof r&&(r=[[e.i,r,""]]);n(13)(r,{singleton:!0});r.locals&&(e.exports=r.locals)},545:function(e,t,n){var r=n(341);"string"==typeof r&&(r=[[e.i,r,""]]);n(13)(r,{singleton:!0});r.locals&&(e.exports=r.locals)},546:function(e,t,n){var r=n(342);"string"==typeof r&&(r=[[e.i,r,""]]);n(13)(r,{singleton:!0});r.locals&&(e.exports=r.locals)},547:function(e,t,n){var r=n(343);"string"==typeof r&&(r=[[e.i,r,""]]);n(13)(r,{singleton:!0});r.locals&&(e.exports=r.locals)},548:function(e,t,n){var r=n(344);"string"==typeof r&&(r=[[e.i,r,""]]);n(13)(r,{singleton:!0});r.locals&&(e.exports=r.locals)},549:function(e,t,n){var r=n(345);"string"==typeof r&&(r=[[e.i,r,""]]);n(13)(r,{singleton:!0});r.locals&&(e.exports=r.locals)},553:function(e,t){(function(t){e.exports=t}).call(t,{})},554:function(e,t,n){e.exports=n(304)},6:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=parseInt(e+"",10);return!isNaN(n)&&isFinite(n)||(n=a(t)),n}function o(e){return!/^(false|0|no)$/i.test(String(e))&&(!!/^(true|1|yes)$/i.test(String(e))||!!e)}function i(e){if(e&&"string"==typeof e)return e;var t="Unknown error";if(e&&e instanceof Error?t=String(e):e&&e.responseJSON?t=Array.isArray(e.responseJSON.issue)&&e.responseJSON.issue.length?e.responseJSON.issue.map(function(e){return e.diagnostics||"-"}).join("\n"):e.responseJSON.message||e.responseJSON.error||"Unknown error":e&&e.responseText?t=e.responseText+" - "+e.statusText||"Unknown error":e&&e.statusText&&(t="timeout"==e.statusText?"The server failed to respond in the desired number of seconds":e.statusText||"Unknown error"),t&&"object"==(void 0===t?"undefined":T(t))){var n=[];for(var r in t)n.push(j.createElement("li",{key:r},t[r]));return j.createElement("div",null,["Multiple errors",j.createElement("ul",null,n)])}return String(t).replace(/(Error\:\s)+/,"Error: ")}function s(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").split(".").reduce(function(e,t){return e?e[t]:void 0},e)}function l(e){var t=[];for(var n in e){(function(n){var r=e[n];if(!r&&0!==r)return"continue";Array.isArray(r)?r.forEach(function(e){(e||0===e)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))})(n)}return t.join("&")}function u(e){var t={};return e=String(e||"").trim().split("?").pop(),e.split(/&/).forEach(function(e){var n=e.split("="),r=decodeURIComponent(n[0]);if(r){var a=decodeURIComponent(n[1]||"true");t.hasOwnProperty(r)?(Array.isArray(t[r])||(t[r]=[t[r]]),t[r].push(a)):t[r]=a}}),t}function c(e,t){var n=location.hash.split("?")[1]||"",r=location.hash.replace(/\?.*/,"");n=u(n||""),void 0===t?n.hasOwnProperty(e)&&delete n[e]:n[e]=t,n=l(n),location.hash=r+(n?"?"+n:"")}function d(e){if(Array.isArray(e))return e.find(function(e){return"MR"==e.code})}function f(e){return e.find(function(e){return!!d(s(e,"type.coding"))})}function p(e){var t=null;return Array.isArray(e.identifier)&&e.identifier.length&&(t=f(e.identifier))?t.value:t}function h(e){if(!e)return"";var t=e.name;if(Array.isArray(t)||(t=[t]),!(t=t[0]))return"";var n=Array.isArray(t.family)?t.family:[t.family],r=Array.isArray(t.given)?t.given:[t.given],a=Array.isArray(t.prefix)?t.prefix:[t.prefix],o=Array.isArray(t.suffix)?t.suffix:[t.suffix];return[a.map(function(e){return String(e||"").trim()}).join(" "),r.map(function(e){return String(e||"").trim()}).join(" "),n.map(function(e){return String(e||"").trim()}).join(" "),o.map(function(e){return String(e||"").trim()}).join(" ")].filter(Boolean).join(" ")}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.telecom||[]).find(function(e){return"phone"==e.system});return t?t.value:""}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.telecom||[]).find(function(e){return"email"==e.system});return t?t.value||"":""}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.address||[];t=t.find(function(e){return"home"==e.use})||t[0]||{};var n=[t.line,t.postalCode,t.city,t.country].map(function(e){return String(e||"").trim()}).filter(Boolean).join(" ");return n||(t.text||"")}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="";if(e.address&&e.address instanceof Array)for(var n=0;n<e.address.length;n++)"home"==e.address[n].use&&(t=e.address[n].line[0]+","+e.address[n].city+","+e.address[n].state+" "+e.address[n].postalCode);return t}function v(e){var t=(0,M.default)(e.birthDate),n=(0,M.default)(e.deceasedDateTime||void 0),r=n-t,a=Math.round(r/1e3);if(a<60)return a+" second";var o=Math.round(a/60);if(o<60)return o+" minute";var i=Math.round(o/60);if(i<24)return i+" hour";var s=Math.round(i/24);if(s<30)return s+" day";var l=Math.round(s/30);return l<24?l+" month":Math.round(s/365)}function w(e){return void 0===e?"":e.charAt(0).toUpperCase()+e.slice(1)}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=s(e,"photo.0.data")||"",r=s(e,"photo.0.url")||"",a=s(e,"photo.0.contentType")||"";0===r.indexOf("/")&&(r=t+""+r);var o=r&&r.match(/^https?:\/\//);return!o&&n?(a&&0!==n.indexOf("data:")&&(n="data:"+a+";base64,"+n),r=n):a&&!o&&(r="data:"+a+";base64,"+r),r}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return String(s(e,"coding.0.display")||s(e,"coding.0.code")||e.text||t)}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return void 0===e?t:"string"==typeof e?e||t:E(e,t)}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=String(e),a=String(t),o=r;n||(o=o.toLowerCase(),a=a.toLowerCase());var i=o.indexOf(a);return i>-1?r.substr(0,i)+'<span class="search-match">'+r.substr(i,a.length)+"</span>"+r.substr(i+a.length):e}function S(e,t){return j.createElement("span",{dangerouslySetInnerHTML:{__html:t?k(e,t):e}})}function O(e,t){var n=e.link;return n?(n=n.find(function(e){return e.relation===t}),n&&n.url?n.url:null):null}function C(e){e="string"==typeof e?{url:e}:e||{};var t=D.default.extend(!0,e,{headers:{Accept:"application/json+fhir",Authorization:"Bearer "+H.default.getToken()}});return console.log(t),new Promise(function(e,n){console.info("Requesting "+decodeURIComponent(t.url)),console.info("Headers "+t.headers),D.default.ajax(t).then(e,function(e){var t=i(e);return n(t&&"string"==typeof t?new Error(t):{message:t})})})}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return console.log("getAllPages : "+e),C(e).then(function(n){(n.entry||[]).forEach(function(e){e.fullUrl&&-1==t.findIndex(function(t){return t.fullUrl===e.fullUrl})&&t.push(e)});var r=O(n,"next");return r?A(P({},e,{url:r}),t):t})}Object.defineProperty(t,"__esModule",{value:!0});var P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.intVal=a,t.boolVal=o,t.getErrorMessage=i,t.getPath=s,t.compileQueryString=l,t.parseQueryString=u,t.setHashParam=c,t.findMRNCoding=d,t.findMRNIdentifier=f,t.getPatientMRN=p,t.getPatientName=h,t.getPatientPhone=m,t.getPatientEmail=g,t.getPatientHomeAddress=y,t.getPatientHomeAddressWithZip=b,t.getPatientAge=v,t.capFirstLetter=w,t.getPatientImageUri=x,t.getCodeableConcept=E,t.getCodeOrConcept=_,t.searchHighlight=k,t.renderSearchHighlight=S,t.getBundleURL=O,t.request=C,t.getAllPages=A;var N=n(1),j=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(N),R=n(0),M=r(R),I=n(26),D=r(I),U=n(22),H=r(U)}},[554]);
//# sourceMappingURL=index.js.8733545a1fe7458a0796.map