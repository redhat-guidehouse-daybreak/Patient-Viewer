{"version":3,"sources":["webpack:///index.js","webpack:///./components/Alert/index.js","webpack:///./components/DialogFooter/index.js","webpack:///./components/ErrorMessage/index.js","webpack:///./components/Loader/index.js","webpack:///./components/PatientImage/index.js","webpack:///./lib/constants.js","webpack:///../~/css-loader/lib/css-base.js","webpack:///../~/style-loader/addStyles.js","webpack:///./components/Fhir/Grid/index.js","webpack:///./redux/query.js","webpack:///./services/UserService.js","webpack:///./index.js","webpack:///./components/AgeSelector/index.js","webpack:///./components/App/index.js","webpack:///./components/Fhir/CarePlan.js","webpack:///./components/Fhir/ConditionList.js","webpack:///./components/Fhir/Encounter.js","webpack:///./components/Fhir/ImmunizationList.js","webpack:///./components/Fhir/Observation.js","webpack:///./components/Fhir/Person.js","webpack:///./components/Fhir/ResourceList.js","webpack:///./components/Fhir/Time.js","webpack:///./components/Fhir/ValueRange.js","webpack:///./components/Footer/index.js","webpack:///./components/Header/index.js","webpack:///./components/PatientAlert/index.js","webpack:///./components/PatientDetail/index.js","webpack:///./components/PatientList/index.js","webpack:///./components/PatientListItem/index.js","webpack:///./components/RenderOnAnonymous.jsx","webpack:///./components/RenderOnAuthenticated.jsx","webpack:///./components/RootPage/index.js","webpack:///./components/SortWidget/index.js","webpack:///./components/TagSelector/index.js","webpack:///./config.default.js","webpack:///./lib/PatientSearch.js","webpack:///./redux/urlParams.js","webpack:///../~/base64-js/index.js","webpack:///./components/AgeSelector/AgeSelector.less","webpack:///./components/App/App.less","webpack:///./components/DialogFooter/DialogFooter.less","webpack:///./components/Footer/Footer.less","webpack:///./components/Header/Header.less","webpack:///./components/Loader/Loader.less","webpack:///./components/Fhir/Date.js","webpack:///./components/PatientAlert/PatientAlert.less","webpack:///./components/PatientDetail/PatientDetail.less","webpack:///./components/PatientImage/PatientImage.less","webpack:///./components/PatientList/PatientList.less","webpack:///./components/SortWidget/SortWidget.less","webpack:///./components/TagSelector/TagSelector.less","webpack:///../~/is-plain-object/index.js","webpack:///../~/is-plain-object/~/isobject/index.js","webpack:///../~/js-sha256/src/sha256.js","webpack:///../~/json5/lib/json5.js","webpack:///../~/keycloak-js/dist/keycloak.mjs","webpack:///../~/mixin-deep/index.js","webpack:///../~/mixin-deep/~/for-in/index.js","webpack:///../~/mixin-deep/~/is-extendable/index.js","webpack:///./components/Fhir/Period.js","webpack:///./redux/index.js","webpack:///./redux/selection.js","webpack:///./redux/settings.js","webpack:///../~/style-loader/fixUrls.js","webpack:///./components/AgeSelector/AgeSelector.less?f752","webpack:///./components/App/App.less?e748","webpack:///./components/DialogFooter/DialogFooter.less?53fd","webpack:///./components/Footer/Footer.less?27e7","webpack:///./components/Header/Header.less?b3d6","webpack:///./components/Loader/Loader.less?f4e6","webpack:///./components/PatientAlert/PatientAlert.less?10eb","webpack:///./components/PatientDetail/PatientDetail.less?113a","webpack:///./components/PatientImage/PatientImage.less?24b4","webpack:///./components/PatientList/PatientList.less?311a","webpack:///./components/SortWidget/SortWidget.less?7c58","webpack:///./components/TagSelector/TagSelector.less?15d5","webpack:///../~/webpack/buildin/amd-options.js","webpack:///./lib/index.js"],"names":["webpackJsonp","100","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","_react","_react2","_propTypes","_propTypes2","ICONS","info","warning","danger","success","Alert","_React$Component","this","getPrototypeOf","apply","arguments","createElement","className","style","width","type","close","aria-hidden","data-dismiss","lineHeight","icon","marginRight","children","Component","propTypes","oneOf","bool","any","defaultProps","101","DialogFooter","undefined","_reactRedux","_settings","_query","_selection","IS_POPUP","window","opener","name","IS_FRAME","parent","SelectionUI","_this2","len","keys","selection","filter","viewClass","resetClass","push","settings","renderSelectedOnly","hasSelection","canShowSelected","disabled","join","onClick","onToggleSelectionVisibility","onResetSelection","object","isRequired","func","_React$Component2","_this4","outputMode","k","map","createPatientTransaction","Error","bOn","setParam","showSelectedOnly","_this5","OWNER","selectionCount","postMessage","confirmClose","selectionCleared","confirm","data","export","bind","resetSelection","renderDialogButtons","fetch","connect","state","query","dispatch","bValue","setAll","setSelectionCleared","102","_lib","_Alert","_Alert2","ErrorMessage","getErrorMessage","error","oneOfType","string","103","Loader","104","_objectWithoutProperties","indexOf","hasOwnProperty","hash","input","out","String","toLowerCase","trim","split","reduce","sum","c","charCodeAt","toString","_extends","assign","source","PatientImage","renderCanvas","getPatientImageUri","patient","base","hex","getPatientName","jdenticon","update","id","_props","rest","url","backgroundImage","backgroundColor","height","105","CODE_SYSTEMS","LOINC","SNOMED-CT","RxNorm","CVX","NUBC","UMLS","11","cssWithMappingToString","item","useSourceMap","content","cssMapping","btoa","sourceMapping","toComment","concat","sources","sourceRoot","sourceMap","unescape","encodeURIComponent","JSON","stringify","list","modules","mediaQuery","alreadyImportedModules","13","addStylesToDom","styles","options","domStyle","stylesInDom","refs","j","parts","addStyle","listToStyles","newStyles","css","media","part","insertStyleElement","styleElement","styleTarget","getElement","insertInto","lastStyleElementInsertedAtTop","styleElementsInsertedAtTop","insertAt","nextSibling","insertBefore","appendChild","firstChild","removeStyleElement","parentNode","removeChild","idx","splice","createStyleElement","document","attrs","attachTagAttrs","createLinkElement","linkElement","rel","element","forEach","setAttribute","remove","singleton","styleIndex","singletonCounter","singletonElement","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","updateLink","href","applyToTag","newObj","index","styleSheet","cssText","replaceText","cssNode","createTextNode","childNodes","autoFixUrls","convertToAbsoluteUrls","fixUrls","blob","oldSrc","isOldIE","fn","memo","all","atob","selector","querySelector","DEBUG","newList","mayRemove","textStore","replacement","Boolean","20","_defineProperty","Grid","_this","__rows","sortRows","rows","comparator","newProps","Array","isArray","setState","sort","res","server","resourceType","fhirViewer","enabled","param","open","cursor","cols","col","render","path","cellProps","defaultValue","getPath","__enableGrouping","renderResource","groupColIndex","groupBy","findIndex","label","groupPath","groups","rec","groupValue","group","colSpan","_this3","title","checked","onChange","e","minWidth","headerProps","renderRows","arrayOf","21","goPrev","goNext","setLimit","setTags","delTag","addTag","setSort","setQueryType","setQueryString","setGender","setConditions","delCondition","addCondition","setAgeGroup","setMaxAge","setMinAge","setData","setError","setLoading","queryBuilder","_handleActions","_reduxActions","_PatientSearch","_PatientSearch2","parseQueryString","location","INITIAL_STATE","getState","loading","bundle","createAction","_getState","then","getBundleURL","setOffset","_getpages","_getpagesoffset","handleActions","action","payload","removeCondition","removeTag","22","_keycloakJs","_keycloakJs2","_kc","initKeycloak","onAuthenticatedCallback","init","onLoad","silentCheckSsoRedirectUri","origin","pkceMethod","authenticated","console","log","catch","doLogin","login","doLogout","logout","getToken","token","isLoggedIn","updateToken","successCallback","getUsername","tokenParsed","preferred_username","hasRole","roles","some","role","hasRealmRole","UserService","304","_reactDom","_reactDom2","_UserService","_UserService2","_RootPage","_RootPage2","callback","getElementById","306","_typeof","Symbol","iterator","_moment","_moment2","AgeSelector","_ref","_len","args","_key","onChangeMinValue","onChangeMinUnits","onChangeMaxValue","onChangeMaxUnits","onGroupChange","_propsToState","min","minValue","isNaN","minUnits","units","max","maxValue","maxUnits","newState","onMinChange","valueAsNumber","parseFloat","canSet","onMaxChange","maxDuration","duration","valid","step","shape","number","alert","307","App","_jquery","_jquery2","_json","_json2","_Loader","_Loader2","_ErrorMessage","_ErrorMessage2","runningRequests","hideDelay","handle","clearTimeout","show","setTimeout","hide","ajaxStart","ajaxComplete","Math","handleUiBlocking","_parseQueryString","search","config","params","ajax","dataType","cache","json","parse","ajaxSetup","timeout","errorXHR","warn","statusText","always","settingReceived","onMessage","merge","patientsPerPage","addEventListener","removeEventListener","loaded","308","_Grid","_Grid2","_Period","_Period2","CarePlan","resources","o","resource","a","b","dA","dB","activity","reason","period","309","_constants","_Date","_Date2","ConditionList","recs","code","system","text","coding","display","getCodeOrConcept","clinicalStatus","verificationStatus","onset","onsetDateTime","moment","310","getEncounterClass","encounter","class","getEncounterLabel","result","_class","Encounter","311","ImmunizationList","status","date","occurrenceDateTime","occurrenceString","312","_ValueRange","_ValueRange2","_Time","_Time2","Observations","includeLabel","component","renderObservation","returnResult","getObservationLabel","replace","valueBoolean","valueString","range","valueRange","valueTime","valueDateTime","valuePeriod","round","format","313","Person","identifier","pop","birthDate","314","renderCell","record","allOf","entries","visit","meta","propValue","raw","existing","find","getSortValue","paths","l","v","DataLink","ResourceList","sampleResource","ellipsis","r","t","renderCategory","category","quantity","unit","daysSupply","medicationReference","reference","dangerouslySetInnerHTML","__html","div","authoredOn","dateWritten","performedDateTime","recorded","performedPeriod","availableTime","availableStartTime","availableEndTime","whenHandedOver","issued","effectiveDateTime","assertedDate","lastUpdated","determineSchema","315","Time","_ref$format","instanceOf","Date","316","ValueRange","low","high","317","_DialogFooter","_DialogFooter2","Footer","msg","hasPrev","hasNext","_id","entry","startRec","offset","endRec","total","preventDefault","318","_query2","_redux","_redux2","_TagSelector","_TagSelector2","_AgeSelector","_AgeSelector2","_SortWidget","_SortWidget2","Header","delay","submitStrategy","fetchDelay","padding","margin","onSubmit","placeholder","queryString","ageGroup","gender","minAge","maxAge","age","tags","conditions","condition","description","tag","selected","sel","_advanced","queryType","conditionsCount","demographicsCount","tagsCount","tabs","hideTagSelector","_tab","flexDirection","setHashParam","renderAdvancedTabContents","renderDemographicsTabContents","renderConditionsTabContents","renderTagsTabContents","urlParams","319","PatientAlert","_temp","_ret","handleClick","toggle","getPatientHomeAddress","320","PatientDetail","_PatientImage","_PatientImage2","_reactRouterDom","_Observation","_Observation2","_ImmunizationList","_ImmunizationList2","_ConditionList","_ConditionList2","_Encounter","_Encounter2","_CarePlan","_CarePlan2","_Person","_Person2","_ResourceList","_ResourceList2","_PatientAlert","_PatientAlert2","alertseen","togglePop","clone","selectedSubCat","isEmptyObject","match","intVal","fetchPatient","Promise","resolve","cacheId","reject","nextURL","limit","getAllPages","subCat","charAt","toUpperCase","substr","idLower","paddingRight","getPatientAge","getPatientEmail","getPatientPhone","getPatientMRN","deceasedBoolean","deceasedDateTime","items","Link","to","renderPatient","renderResources","paddingTop","321","PatientList","_PatientListItem","_PatientListItem2","_Footer","_Footer2","_Header","_Header2","renderContents","renderPatientItems","isSelected","onSelectionChange","322","PatientListItem","renderSearchHighlight","stopPropagation","renderGender","323","RenderOnAnonymous","324","RenderOnAuthenticated","325","RootPage","_PatientList","_PatientList2","_PatientDetail","_PatientDetail2","_App","_App2","_RenderOnAnonymous","_RenderOnAnonymous2","_RenderOnAuthenticated","_RenderOnAuthenticated2","$","jQuery","Provider","store","BrowserRouter","history","Switch","Route","exact","326","SortWidget","parseSort","compileSort","s","change","327","_toConsumableArray","arr","arr2","from","TagSelector","selectedIndex","stateFromProps","onFocus","onBlur","onKeyDown","onInput","nextProps","hasChanged","custom","codes","","nextState","menu","menuHeight","clientHeight","menuScrollTop","scrollTop","parseInt","paddingBottom","selectedTop","offsetTop","selectedHeight","offsetHeight","requestAnimationFrame","listed","filterTags","keyCode","maxIndex","_this6","_this7","unshift","_this8","onMouseDown","renderTagCode","_this9","menuItems","renderTag","emptyMenu","ref","328","329","_","PatientSearch","__cache__","__scheduled__","has","hasParam","patientIDs","schedule","inst","encode","prop","str","substring","d","subtract","p","systemUrl","compileConditions","conditionKeys","getConditionKeys","handleConditionsResponse","response","patientID","subject","nextLink","link","relation","request","every","conditionKey","ids","compile","method","processData","headers","accept","content-type","Authorization","getPatientIDs","hasConditions","330","331","getLens","b64","validLen","byteLength","lens","placeHoldersLen","_byteLength","toByteArray","tmp","Arr","curByte","revLookup","tripletToBase64","num","lookup","encodeChunk","uint8","start","end","output","fromByteArray","extraBytes","len2","Uint8Array","334","335","336","337","338","339","34","340","341","342","343","344","345","364","isObjectObject","isObject","ctor","prot","365","val","366","process","global","__WEBPACK_AMD_DEFINE_RESULT__","Sha256","is224","sharedMemory","blocks","h0","h1","h2","h3","h4","h5","h6","h7","block","bytes","hBytes","finalized","hashed","first","HmacSha256","ERROR","ARRAY_BUFFER","ArrayBuffer","isView","array","oKeyPad","iKeyPad","inner","WINDOW","root","JS_SHA256_NO_WINDOW","WEB_WORKER","NODE_JS","JS_SHA256_NO_NODE_JS","versions","node","COMMON_JS","JS_SHA256_NO_COMMON_JS","AMD","JS_SHA256_NO_ARRAY_BUFFER","HEX_CHARS","EXTRA","SHIFT","K","OUTPUT_TYPES","JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW","buffer","createOutputMethod","outputType","message","createMethod","nodeWrap","crypto","eval","Buffer","algorithm","nodeMethod","createHash","digest","createHmacOutputMethod","createHmacMethod","notString","lastByteIndex","finalize","s0","s1","maj","t1","t2","ch","ab","da","cd","bc","f","g","h","arrayBuffer","dataView","DataView","setUint32","innerHash","sha256","sha224","hmac","367","JSON5","at","lineNumber","columnNumber","escapee","'","\"","\\","/","\n","n","ws","renderChar","chr","m","SyntaxError","next","peek","sign","word","isFinite","delim","uffff","fromCharCode","inlineComment","blockComment","comment","white","Infinity","NaN","reviver","walk","holder","replacer","space","isWordChar","isWordStart","isWord","isDate","checkForCircular","objStack","makeIndent","noNewLine","indent","escapeString","escapable","lastIndex","test","slice","internalStringify","isTopLevel","obj_part","getReplacedValueOrUndefined","valueOf","indentStr","nonEmpty","toJSON","\b","\t","\f","\r","topLevelHolder","368","__webpack_exports__","logPromiseDeprecation","loggedPromiseDeprecation","Keycloak","generateRandomData","msCrypto","getRandomValues","floor","random","generateCodeVerifier","generateRandomString","alphabet","randomData","chars","generatePkceChallenge","codeVerifier","hashBytes","__WEBPACK_IMPORTED_MODULE_1_js_sha256___default","__WEBPACK_IMPORTED_MODULE_0_base64_js___default","buildClaimsParameter","requestedAcr","claims","id_token","acr","getRealmUrl","kc","authServerUrl","realm","getOrigin","protocol","hostname","port","processCallback","oauth","promise","authSuccess","accessToken","refreshToken","idToken","fulfillPromise","timeLocal","getTime","setToken","useNonce","nonce","storedNonce","refreshTokenParsed","idTokenParsed","logInfo","clearToken","onAuthSuccess","setSuccess","prompt","onActionUpdate","errorData","error_description","onAuthError","flow","access_token","endpoints","req","XMLHttpRequest","setRequestHeader","clientId","redirectUri","pkceCodeVerifier","withCredentials","onreadystatechange","readyState","tokenResponse","responseText","scheduleCheckIframe","send","loadConfig","setupOidcEndoints","oidcConfiguration","authorize","authorization_endpoint","token_endpoint","end_session_endpoint","checkSessionIframe","check_session_iframe","register","userinfo","userinfo_endpoint","src","iframeVersion","thirdPartyCookiesIframe","configUrl","createPromise","fileLoaded","oidcProvider","oidcProviderConfigUrl","oidcProviderConfig","scripts","getElementsByTagName","xhr","responseURL","startsWith","tokenTimeoutHandle","decodeToken","sessionId","session_state","sub","realmAccess","realm_access","resourceAccess","resource_access","timeSkew","iat","onTokenExpired","expiresIn","decodeURIComponent","escape","createUUID","hexDigits","parseCallback","parseCallbackUrl","oauthState","callbackStorage","get","supportedParams","newUrl","parsed","queryIndex","fragmentIndex","responseMode","parseCallbackParams","paramsString","oauthParams","applyTimeoutToPromise","errorMessage","timeoutHandle","timeoutPromise","race","finally","setupCheckLoginIframe","loginIframe","enable","iframe","onload","authUrl","iframeOrigin","body","messageCallback","event","contentWindow","callbacks","callbackList","checkLoginIframe","unchanged","interval","check3pCookiesSupported","silentCheckSsoFallback","logWarn","messageReceiveTimeout","loadAdapter","createLoginUrl","createLogoutUrl","createRegisterUrl","accountManagement","accountUrl","createAccountUrl","encodeHash","cordovaOpenWindowWrapper","loginUrl","cordova","InAppBrowser","shallowCloneCordovaOptions","userOptions","cordovaOptions","optionName","formatCordovaOptions","createCordovaOptions","hidden","completed","closed","closeBrowser","logoutUrl","registerUrl","universalLinks","subscribe","unsubscribe","plugins","browsertab","openUrl","createCallbackStorage","LocalStorage","err","CookieStorage","createLogger","enableLogging","adapter","refreshQueue","initOptions","initPromise","checkSsoSilently","ifrm","processInit","replaceState","domReady","checkReadyState","adapters","Cordova","checkLoginIframeInterval","loginRequired","responseType","scope","onReady","configPromise","callbackState","baseUrl","loginHint","idpHint","locale","claimsParameter","add","access","hasResourceRole","loadUserProfile","profile","loadUserInfo","userInfo","isTokenExpired","minValidity","ceil","exec","onAuthRefreshSuccess","onAuthRefreshError","onAuthLogout","clearExpired","time","localStorage","getItem","expires","removeItem","setItem","cs","getCookie","setCookie","cookieExpiration","minutes","exp","setTime","ca","cookie","expirationDate","toUTCString","__WEBPACK_IMPORTED_MODULE_0_base64_js__","__WEBPACK_IMPORTED_MODULE_1_js_sha256__","377","mixinDeep","objects","forIn","copy","isExtendable","378","thisArg","379","isPlainObject","48","Period","isSame","49","_reduxThunk","_reduxThunk2","_selection2","_settings2","_urlParams","_urlParams2","middleWares","createStore","combineReducers","applyMiddleware","50","setHashSelection","PARAMS","SINGLE","boolVal","initialSelection","TOGGLE","_newState","51","_configDefault","_configDefault2","_mixinDeep","_mixinDeep2","MERGE","537","host","currentDir","pathname","fullMatch","origUrl","unquotedOrigUrl","$1","538","locals","539","540","541","542","543","544","545","546","547","548","549","553","__webpack_amd_options__","554","6","x","responseJSON","issue","diagnostics","out2","React","compileQueryString","pair","tokens","findMRNCoding","codings","findMRNIdentifier","identifiers","mrn","family","given","prefix","suffix","phone","telecom","address","use","line","postalCode","city","country","seconds","hours","days","months","http","getCodeableConcept","concept","searchHighlight","caseSensitive","q","html","cfg","extend","Accept","fullUrl","nextUrl"],"mappings":"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","file":"index.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ 100:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(3);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ICONS = {\n    info: \"fa fa-info-circle\",\n    warning: \"fa fa-exclamation-circle\",\n    danger: \"fa fa-exclamation-triangle\",\n    success: \"fa fa-thumbs-up\"\n};\n\nvar Alert = function (_React$Component) {\n    _inherits(Alert, _React$Component);\n\n    function Alert() {\n        _classCallCheck(this, Alert);\n\n        return _possibleConstructorReturn(this, (Alert.__proto__ || Object.getPrototypeOf(Alert)).apply(this, arguments));\n    }\n\n    _createClass(Alert, [{\n        key: \"render\",\n        value: function render() {\n            return _react2.default.createElement(\n                \"div\",\n                { className: \"container-fluid\", style: { width: \"100%\" } },\n                _react2.default.createElement(\n                    \"div\",\n                    { className: \"row\" },\n                    _react2.default.createElement(\n                        \"div\",\n                        { className: \"col-xs-12\" },\n                        _react2.default.createElement(\"br\", null),\n                        _react2.default.createElement(\n                            \"div\",\n                            { className: \"alert alert-\" + this.props.type },\n                            this.props.close ? _react2.default.createElement(\n                                \"span\",\n                                {\n                                    \"aria-hidden\": \"true\",\n                                    \"data-dismiss\": \"alert\",\n                                    className: \"close\",\n                                    style: { lineHeight: \"1.2rem\" }\n                                },\n                                \"\\xD7\"\n                            ) : null,\n                            this.props.icon ? _react2.default.createElement(\"i\", { className: ICONS[this.props.type], style: {\n                                    marginRight: \"1ex\"\n                                } }) : null,\n                            this.props.children\n                        ),\n                        _react2.default.createElement(\"br\", null)\n                    )\n                )\n            );\n        }\n    }]);\n\n    return Alert;\n}(_react2.default.Component);\n\nAlert.propTypes = {\n    type: _propTypes2.default.oneOf([\"info\", \"warning\", \"danger\", \"success\"]),\n    close: _propTypes2.default.bool,\n    icon: _propTypes2.default.bool,\n    children: _propTypes2.default.any\n};\nAlert.defaultProps = {\n    type: \"info\",\n    close: true,\n    icon: true\n};\nexports.default = Alert;\n\n/***/ }),\n\n/***/ 101:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.DialogFooter = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(3);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactRedux = __webpack_require__(19);\n\nvar _settings = __webpack_require__(51);\n\nvar _query = __webpack_require__(21);\n\nvar _selection = __webpack_require__(50);\n\n__webpack_require__(540);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar IS_POPUP = window.opener && window.name;\nvar IS_FRAME = parent !== self;\n\nvar SelectionUI = function (_React$Component) {\n    _inherits(SelectionUI, _React$Component);\n\n    function SelectionUI() {\n        _classCallCheck(this, SelectionUI);\n\n        return _possibleConstructorReturn(this, (SelectionUI.__proto__ || Object.getPrototypeOf(SelectionUI)).apply(this, arguments));\n    }\n\n    _createClass(SelectionUI, [{\n        key: \"render\",\n        value: function render() {\n            var _this2 = this;\n\n            var len = Object.keys(this.props.selection).filter(function (key) {\n                return !!_this2.props.selection[key] && key !== \"selectionCleared\";\n            }).length;\n            var viewClass = [\"btn\"];\n            var resetClass = [\"btn\"];\n\n            if (len === 0) {\n                viewClass.push(\"disabled\");\n                resetClass.push(\"disabled\");\n            }\n\n            if (this.props.settings.renderSelectedOnly) {\n                viewClass.push(\"active\");\n            }\n\n            var hasSelection = this.props.canShowSelected && len > 0;\n            return _react2.default.createElement(\n                \"label\",\n                { disabled: len === 0 },\n                _react2.default.createElement(\n                    \"span\",\n                    null,\n                    len + \" patient\" + (len === 1 ? \"\" : \"s\") + \" selected\" + (hasSelection ? ':' : '')\n                ),\n                hasSelection ? _react2.default.createElement(\n                    \"div\",\n                    { className: \"btn-group\" },\n                    _react2.default.createElement(\n                        \"div\",\n                        { className: viewClass.join(\" \"), onClick: function onClick() {\n                                _this2.props.onToggleSelectionVisibility(!_this2.props.settings.renderSelectedOnly);\n                            } },\n                        \"View Selected\"\n                    ),\n                    _react2.default.createElement(\n                        \"div\",\n                        { className: resetClass.join(\" \"), onClick: function onClick() {\n                                _this2.props.onResetSelection();\n                            } },\n                        \"Clear Selected\"\n                    )\n                ) : null\n            );\n        }\n    }]);\n\n    return SelectionUI;\n}(_react2.default.Component);\n\nSelectionUI.propTypes = {\n    settings: _propTypes2.default.object.isRequired,\n    selection: _propTypes2.default.object.isRequired,\n    onToggleSelectionVisibility: _propTypes2.default.func.isRequired,\n    onResetSelection: _propTypes2.default.func.isRequired,\n    canShowSelected: _propTypes2.default.bool\n};\n\nvar DialogFooter = exports.DialogFooter = function (_React$Component2) {\n    _inherits(DialogFooter, _React$Component2);\n\n    function DialogFooter() {\n        _classCallCheck(this, DialogFooter);\n\n        return _possibleConstructorReturn(this, (DialogFooter.__proto__ || Object.getPrototypeOf(DialogFooter)).apply(this, arguments));\n    }\n\n    _createClass(DialogFooter, [{\n        key: \"export\",\n\n\n        /**\n         * Generates and returns the object that will be sent back to the client\n         * when the OK button is clicked\n         */\n        value: function _export() {\n            var _this4 = this;\n\n            // debugger;\n            var selection = this.props.selection;\n\n            switch (this.props.settings.outputMode) {\n\n                case \"id-array\":\n                    // array of patient IDs\n                    return Object.keys(selection).filter(function (k) {\n                        return !!selection[k] && k !== \"selectionCleared\";\n                    });\n\n                case \"transactions\":\n                    // array of JSON transactions objects for each patient\n                    return Object.keys(selection).filter(function (k) {\n                        return !!selection[k] && k !== \"selectionCleared\";\n                    }).map(function (k) {\n                        return _this4.createPatientTransaction(selection[k]);\n                    });\n\n                case \"patients\":\n                    // array of patient JSON objects\n                    return Object.keys(selection).filter(function (k) {\n                        return !!selection[k] && k !== \"selectionCleared\";\n                    }).map(function (k) {\n                        return selection[k];\n                    });\n\n                case \"id-list\":\n                    // comma-separated list of patient IDs (default)\n                    return Object.keys(selection).filter(function (k) {\n                        return !!selection[k] && k !== \"selectionCleared\";\n                    }).join(\",\");\n            }\n        }\n    }, {\n        key: \"createPatientTransaction\",\n        value: function createPatientTransaction() {\n            throw new Error(\"No implemented\");\n        }\n    }, {\n        key: \"showSelectedOnly\",\n        value: function showSelectedOnly(bOn) {\n            if (bOn) {\n                var selection = this.props.selection;\n                this.props.setParam({\n                    name: \"_id\",\n                    value: Object.keys(selection).filter(function (k) {\n                        return !!selection[k];\n                    }).join(\",\")\n                });\n            } else {\n                this.props.setParam({\n                    name: \"_id\",\n                    value: undefined\n                });\n            }\n            this.props.showSelectedOnly(bOn);\n        }\n    }, {\n        key: \"renderDialogButtons\",\n        value: function renderDialogButtons() {\n            var _this5 = this;\n\n            if (!IS_POPUP && !IS_FRAME) {\n                return null;\n            }\n\n            var OWNER = window.opener || window.parent;\n            var selectionCount = Object.keys(this.props.selection).filter(function (key) {\n                return !!_this5.props.selection[key];\n            }).length;\n\n            return _react2.default.createElement(\n                \"div\",\n                { className: \"col-xs-6 text-right\" },\n                _react2.default.createElement(\n                    \"button\",\n                    { className: \"btn btn-default\", onClick: function onClick() {\n                            OWNER.postMessage({ type: \"close\" }, \"*\");\n                        } },\n                    \"Cancel\"\n                ),\n                _react2.default.createElement(\n                    \"button\",\n                    { className: \"btn btn-primary\", onClick: function onClick() {\n                            var confirmClose = true;\n                            if (selectionCount <= 0 && !_this5.props.selection.selectionCleared) {\n                                confirmClose = window.confirm(\"No patients have been selected. Choose 'Cancel' to return to making a selection or 'OK' to close without selecting\");\n                            }\n                            if (confirmClose) {\n                                OWNER.postMessage({\n                                    type: \"result\",\n                                    data: _this5.export()\n                                }, \"*\");\n                            }\n                        } },\n                    \"OK\"\n                )\n            );\n        }\n    }, {\n        key: \"render\",\n        value: function render() {\n            var selection = this.props.selection;\n            selection = Object.keys(selection).filter(function (k) {\n                return !!selection[k];\n            });\n            return _react2.default.createElement(\n                \"div\",\n                { className: \"row dialog-buttons\" },\n                _react2.default.createElement(\n                    \"div\",\n                    { className: \"col-xs-6 text-left\" },\n                    _react2.default.createElement(SelectionUI, {\n                        selection: this.props.selection,\n                        settings: this.props.settings,\n                        onToggleSelectionVisibility: this.showSelectedOnly.bind(this),\n                        onResetSelection: this.props.resetSelection,\n                        canShowSelected: this.props.canShowSelected\n                    })\n                ),\n                this.renderDialogButtons()\n            );\n        }\n    }]);\n\n    return DialogFooter;\n}(_react2.default.Component);\n\nDialogFooter.propTypes = {\n    selection: _propTypes2.default.object.isRequired,\n    settings: _propTypes2.default.object.isRequired,\n    showSelectedOnly: _propTypes2.default.func.isRequired,\n    resetSelection: _propTypes2.default.func.isRequired,\n    setParam: _propTypes2.default.func.isRequired,\n    fetch: _propTypes2.default.func.isRequired,\n    canShowSelected: _propTypes2.default.bool\n};\nexports.default = (0, _reactRedux.connect)(function (state) {\n    return {\n        selection: state.selection,\n        settings: state.settings,\n        query: state.query\n    };\n}, function (dispatch) {\n    return {\n        showSelectedOnly: function showSelectedOnly(bValue) {\n            dispatch((0, _settings.showSelectedOnly)(bValue));\n            dispatch((0, _query.fetch)());\n        },\n        resetSelection: function resetSelection() {\n            dispatch((0, _selection.setAll)({}));\n            dispatch((0, _settings.showSelectedOnly)(false));\n            dispatch((0, _query.setParam)({ name: \"_id\", value: undefined }));\n            dispatch((0, _query.fetch)());\n            dispatch((0, _selection.setSelectionCleared)());\n        },\n        setParam: function setParam(name, value) {\n            return dispatch((0, _query.setParam)(name, value));\n        },\n        fetch: function fetch() {\n            return dispatch((0, _query.fetch)());\n        }\n    };\n})(DialogFooter);\n\n/***/ }),\n\n/***/ 102:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(3);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _lib = __webpack_require__(6);\n\nvar _Alert = __webpack_require__(100);\n\nvar _Alert2 = _interopRequireDefault(_Alert);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ErrorMessage = function (_React$Component) {\n    _inherits(ErrorMessage, _React$Component);\n\n    function ErrorMessage() {\n        _classCallCheck(this, ErrorMessage);\n\n        return _possibleConstructorReturn(this, (ErrorMessage.__proto__ || Object.getPrototypeOf(ErrorMessage)).apply(this, arguments));\n    }\n\n    _createClass(ErrorMessage, [{\n        key: \"render\",\n        value: function render() {\n            return _react2.default.createElement(\n                _Alert2.default,\n                { type: \"danger\" },\n                (0, _lib.getErrorMessage)(this.props.error)\n            );\n        }\n    }]);\n\n    return ErrorMessage;\n}(_react2.default.Component);\n\nErrorMessage.propTypes = {\n    error: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.object])\n};\nErrorMessage.defaultProps = {\n    error: \"Unknown Error\"\n};\nexports.default = ErrorMessage;\n\n/***/ }),\n\n/***/ 103:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\n__webpack_require__(543);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Loader = function (_React$Component) {\n    _inherits(Loader, _React$Component);\n\n    function Loader() {\n        _classCallCheck(this, Loader);\n\n        return _possibleConstructorReturn(this, (Loader.__proto__ || Object.getPrototypeOf(Loader)).apply(this, arguments));\n    }\n\n    _createClass(Loader, [{\n        key: \"render\",\n        value: function render() {\n            return _react2.default.createElement(\n                \"div\",\n                { className: \"loader\" },\n                _react2.default.createElement(\n                    \"div\",\n                    null,\n                    _react2.default.createElement(\"i\", { className: \"fa fa-spinner spin\" }),\n                    \" Loading...\"\n                )\n            );\n        }\n    }]);\n\n    return Loader;\n}(_react2.default.Component);\n\nexports.default = Loader;\n\n/***/ }),\n\n/***/ 104:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(3);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _lib = __webpack_require__(6);\n\n__webpack_require__(546);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* global jdenticon */\n\n\nfunction hash(input) {\n    var out = String(input).toLowerCase().trim().split(\"\").reduce(function (sum, c) {\n        return sum + c.charCodeAt(0).toString(16);\n    }, \"\");\n    while (out.length < 11) {\n        out += out.length ? out : \"000000000000\";\n    }\n    return out;\n}\n\nvar PatientImage = function (_React$Component) {\n    _inherits(PatientImage, _React$Component);\n\n    function PatientImage() {\n        _classCallCheck(this, PatientImage);\n\n        return _possibleConstructorReturn(this, (PatientImage.__proto__ || Object.getPrototypeOf(PatientImage)).apply(this, arguments));\n    }\n\n    _createClass(PatientImage, [{\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n            this.renderCanvas();\n        }\n    }, {\n        key: \"componentDidUpdate\",\n        value: function componentDidUpdate() {\n            this.renderCanvas();\n        }\n    }, {\n        key: \"renderCanvas\",\n        value: function renderCanvas() {\n            var url = (0, _lib.getPatientImageUri)(this.props.patient, this.props.base);\n            if (!url) {\n                var hex = hash((0, _lib.getPatientName)(this.props.patient));\n                jdenticon.update(\"#img-\" + this.props.patient.id, hex, 0.1);\n            }\n        }\n    }, {\n        key: \"render\",\n        value: function render() {\n            var _props = this.props,\n                className = _props.className,\n                style = _props.style,\n                patient = _props.patient,\n                base = _props.base,\n                rest = _objectWithoutProperties(_props, [\"className\", \"style\", \"patient\", \"base\"]);\n\n            var url = (0, _lib.getPatientImageUri)(patient, this.props.base);\n            className = \"patient-image-wrap \" + (className || \"\");\n\n            style = _extends({}, style || {});\n\n            if (url) {\n                style.backgroundImage = \"url('\" + url + \"')\";\n                style.backgroundColor = 'rgba(255, 255, 255, 0.6)';\n            }\n\n            return _react2.default.createElement(\n                \"div\",\n                _extends({ className: className, style: style }, rest),\n                url ? null : _react2.default.createElement(\"canvas\", {\n                    width: \"480\",\n                    height: \"480\",\n                    style: { width: \"100%\", height: \"100%\" },\n                    id: \"img-\" + patient.id\n                })\n            );\n        }\n    }]);\n\n    return PatientImage;\n}(_react2.default.Component);\n\nPatientImage.propTypes = {\n    patient: _propTypes2.default.object.isRequired,\n    className: _propTypes2.default.string,\n    style: _propTypes2.default.object,\n    base: _propTypes2.default.string\n};\nPatientImage.defaultProps = {\n    base: \"\"\n};\nexports.default = PatientImage;\n\n/***/ }),\n\n/***/ 105:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar CODE_SYSTEMS = exports.CODE_SYSTEMS = {\n    'LOINC': { url: 'http://loinc.org' },\n    'SNOMED-CT': { url: 'http://snomed.info/sct' },\n    'RxNorm': { url: 'http://www.nlm.nih.gov/research/umls/rxnorm' },\n    'CVX': { url: 'http://hl7.org/fhir/sid/cvx' },\n    'NUBC': { url: 'http://www.nubc.org/patient-discharge' },\n    'UMLS': { url: 'http://uts.nlm.nih.gov/metathesaurus' }\n};\n\n/***/ }),\n\n/***/ 11:\n/***/ (function(module, exports) {\n\n/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n/***/ }),\n\n/***/ 13:\n/***/ (function(module, exports, __webpack_require__) {\n\n/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\nvar stylesInDom = {},\n\tmemoize = function(fn) {\n\t\tvar memo;\n\t\treturn function () {\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\t\treturn memo;\n\t\t};\n\t},\n\tisOldIE = memoize(function() {\n\t\t// Test for IE <= 9 as proposed by Browserhacks\n\t\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t\t// Tests for existence of standard globals is to allow style-loader \n\t\t// to operate correctly into non-standard environments\n\t\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\t\treturn window && document && document.all && !window.atob;\n\t}),\n\tgetElement = (function(fn) {\n\t\tvar memo = {};\n\t\treturn function(selector) {\n\t\t\tif (typeof memo[selector] === \"undefined\") {\n\t\t\t\tmemo[selector] = fn.call(this, selector);\n\t\t\t}\n\t\t\treturn memo[selector]\n\t\t};\n\t})(function (styleTarget) {\n\t\treturn document.querySelector(styleTarget)\n\t}),\n\tsingletonElement = null,\n\tsingletonCounter = 0,\n\tstyleElementsInsertedAtTop = [],\n\tfixUrls = __webpack_require__(537);\n\nmodule.exports = function(list, options) {\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n\tif (typeof options.insertInto === \"undefined\") options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list);\n\taddStylesToDom(styles, options);\n\n\treturn function update(newList) {\n\t\tvar mayRemove = [];\n\t\tfor(var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\n\t\t\t\t\tdomStyle.parts[j]();\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom(styles, options) {\n\tfor(var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles(list) {\n\tvar styles = [];\n\tvar newStyles = {};\n\tfor(var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\t\tif(!newStyles[id])\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse\n\t\t\tnewStyles[id].parts.push(part);\n\t}\n\treturn styles;\n}\n\nfunction insertStyleElement(options, styleElement) {\n\tvar styleTarget = getElement(options.insertInto)\n\tif (!styleTarget) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\n\tif (options.insertAt === \"top\") {\n\t\tif(!lastStyleElementInsertedAtTop) {\n\t\t\tstyleTarget.insertBefore(styleElement, styleTarget.firstChild);\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\tstyleTarget.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\tstyleTarget.appendChild(styleElement);\n\t\t}\n\t\tstyleElementsInsertedAtTop.push(styleElement);\n\t} else if (options.insertAt === \"bottom\") {\n\t\tstyleTarget.appendChild(styleElement);\n\t} else {\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\n\t}\n}\n\nfunction removeStyleElement(styleElement) {\n\tstyleElement.parentNode.removeChild(styleElement);\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\n\tif(idx >= 0) {\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement(options) {\n\tvar styleElement = document.createElement(\"style\");\n\toptions.attrs.type = \"text/css\";\n\n\tattachTagAttrs(styleElement, options.attrs);\n\tinsertStyleElement(options, styleElement);\n\treturn styleElement;\n}\n\nfunction createLinkElement(options) {\n\tvar linkElement = document.createElement(\"link\");\n\toptions.attrs.type = \"text/css\";\n\toptions.attrs.rel = \"stylesheet\";\n\n\tattachTagAttrs(linkElement, options.attrs);\n\tinsertStyleElement(options, linkElement);\n\treturn linkElement;\n}\n\nfunction attachTagAttrs(element, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\telement.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle(obj, options) {\n\tvar styleElement, update, remove;\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\n\t} else if(obj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\") {\n\t\tstyleElement = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, styleElement, options);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t\tif(styleElement.href)\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\n\t\t};\n\t} else {\n\t\tstyleElement = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle(newObj) {\n\t\tif(newObj) {\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\n\t\t\t\treturn;\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = styleElement.childNodes;\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\n\t\tif (childNodes.length) {\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyleElement.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag(styleElement, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyleElement.setAttribute(\"media\", media)\n\t}\n\n\tif(styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = css;\n\t} else {\n\t\twhile(styleElement.firstChild) {\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\n\t\t}\n\t\tstyleElement.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink(linkElement, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/* If convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls){\n\t\tcss = fixUrls(css);\n\t}\n\n\tif(sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = linkElement.href;\n\n\tlinkElement.href = URL.createObjectURL(blob);\n\n\tif(oldSrc)\n\t\tURL.revokeObjectURL(oldSrc);\n}\n\n\n/***/ }),\n\n/***/ 20:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Grid = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(3);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _lib = __webpack_require__(6);\n\nvar _reactRedux = __webpack_require__(19);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Renders group of resources in a grid (table) where each component represents\n * one row...\n */\nvar Grid = exports.Grid = function (_React$Component) {\n    _inherits(Grid, _React$Component);\n\n    function Grid(props) {\n        _classCallCheck(this, Grid);\n\n        var _this = _possibleConstructorReturn(this, (Grid.__proto__ || Object.getPrototypeOf(Grid)).call(this, props));\n\n        _this.state = {\n            __rows: _this.sortRows(_this.props.rows, _this.props.comparator)\n        };\n        return _this;\n    }\n\n    _createClass(Grid, [{\n        key: \"componentWillReceiveProps\",\n        value: function componentWillReceiveProps(newProps) {\n            if (Array.isArray(newProps.rows)) {\n                this.setState({\n                    __rows: this.sortRows(newProps.rows, newProps.comparator)\n                });\n            }\n        }\n    }, {\n        key: \"sortRows\",\n        value: function sortRows(rows, comparator) {\n            if (!comparator) {\n                return rows;\n            }\n            return rows.sort(comparator);\n        }\n    }, {\n        key: \"renderResource\",\n        value: function renderResource(res, i) {\n            var url = this.props.settings.server.url + \"/\" + res.resourceType + \"/\" + res.id;\n            if (this.props.settings.fhirViewer.enabled) {\n                url = this.props.settings.fhirViewer.url + (this.props.settings.fhirViewer.url.indexOf(\"?\") > -1 ? \"&\" : \"?\") + this.props.settings.fhirViewer.param + \"=\" + encodeURIComponent(url);\n            }\n\n            return _react2.default.createElement(\n                \"tr\",\n                {\n                    key: i,\n                    onClick: function onClick() {\n                        return window.open(url, \"_blank\");\n                    },\n                    style: { cursor: \"pointer\" }\n                },\n                this.props.cols.map(function (col, i) {\n                    var render = col.render,\n                        path = col.path,\n                        cellProps = col.cellProps,\n                        defaultValue = col.defaultValue;\n\n                    cellProps = _extends({}, cellProps, { key: i });\n                    if (typeof render == \"function\") {\n                        return _react2.default.createElement(\n                            \"td\",\n                            cellProps,\n                            render(res)\n                        );\n                    }\n                    return _react2.default.createElement(\n                        \"td\",\n                        cellProps,\n                        (0, _lib.getPath)(res, path) || _react2.default.createElement(\n                            \"small\",\n                            { className: \"text-muted\" },\n                            defaultValue || \"-\"\n                        )\n                    );\n                })\n            );\n        }\n    }, {\n        key: \"renderRows\",\n        value: function renderRows() {\n            var _this2 = this;\n\n            if (!this.state.__enableGrouping) {\n                return this.state.__rows.map(this.renderResource, this);\n            }\n\n            var groupColIndex = this.props.groupBy ? this.props.cols.findIndex(function (c) {\n                return c.name === _this2.props.groupBy || c.label === _this2.props.groupBy;\n            }) : -1;\n            var groupPath = groupColIndex > -1 ? this.props.cols[groupColIndex].path : null;\n\n            if (!groupPath) {\n                return this.state.__rows.map(this.renderResource, this);\n            }\n\n            var groups = {};\n            this.state.__rows.forEach(function (rec, i) {\n                var groupValue = typeof groupPath == \"function\" ? groupPath(rec) : (0, _lib.getPath)(rec, groupPath);\n                groupValue = groupValue || \"Empty Group\";\n                if (!groups.hasOwnProperty(groupValue)) {\n                    groups[groupValue] = [];\n                }\n                groups[groupValue].push(_this2.renderResource(rec, i));\n            });\n\n            var out = [];\n\n            var _loop = function _loop(group) {\n                if (groups[group].length > 1) {\n                    out.push(_react2.default.createElement(\n                        \"tr\",\n                        { className: \"group-header\", key: group },\n                        _react2.default.createElement(\n                            \"th\",\n                            { colSpan: _this2.props.cols.length, onClick: function onClick() {\n                                    return _this2.setState(_defineProperty({}, group, _this2.state[group] === false ? true : false));\n                                } },\n                            _react2.default.createElement(\"i\", { className: \"glyphicon glyphicon-triangle-\" + (_this2.state[group] !== false ? \"bottom\" : \"right\") }),\n                            \" \",\n                            group,\n                            \" \",\n                            _react2.default.createElement(\n                                \"small\",\n                                { className: \"badge\" },\n                                groups[group].length\n                            )\n                        )\n                    ));\n                    if (_this2.state[group] !== false) {\n                        out = out.concat(groups[group]);\n                    }\n                } else {\n                    out.push(_react2.default.createElement(\"tr\", { className: \"group-clear\", key: group }));\n                    out = out.concat(groups[group]);\n                }\n            };\n\n            for (var group in groups) {\n                _loop(group);\n            }\n            return out;\n        }\n    }, {\n        key: \"render\",\n        value: function render() {\n            var _this3 = this;\n\n            return _react2.default.createElement(\n                \"div\",\n                { className: \"panel panel-default\" + (this.state.__enableGrouping ? \" grouped\" : \"\") },\n                this.props.title ? _react2.default.createElement(\n                    \"div\",\n                    { className: \"panel-heading\" },\n                    this.props.groupBy && this.state.__rows.length > 1 && _react2.default.createElement(\n                        \"label\",\n                        { className: \"pull-right\" },\n                        \"Group by \",\n                        this.props.groupBy,\n                        \" \",\n                        _react2.default.createElement(\"input\", {\n                            type: \"checkbox\",\n                            checked: !!this.state.__enableGrouping,\n                            onChange: function onChange(e) {\n                                return _this3.setState({\n                                    __enableGrouping: e.target.checked\n                                });\n                            }\n                        })\n                    ),\n                    _react2.default.createElement(\n                        \"b\",\n                        { className: \"text-primary\" },\n                        _react2.default.createElement(\"i\", { className: \"fa fa-address-card-o\" }),\n                        \" \",\n                        this.props.title\n                    )\n                ) : null,\n                _react2.default.createElement(\n                    \"div\",\n                    { className: \"table-responsive\" },\n                    _react2.default.createElement(\n                        \"table\",\n                        { className: \"table table-condensed table-hover table-striped table-bordered\", style: {\n                                minWidth: this.props.cols.length * 200\n                            } },\n                        _react2.default.createElement(\n                            \"thead\",\n                            null,\n                            _react2.default.createElement(\n                                \"tr\",\n                                null,\n                                this.props.cols.map(function (col, i) {\n                                    var headerProps = col.headerProps,\n                                        label = col.label;\n\n                                    headerProps = _extends({}, headerProps, { key: i });\n                                    return _react2.default.createElement(\n                                        \"th\",\n                                        headerProps,\n                                        label || \"\"\n                                    );\n                                })\n                            )\n                        ),\n                        _react2.default.createElement(\n                            \"tbody\",\n                            null,\n                            this.renderRows()\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n\n    return Grid;\n}(_react2.default.Component);\n\nGrid.propTypes = {\n    rows: _propTypes2.default.arrayOf(_propTypes2.default.object).isRequired,\n    cols: _propTypes2.default.arrayOf(_propTypes2.default.object).isRequired,\n    settings: _propTypes2.default.object.isRequired,\n    title: _propTypes2.default.string,\n    groupBy: _propTypes2.default.string,\n    comparator: _propTypes2.default.func\n};\nexports.default = (0, _reactRedux.connect)(function (state) {\n    return {\n        settings: state.settings\n    };\n})(Grid);\n\n/***/ }),\n\n/***/ 21:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.goPrev = exports.goNext = exports.fetch = exports.setLimit = exports.setTags = exports.delTag = exports.addTag = exports.setSort = exports.setQueryType = exports.setQueryString = exports.setParam = exports.setGender = exports.setConditions = exports.delCondition = exports.addCondition = exports.setAgeGroup = exports.setMaxAge = exports.setMinAge = exports.setData = exports.setError = exports.setLoading = exports.queryBuilder = undefined;\n\nvar _handleActions;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _reduxActions = __webpack_require__(47);\n\nvar _PatientSearch = __webpack_require__(329);\n\nvar _PatientSearch2 = _interopRequireDefault(_PatientSearch);\n\nvar _lib = __webpack_require__(6);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar queryBuilder = exports.queryBuilder = new _PatientSearch2.default((0, _lib.parseQueryString)(window.location.hash.split(\"?\")[1] || \"\"));\n\n/**\n * The initial state is just an empty object that will be filled\n * with query parameters.\n */\nvar INITIAL_STATE = _extends({}, queryBuilder.getState(), {\n    loading: false,\n    error: null,\n    bundle: null\n\n    // Private action constants\n});var SET_LOADING = \"app/search/SET_LOADING\";\nvar SET_ERROR = \"app/search/SET_ERROR\";\nvar SET_DATA = \"app/search/SET_DATA\";\nvar SET_MIN_AGE = \"app/search/SET_MIN_AGE\";\nvar SET_MAX_AGE = \"app/search/SET_MAX_AGE\";\nvar SET_AGE_GROUP = \"app/search/SET_AGE_GROUP\";\nvar ADD_CONDITION = \"app/search/ADD_CONDITION\";\nvar DEL_CONDITION = \"app/search/DEL_CONDITION\";\nvar ADD_TAG = \"app/search/ADD_TAG\";\nvar DEL_TAG = \"app/search/DEL_TAG\";\nvar SET_CONDITIONS = \"app/search/SET_CONDITIONS\";\nvar SET_GENDER = \"app/search/SET_GENDER\";\nvar SET_PARAM = \"app/search/SET_PARAM\";\nvar SET_QUERY_STRING = \"app/search/SET_QUERY_STRING\";\nvar SET_QUERY_TYPE = \"app/search/SET_QUERY_TYPE\";\nvar SET_SORT = \"app/search/SET_SORT\";\nvar SET_TAGS = \"app/search/SET_TAGS\";\nvar SET_LIMIT = \"app/search/SET_LIMIT\";\n\n// Create (and export) the redux actions ---------------------------------------\nvar setLoading = exports.setLoading = (0, _reduxActions.createAction)(SET_LOADING);\nvar setError = exports.setError = (0, _reduxActions.createAction)(SET_ERROR);\nvar setData = exports.setData = (0, _reduxActions.createAction)(SET_DATA);\nvar setMinAge = exports.setMinAge = (0, _reduxActions.createAction)(SET_MIN_AGE);\nvar setMaxAge = exports.setMaxAge = (0, _reduxActions.createAction)(SET_MAX_AGE);\nvar setAgeGroup = exports.setAgeGroup = (0, _reduxActions.createAction)(SET_AGE_GROUP);\nvar addCondition = exports.addCondition = (0, _reduxActions.createAction)(ADD_CONDITION);\nvar delCondition = exports.delCondition = (0, _reduxActions.createAction)(DEL_CONDITION);\nvar setConditions = exports.setConditions = (0, _reduxActions.createAction)(SET_CONDITIONS);\nvar setGender = exports.setGender = (0, _reduxActions.createAction)(SET_GENDER);\nvar setParam = exports.setParam = (0, _reduxActions.createAction)(SET_PARAM);\nvar setQueryString = exports.setQueryString = (0, _reduxActions.createAction)(SET_QUERY_STRING);\nvar setQueryType = exports.setQueryType = (0, _reduxActions.createAction)(SET_QUERY_TYPE);\nvar setSort = exports.setSort = (0, _reduxActions.createAction)(SET_SORT);\nvar addTag = exports.addTag = (0, _reduxActions.createAction)(ADD_TAG);\nvar delTag = exports.delTag = (0, _reduxActions.createAction)(DEL_TAG);\nvar setTags = exports.setTags = (0, _reduxActions.createAction)(SET_TAGS);\nvar setLimit = exports.setLimit = (0, _reduxActions.createAction)(SET_LIMIT);\n\nvar fetch = exports.fetch = function fetch() {\n    return function (dispatch, getState) {\n        dispatch(setLoading(true));\n        dispatch(setError(null));\n\n        var _getState = getState(),\n            settings = _getState.settings;\n\n        queryBuilder.fetch(settings.server).then(function (bundle) {\n            dispatch(setData(bundle));\n            dispatch(setLoading(false));\n        }, function (error) {\n            dispatch(setError(error));\n            dispatch(setLoading(false));\n        });\n    };\n};\n\nvar goNext = exports.goNext = function goNext() {\n    return function (dispatch, getState) {\n        var bundle = getState().query.bundle;\n\n        var url = (0, _lib.getBundleURL)(bundle, \"next\");\n        if (url) {\n            url = (0, _lib.parseQueryString)(url);\n            queryBuilder.setOffset(url._getpages, +url._getpagesoffset);\n            dispatch(fetch());\n        }\n    };\n};\n\nvar goPrev = exports.goPrev = function goPrev() {\n    return function (dispatch, getState) {\n        var bundle = getState().query.bundle;\n\n        var url = (0, _lib.getBundleURL)(bundle, \"previous\");\n        if (url) {\n            url = (0, _lib.parseQueryString)(url);\n            queryBuilder.setOffset(url._getpages, +url._getpagesoffset);\n            dispatch(fetch());\n        }\n    };\n};\n\n// Export the reducer as default\nexports.default = (0, _reduxActions.handleActions)((_handleActions = {}, _defineProperty(_handleActions, SET_SORT, function (state, action) {\n    queryBuilder.setSort(action.payload);\n    return _extends({}, state, queryBuilder.getState());\n}), _defineProperty(_handleActions, SET_QUERY_STRING, function (state, action) {\n    queryBuilder.setQueryString(action.payload);\n    return _extends({}, state, queryBuilder.getState());\n}), _defineProperty(_handleActions, SET_QUERY_TYPE, function (state, action) {\n    queryBuilder.setQueryType(action.payload);\n    return _extends({}, state, queryBuilder.getState());\n}), _defineProperty(_handleActions, SET_PARAM, function (state, action) {\n    queryBuilder.setParam(action.payload.name, action.payload.value);\n    return _extends({}, state, queryBuilder.getState());\n}), _defineProperty(_handleActions, SET_MIN_AGE, function (state, action) {\n    queryBuilder.setMinAge(action.payload);\n    return _extends({}, state, queryBuilder.getState());\n}), _defineProperty(_handleActions, SET_MAX_AGE, function (state, action) {\n    queryBuilder.setMaxAge(action.payload);\n    return _extends({}, state, queryBuilder.getState());\n}), _defineProperty(_handleActions, SET_AGE_GROUP, function (state, action) {\n    queryBuilder.setAgeGroup(action.payload);\n    return _extends({}, state, queryBuilder.getState());\n}), _defineProperty(_handleActions, ADD_CONDITION, function (state, action) {\n    queryBuilder.addCondition(action.payload.key, action.payload.value);\n    return _extends({}, state, queryBuilder.getState());\n}), _defineProperty(_handleActions, SET_CONDITIONS, function (state, action) {\n    queryBuilder.setConditions(action.payload);\n    return _extends({}, state, queryBuilder.getState());\n}), _defineProperty(_handleActions, DEL_CONDITION, function (state, action) {\n    queryBuilder.removeCondition(action.payload);\n    return _extends({}, state, queryBuilder.getState());\n}), _defineProperty(_handleActions, ADD_TAG, function (state, action) {\n    queryBuilder.addTag(action.payload);\n    return _extends({}, state, queryBuilder.getState());\n}), _defineProperty(_handleActions, DEL_TAG, function (state, action) {\n    queryBuilder.removeTag(action.payload);\n    return _extends({}, state, queryBuilder.getState());\n}), _defineProperty(_handleActions, SET_TAGS, function (state, action) {\n    queryBuilder.setTags(action.payload);\n    return _extends({}, state, queryBuilder.getState());\n}), _defineProperty(_handleActions, SET_GENDER, function (state, action) {\n    queryBuilder.setGender(action.payload);\n    return _extends({}, state, queryBuilder.getState());\n}), _defineProperty(_handleActions, SET_LIMIT, function (state, action) {\n    queryBuilder.setLimit(action.payload);\n    return _extends({}, state, queryBuilder.getState());\n}), _defineProperty(_handleActions, SET_LOADING, function (state, action) {\n    return _extends({}, state, queryBuilder.getState(), {\n        loading: !!action.payload\n    });\n}), _defineProperty(_handleActions, SET_ERROR, function (state, action) {\n    return _extends({}, state, queryBuilder.getState(), {\n        error: action.payload\n    });\n}), _defineProperty(_handleActions, SET_DATA, function (state, action) {\n    return _extends({}, state, queryBuilder.getState(), {\n        bundle: action.payload\n    });\n}), _handleActions), INITIAL_STATE);\n\n/***/ }),\n\n/***/ 22:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _keycloakJs = __webpack_require__(368);\n\nvar _keycloakJs2 = _interopRequireDefault(_keycloakJs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _kc = new _keycloakJs2.default('/keycloak.json');\n\n/**\n * Initializes Keycloak instance and calls the provided callback function if successfully authenticated.\n *\n * @param onAuthenticatedCallback\n */\nvar initKeycloak = function initKeycloak(onAuthenticatedCallback) {\n  _kc.init({\n    onLoad: 'login-required',\n    silentCheckSsoRedirectUri: window.location.origin + '/silent-check-sso.html',\n    pkceMethod: 'S256'\n  }).then(function (authenticated) {\n    if (!authenticated) {\n      console.log(\"user is not authenticated..!\");\n    }\n    onAuthenticatedCallback();\n  }).catch(function () {\n    console.error();\n  });\n};\n\nvar doLogin = _kc.login;\n\nvar doLogout = _kc.logout;\n\nvar getToken = function getToken() {\n  return _kc.token;\n};\n\nvar isLoggedIn = function isLoggedIn() {\n  return !!_kc.token;\n};\n\nvar updateToken = function updateToken(successCallback) {\n  return _kc.updateToken(5).then(successCallback).catch(doLogin);\n};\n\nvar getUsername = function getUsername() {\n  return _kc.tokenParsed ? _kc.tokenParsed.preferred_username : \"\";\n};\n\nvar hasRole = function hasRole(roles) {\n  return roles.some(function (role) {\n    return _kc.hasRealmRole(role);\n  });\n};\n\nvar UserService = {\n  initKeycloak: initKeycloak,\n  doLogin: doLogin,\n  doLogout: doLogout,\n  isLoggedIn: isLoggedIn,\n  getToken: getToken,\n  updateToken: updateToken,\n  getUsername: getUsername,\n  hasRole: hasRole\n};\n\nexports.default = UserService;\n\n/***/ }),\n\n/***/ 304:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(98);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _UserService = __webpack_require__(22);\n\nvar _UserService2 = _interopRequireDefault(_UserService);\n\nvar _RootPage = __webpack_require__(325);\n\nvar _RootPage2 = _interopRequireDefault(_RootPage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar callback = function callback() {\n    console.log(\" Callback Invoked  :  \" + _UserService2.default.isLoggedIn());\n    _reactDom2.default.render(_react2.default.createElement(_RootPage2.default, null), document.getElementById(\"main\"));\n};\n\n/* $(function () {\n    $(\"body\").tooltip({\n        selector: \".patient-detail-page [title]\"\n    })\n})\n */\n\n//import HttpService from \"./services/HttpService\"\n\n_UserService2.default.initKeycloak(callback);\n//HttpService.configure();\n\n/***/ }),\n\n/***/ 306:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _propTypes = __webpack_require__(3);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\n__webpack_require__(538);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar AgeSelector = function (_React$Component) {\n    _inherits(AgeSelector, _React$Component);\n\n    function AgeSelector() {\n        var _ref;\n\n        _classCallCheck(this, AgeSelector);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        var _this = _possibleConstructorReturn(this, (_ref = AgeSelector.__proto__ || Object.getPrototypeOf(AgeSelector)).call.apply(_ref, [this].concat(args)));\n\n        _this.onChangeMinValue = _this.onChangeMinValue.bind(_this);\n        _this.onChangeMinUnits = _this.onChangeMinUnits.bind(_this);\n        _this.onChangeMaxValue = _this.onChangeMaxValue.bind(_this);\n        _this.onChangeMaxUnits = _this.onChangeMaxUnits.bind(_this);\n        _this.onGroupChange = _this.onGroupChange.bind(_this);\n        _this.state = _this._propsToState(_this.props);\n        return _this;\n    }\n\n    _createClass(AgeSelector, [{\n        key: \"_propsToState\",\n        value: function _propsToState(props) {\n            var state = {};\n            if (props.min && _typeof(props.min) == \"object\") {\n                if (props.min.hasOwnProperty(\"value\")) {\n                    state.minValue = isNaN(props.min.value) ? \"\" : props.min.value;\n                }\n                if (props.min.hasOwnProperty(\"units\")) {\n                    state.minUnits = props.min.units;\n                }\n            }\n            if (props.max && _typeof(props.max) == \"object\") {\n                if (props.max.hasOwnProperty(\"value\")) {\n                    state.maxValue = isNaN(props.max.value) ? \"\" : props.max.value;\n                }\n                if (props.max.hasOwnProperty(\"units\")) {\n                    state.maxUnits = props.max.units;\n                }\n            }\n\n            return state;\n        }\n    }, {\n        key: \"componentWillReceiveProps\",\n        value: function componentWillReceiveProps(newProps) {\n            var newState = this._propsToState(newProps);\n            if (Object.keys(newState).length) {\n                this.setState(newState);\n            }\n        }\n\n        // Event handlers ----------------------------------------------------------\n\n        /**\n         * When the numeric value of the min-age changes\n         * @param {Event} e\n         */\n\n    }, {\n        key: \"onChangeMinValue\",\n        value: function onChangeMinValue(e) {\n            if (this.props.onMinChange) {\n                var min = {\n                    value: e.target.valueAsNumber || parseFloat(e.target.value || \"0\"),\n                    units: this.props.min.units\n                };\n\n                if (this.canSet(min, this.props.max)) {\n                    this.props.onMinChange(min);\n                } else {\n                    this.setState(this._propsToState({ min: min }));\n                }\n            }\n        }\n\n        /**\n         * When the units of the min-age change\n         * @param {Event} e\n         */\n\n    }, {\n        key: \"onChangeMinUnits\",\n        value: function onChangeMinUnits(e) {\n            if (this.props.onMinChange) {\n                var min = {\n                    value: this.props.min.value,\n                    units: e.target.value\n                };\n                if (this.canSet(min, this.props.max)) {\n                    this.props.onMinChange(min);\n                } else {\n                    this.setState(this._propsToState({ min: min }));\n                }\n            }\n        }\n\n        /**\n         * When the numeric value of the max-age changes\n         * @param {Event} e\n         */\n\n    }, {\n        key: \"onChangeMaxValue\",\n        value: function onChangeMaxValue(e) {\n            if (this.props.onMaxChange) {\n                var max = {\n                    value: e.target.valueAsNumber || parseFloat(e.target.value || \"0\"),\n                    units: this.props.max.units\n                };\n                if (this.canSet(this.props.min, max)) {\n                    this.props.onMaxChange(max);\n                } else {\n                    this.setState(this._propsToState({ max: max }));\n                }\n            }\n        }\n\n        /**\n         * When the units of the max-age change\n         * @param {Event} e\n         */\n\n    }, {\n        key: \"onChangeMaxUnits\",\n        value: function onChangeMaxUnits(e) {\n            if (this.props.onMaxChange) {\n                var max = {\n                    value: this.props.max.value,\n                    units: e.target.value\n                };\n                if (this.canSet(this.props.min, max)) {\n                    this.props.onMaxChange(max);\n                } else {\n                    this.setState(this._propsToState({ max: max }));\n                }\n            }\n        }\n\n        /**\n         * When the selected age group changes\n         * @param {Event} e\n         */\n\n    }, {\n        key: \"onGroupChange\",\n        value: function onGroupChange(e) {\n            if (this.props.onGroupChange) {\n                this.props.onGroupChange(e.target.value);\n            }\n        }\n\n        // Validators and helper methods -------------------------------------------\n\n        /**\n         * Given two dates (as value and units) returns true if min is before max.\n         * This is used to validate inputs and prevent the user from entering\n         * invalid ranges\n         * @param {Object} min The min date as { value: number, units: string }\n         * @param {Object} max The max date as { value: number, units: string }\n         * @returns {Boolean}\n         */\n\n    }, {\n        key: \"canSet\",\n        value: function canSet(min, max) {\n            var maxDuration = _moment2.default.duration(max.value, max.units);\n            var minDuration = _moment2.default.duration(min.value, min.units);\n            return minDuration < maxDuration;\n        }\n\n        // Rendering methods -------------------------------------------------------\n\n    }, {\n        key: \"render\",\n        value: function render() {\n            var valid = this.canSet({\n                value: this.state.minValue,\n                units: this.state.minUnits\n            }, {\n                value: this.state.maxValue,\n                units: this.state.maxUnits\n            });\n            return _react2.default.createElement(\n                \"div\",\n                { className: \"age-widget-wrap form-control input-sm\" + (this.props.group == \"**custom**\" ? \" custom\" : \"\") },\n                _react2.default.createElement(\n                    \"select\",\n                    {\n                        onChange: this.onGroupChange,\n                        value: this.props.group || \"\"\n                    },\n                    _react2.default.createElement(\n                        \"option\",\n                        { value: \"\" },\n                        \"Any Age\"\n                    ),\n                    _react2.default.createElement(\n                        \"option\",\n                        { value: \"infant\" },\n                        \"Infants (0 - 12 months, Alive only)\"\n                    ),\n                    _react2.default.createElement(\n                        \"option\",\n                        { value: \"child\" },\n                        \"Children (1 - 18 years, Alive only)\"\n                    ),\n                    _react2.default.createElement(\n                        \"option\",\n                        { value: \"adult\" },\n                        \"Adults (18 - 65 years, Alive only)\"\n                    ),\n                    _react2.default.createElement(\n                        \"option\",\n                        { value: \"elderly\" },\n                        \"Elderly (65+ years, Alive only)\"\n                    ),\n                    _react2.default.createElement(\n                        \"option\",\n                        { value: \"**custom**\" },\n                        this.props.group == \"**custom**\" ? \"Custom Age, Alive only:\" : \"Custom Age, Alive only\"\n                    )\n                ),\n                this.props.group == \"**custom**\" ? _react2.default.createElement(\n                    \"div\",\n                    { className: \"age-widget\" + (valid ? \"\" : \" invalid\") },\n                    _react2.default.createElement(\n                        \"span\",\n                        null,\n                        \"Min:\"\n                    ),\n                    _react2.default.createElement(\"input\", {\n                        type: \"number\",\n                        value: this.state.minValue,\n                        onChange: this.onChangeMinValue,\n                        min: 0,\n                        step: 1\n                    }),\n                    _react2.default.createElement(\n                        \"select\",\n                        {\n                            value: this.state.minUnits,\n                            onChange: this.onChangeMinUnits\n                        },\n                        _react2.default.createElement(\n                            \"option\",\n                            { value: \"years\" },\n                            \"Years\"\n                        ),\n                        _react2.default.createElement(\n                            \"option\",\n                            { value: \"months\" },\n                            \"Months\"\n                        ),\n                        _react2.default.createElement(\n                            \"option\",\n                            { value: \"days\" },\n                            \"Days\"\n                        )\n                    )\n                ) : null,\n                this.props.group == \"**custom**\" ? _react2.default.createElement(\n                    \"div\",\n                    { className: \"age-widget\" + (valid ? \"\" : \" invalid\") },\n                    _react2.default.createElement(\n                        \"span\",\n                        null,\n                        \"Max:\"\n                    ),\n                    _react2.default.createElement(\"input\", {\n                        type: \"number\",\n                        value: this.state.maxValue,\n                        onChange: this.onChangeMaxValue,\n                        min: 0,\n                        step: 1\n                    }),\n                    _react2.default.createElement(\n                        \"select\",\n                        {\n                            value: this.state.maxUnits,\n                            onChange: this.onChangeMaxUnits\n                        },\n                        _react2.default.createElement(\n                            \"option\",\n                            { value: \"years\" },\n                            \"Years\"\n                        ),\n                        _react2.default.createElement(\n                            \"option\",\n                            { value: \"months\" },\n                            \"Months\"\n                        ),\n                        _react2.default.createElement(\n                            \"option\",\n                            { value: \"days\" },\n                            \"Days\"\n                        )\n                    )\n                ) : null\n            );\n        }\n    }]);\n\n    return AgeSelector;\n}(_react2.default.Component);\n\nAgeSelector.propTypes = {\n    min: _propTypes2.default.shape({\n        value: _propTypes2.default.number,\n        units: _propTypes2.default.oneOf([\"years\", \"months\", \"days\"])\n    }),\n    max: _propTypes2.default.shape({\n        value: _propTypes2.default.number,\n        units: _propTypes2.default.oneOf([\"years\", \"months\", \"days\"])\n    }),\n    group: _propTypes2.default.string,\n    onMinChange: _propTypes2.default.func,\n    onMaxChange: _propTypes2.default.func,\n    onGroupChange: _propTypes2.default.func,\n    update: _propTypes2.default.func\n};\nAgeSelector.defaultProps = {\n    min: {\n        value: 0,\n        units: \"years\"\n    },\n    max: {\n        value: 100,\n        units: \"years\"\n    },\n    group: \"\",\n    update: function update() {\n        return alert(\"No update function provided!\");\n    }\n};\nexports.default = AgeSelector;\n\n/***/ }),\n\n/***/ 307:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.App = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(3);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _jquery = __webpack_require__(26);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _json = __webpack_require__(367);\n\nvar _json2 = _interopRequireDefault(_json);\n\nvar _reactRedux = __webpack_require__(19);\n\nvar _Loader = __webpack_require__(103);\n\nvar _Loader2 = _interopRequireDefault(_Loader);\n\nvar _ErrorMessage = __webpack_require__(102);\n\nvar _ErrorMessage2 = _interopRequireDefault(_ErrorMessage);\n\nvar _query = __webpack_require__(21);\n\nvar _settings = __webpack_require__(51);\n\nvar _lib = __webpack_require__(6);\n\n__webpack_require__(539);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar OWNER = window.opener || (window.parent === self ? null : window.parent);\nvar DEFAULT_CONFIG = \"default\";\n\nvar App = exports.App = function (_React$Component) {\n    _inherits(App, _React$Component);\n\n    function App() {\n        var _ref;\n\n        _classCallCheck(this, App);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        var _this = _possibleConstructorReturn(this, (_ref = App.__proto__ || Object.getPrototypeOf(App)).call.apply(_ref, [this].concat(args)));\n\n        _this.state = {\n            error: null\n        };\n        return _this;\n    }\n\n    _createClass(App, [{\n        key: \"handleUiBlocking\",\n        value: function handleUiBlocking() {\n            var runningRequests = 0,\n                hideDelay = void 0;\n\n            var handle = function handle() {\n                if (hideDelay) {\n                    clearTimeout(hideDelay);\n                }\n                if (runningRequests > 0) {\n                    (0, _jquery2.default)(\"#overlay\").show();\n                } else {\n                    hideDelay = setTimeout(function () {\n                        (0, _jquery2.default)(\"#overlay\").hide();\n                    }, 200);\n                }\n            };\n\n            (0, _jquery2.default)(document).ajaxStart(function () {\n                runningRequests++;\n                handle();\n            });\n\n            (0, _jquery2.default)(document).ajaxComplete(function () {\n                runningRequests = Math.max(--runningRequests, 0);\n                handle();\n            });\n        }\n    }, {\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n            var _this2 = this;\n\n            this.handleUiBlocking();\n\n            var _parseQueryString = (0, _lib.parseQueryString)(window.location.search),\n                config = _parseQueryString.config,\n                params = _objectWithoutProperties(_parseQueryString, [\"config\"]);\n\n            var settings = {};\n            _jquery2.default.ajax({\n                url: \"./config/\" + (config || DEFAULT_CONFIG) + \".json5\",\n                dataType: \"text\",\n                cache: false\n            }).then(function (json) {\n                json = _json2.default.parse(json);\n                _jquery2.default.ajaxSetup({ timeout: json.timeout || 20000 });\n                settings = _extends({}, json, params);\n            }, function (errorXHR) {\n                console.warn(\"Loading custom config: \" + errorXHR.statusText);\n            }).always(function () {\n                var settingReceived = false;\n\n                var onMessage = function onMessage(e) {\n                    if (e.data.type == 'config' && e.data.data && _typeof(e.data.data) == \"object\") {\n                        settingReceived = true;\n                        _this2.props.dispatch((0, _settings.merge)(e.data.data));\n                        _this2.props.dispatch((0, _query.fetch)());\n                    }\n                };\n\n                _this2.props.dispatch((0, _settings.merge)(settings));\n                _this2.props.dispatch((0, _query.setLimit)(settings.patientsPerPage));\n\n                if (OWNER) {\n\n                    window.addEventListener(\"unload\", function () {\n                        OWNER.postMessage({ type: \"close\" }, \"*\");\n                    });\n\n                    window.addEventListener(\"message\", onMessage);\n\n                    setTimeout(function () {\n                        window.removeEventListener(\"message\", onMessage);\n                        if (!settingReceived) {\n                            _this2.props.dispatch((0, _query.fetch)());\n                        }\n                    }, 1000);\n\n                    OWNER.postMessage({ type: \"ready\" }, \"*\");\n                } else {\n                    _this2.props.dispatch((0, _query.fetch)());\n                }\n            });\n        }\n    }, {\n        key: \"render\",\n        value: function render() {\n            if (this.state.error) {\n                return _react2.default.createElement(_ErrorMessage2.default, { error: this.state.error });\n            }\n            if (!this.props.settings || !this.props.settings.loaded) {\n                return _react2.default.createElement(\n                    \"div\",\n                    { className: \"app\" },\n                    _react2.default.createElement(_Loader2.default, null)\n                );\n            }\n            return _react2.default.createElement(\n                \"div\",\n                { className: \"app\" },\n                this.props.children\n            );\n        }\n    }]);\n\n    return App;\n}(_react2.default.Component);\n\nApp.propTypes = {\n    children: _propTypes2.default.any,\n    settings: _propTypes2.default.object.isRequired,\n    dispatch: _propTypes2.default.func.isRequired\n};\nexports.default = (0, _reactRedux.connect)(function (state) {\n    return _extends({}, state);\n})(App);\n\n/***/ }),\n\n/***/ 308:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(3);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _Grid = __webpack_require__(20);\n\nvar _Grid2 = _interopRequireDefault(_Grid);\n\nvar _lib = __webpack_require__(6);\n\nvar _Period = __webpack_require__(48);\n\nvar _Period2 = _interopRequireDefault(_Period);\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar CarePlan = function (_React$Component) {\n    _inherits(CarePlan, _React$Component);\n\n    function CarePlan() {\n        _classCallCheck(this, CarePlan);\n\n        return _possibleConstructorReturn(this, (CarePlan.__proto__ || Object.getPrototypeOf(CarePlan)).apply(this, arguments));\n    }\n\n    _createClass(CarePlan, [{\n        key: \"render\",\n        value: function render() {\n            return _react2.default.createElement(_Grid2.default, {\n                rows: (this.props.resources || []).map(function (o) {\n                    return o.resource;\n                }),\n                title: \"CarePlan\",\n                groupBy: \"Category\",\n                comparator: function comparator(a, b) {\n                    var dA = (0, _lib.getPath)(a, \"period.start\");\n                    var dB = (0, _lib.getPath)(b, \"period.start\");\n                    dA = dA ? +(0, _moment2.default)(dA) : 0;\n                    dB = dB ? +(0, _moment2.default)(dB) : 0;\n                    return dB - dA;\n                },\n                cols: [{\n                    label: \"Category\",\n                    path: \"category.0.coding.0.display\",\n                    render: function render(rec) {\n                        return _react2.default.createElement(\n                            \"b\",\n                            null,\n                            (0, _lib.getPath)(rec, \"category.0.coding.0.display\")\n                        );\n                    }\n                }, {\n                    label: \"Reason\",\n                    render: function render(rec) {\n                        return (rec.activity || []).map(function (a, i) {\n                            var reason = (0, _lib.getPath)(a, \"detail.code.coding.0.display\") || \"\";\n                            return reason ? _react2.default.createElement(\n                                \"div\",\n                                { key: i },\n                                reason,\n                                _react2.default.createElement(\n                                    \"span\",\n                                    null,\n                                    \" - \"\n                                ),\n                                _react2.default.createElement(\n                                    \"span\",\n                                    { className: \"text-muted\" },\n                                    (0, _lib.getPath)(a, \"detail.status\") || \"no data\"\n                                )\n                            ) : \"\";\n                        });\n                    }\n                }, {\n                    label: \"Period\",\n                    render: function render(o) {\n                        return (0, _Period2.default)(o.period);\n                    }\n                }, {\n                    label: \"Status\",\n                    path: \"status\"\n                }]\n            });\n        }\n    }]);\n\n    return CarePlan;\n}(_react2.default.Component);\n\nCarePlan.propTypes = {\n    resources: _propTypes2.default.arrayOf(_propTypes2.default.object)\n};\nexports.default = CarePlan;\n\n/***/ }),\n\n/***/ 309:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(3);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _constants = __webpack_require__(105);\n\nvar _Grid = __webpack_require__(20);\n\nvar _Grid2 = _interopRequireDefault(_Grid);\n\nvar _Date = __webpack_require__(34);\n\nvar _Date2 = _interopRequireDefault(_Date);\n\nvar _lib = __webpack_require__(6);\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ConditionList = function (_React$Component) {\n    _inherits(ConditionList, _React$Component);\n\n    function ConditionList() {\n        _classCallCheck(this, ConditionList);\n\n        return _possibleConstructorReturn(this, (ConditionList.__proto__ || Object.getPrototypeOf(ConditionList)).apply(this, arguments));\n    }\n\n    _createClass(ConditionList, [{\n        key: \"render\",\n        value: function render() {\n            var recs = this.props.resources || [];\n            var length = recs.length;\n            return _react2.default.createElement(_Grid2.default, {\n                rows: (recs || []).map(function (o) {\n                    return o.resource;\n                }),\n                title: length + \" Condition\" + (length === 1 ? \"\" : \"s\"),\n                comparator: function comparator(a, b) {\n                    var dA = (0, _lib.getPath)(a, \"onsetDateTime\");\n                    var dB = (0, _lib.getPath)(b, \"onsetDateTime\");\n                    dA = dA ? +(0, _moment2.default)(dA) : 0;\n                    dB = dB ? +(0, _moment2.default)(dB) : 0;\n                    return dB - dA;\n                },\n                cols: [{\n                    label: \"Condition\",\n                    render: function render(o) {\n                        var name = \"-\";\n                        var code = \"-\";\n                        var system = \"\";\n\n                        if (o.code) {\n                            if (o.code.text) {\n                                name = o.code.text;\n                            }\n                            if (Array.isArray(o.code.coding) && o.code.coding.length) {\n                                var c = o.code.coding[0];\n\n                                system = c.system;\n                                for (var key in _constants.CODE_SYSTEMS) {\n                                    if (_constants.CODE_SYSTEMS[key].url === c.system) {\n                                        system = \"(\" + key + \")\";\n                                        break;\n                                    }\n                                }\n\n                                if (c.display) {\n                                    name = c.display;\n                                }\n                                if (c.code) {\n                                    code = c.code;\n                                }\n                            }\n                        }\n                        return _react2.default.createElement(\n                            \"div\",\n                            null,\n                            _react2.default.createElement(\n                                \"b\",\n                                null,\n                                name\n                            ),\n                            _react2.default.createElement(\n                                \"small\",\n                                { className: \"text-muted pull-right\" },\n                                code,\n                                \" \",\n                                system\n                            )\n                        );\n                    }\n                }, {\n                    label: _react2.default.createElement(\n                        \"div\",\n                        { className: \"text-center\" },\n                        \"Clinical Status\"\n                    ),\n                    render: function render(o) {\n                        return _react2.default.createElement(\n                            \"div\",\n                            { className: \"text-center\" },\n                            (0, _lib.getCodeOrConcept)(o.clinicalStatus)\n                        );\n                    }\n                }, {\n                    label: _react2.default.createElement(\n                        \"div\",\n                        { className: \"text-center\" },\n                        \"Verification Status\"\n                    ),\n                    render: function render(o) {\n                        return _react2.default.createElement(\n                            \"div\",\n                            { className: \"text-center\" },\n                            (0, _lib.getCodeOrConcept)(o.verificationStatus)\n                        );\n                    }\n                }, {\n                    label: _react2.default.createElement(\n                        \"div\",\n                        { className: \"text-center\" },\n                        \"Onset Date\"\n                    ),\n                    render: function render(o) {\n                        var onset = o.onsetDateTime || \"\";\n                        return _react2.default.createElement(\n                            \"div\",\n                            { className: \"text-center\" },\n                            onset ? _react2.default.createElement(_Date2.default, { moment: o.onsetDateTime }) : \"-\"\n                        );\n                    }\n                }]\n            });\n        }\n    }]);\n\n    return ConditionList;\n}(_react2.default.Component);\n\nConditionList.propTypes = {\n    resources: _propTypes2.default.arrayOf(_propTypes2.default.object)\n};\nexports.default = ConditionList;\n\n/***/ }),\n\n/***/ 310:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(3);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _Grid = __webpack_require__(20);\n\nvar _Grid2 = _interopRequireDefault(_Grid);\n\nvar _lib = __webpack_require__(6);\n\nvar _Period = __webpack_require__(48);\n\nvar _Period2 = _interopRequireDefault(_Period);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction getEncounterClass(encounter) {\n    return encounter.class && _typeof(encounter.class) == \"object\" ? (0, _lib.getPath)(encounter, \"class.type.0.text\") : encounter.class;\n}\n\nfunction getEncounterLabel(encounter) {\n    var result = (0, _lib.getPath)(encounter, \"type.0.text\");\n    if (result) {\n        return result;\n    }\n    var _class = getEncounterClass(encounter);\n    if (_class) {\n        return _class + \" encounter\";\n    }\n    return \"\";\n}\n\nvar Encounter = function (_React$Component) {\n    _inherits(Encounter, _React$Component);\n\n    function Encounter() {\n        _classCallCheck(this, Encounter);\n\n        return _possibleConstructorReturn(this, (Encounter.__proto__ || Object.getPrototypeOf(Encounter)).apply(this, arguments));\n    }\n\n    _createClass(Encounter, [{\n        key: \"render\",\n        value: function render() {\n            return _react2.default.createElement(_Grid2.default, {\n                rows: (this.props.resources || []).map(function (o) {\n                    return o.resource;\n                }),\n                title: \"Encounter\" + (this.props.resources.length === 1 ? \"\" : \"s\"),\n                groupBy: \"Type\",\n                comparator: function comparator(a, b) {\n                    var dA = (0, _lib.getPath)(a, \"period.start\");\n                    var dB = (0, _lib.getPath)(b, \"period.start\");\n                    dA = dA ? +(0, _moment2.default)(dA) : 0;\n                    dB = dB ? +(0, _moment2.default)(dB) : 0;\n                    return dB - dA;\n                },\n                cols: [{\n                    label: \"Type\",\n                    path: function path(rec) {\n                        return getEncounterLabel(rec);\n                    },\n                    render: function render(rec) {\n                        var result = (0, _lib.getPath)(rec, \"type.0.text\");\n                        if (result) {\n                            return _react2.default.createElement(\n                                \"b\",\n                                null,\n                                result\n                            );\n                        }\n                        var _class = getEncounterClass(rec);\n                        if (_class) {\n                            return _react2.default.createElement(\n                                \"span\",\n                                { className: \"text-muted\" },\n                                _class + \" encounter\"\n                            );\n                        }\n                        return _react2.default.createElement(\n                            \"small\",\n                            { className: \"text-muted\" },\n                            \"N/A\"\n                        );\n                    }\n                }, {\n                    label: \"Reason\",\n                    path: \"reason.0.coding.0.display\",\n                    defaultValue: \"N/A\"\n                }, {\n                    label: \"Class\",\n                    render: function render(rec) {\n                        var result = getEncounterClass(rec);\n                        return result ? _react2.default.createElement(\n                            \"b\",\n                            null,\n                            result\n                        ) : _react2.default.createElement(\n                            \"small\",\n                            { className: \"text-muted\" },\n                            \"N/A\"\n                        );\n                    }\n                }, {\n                    label: \"Status\",\n                    path: \"status\",\n                    defaultValue: \"N/A\"\n                }, {\n                    label: \"Time\",\n                    path: \"period\",\n                    render: function render(o) {\n                        return (0, _Period2.default)(o.period || {});\n                    }\n                }]\n            });\n        }\n    }]);\n\n    return Encounter;\n}(_react2.default.Component);\n\nEncounter.propTypes = {\n    resources: _propTypes2.default.arrayOf(_propTypes2.default.object)\n};\nexports.default = Encounter;\n\n/***/ }),\n\n/***/ 311:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(3);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _Grid = __webpack_require__(20);\n\nvar _Grid2 = _interopRequireDefault(_Grid);\n\nvar _Date = __webpack_require__(34);\n\nvar _Date2 = _interopRequireDefault(_Date);\n\nvar _lib = __webpack_require__(6);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ImmunizationList = function (_React$Component) {\n    _inherits(ImmunizationList, _React$Component);\n\n    function ImmunizationList() {\n        _classCallCheck(this, ImmunizationList);\n\n        return _possibleConstructorReturn(this, (ImmunizationList.__proto__ || Object.getPrototypeOf(ImmunizationList)).apply(this, arguments));\n    }\n\n    _createClass(ImmunizationList, [{\n        key: \"render\",\n        value: function render() {\n            return _react2.default.createElement(_Grid2.default, {\n                rows: (this.props.resources || []).map(function (o) {\n                    return o.resource;\n                }),\n                title: \"Immunizations\",\n                groupBy: \"Type\",\n                comparator: function comparator(a, b) {\n                    var dA = (0, _lib.getPath)(a, \"date\");\n                    var dB = (0, _lib.getPath)(b, \"date\");\n                    dA = dA ? +(0, _moment2.default)(dA) : 0;\n                    dB = dB ? +(0, _moment2.default)(dB) : 0;\n                    return dB - dA;\n                },\n                cols: [{\n                    label: \"Type\",\n                    path: \"vaccineCode.coding.0.display\"\n                }, {\n                    label: \"Status\",\n                    render: function render(o) {\n                        return o.status || \"-\";\n                    }\n                }, {\n                    label: \"Date\",\n                    render: function render(o) {\n                        return o.date ? _react2.default.createElement(_Date2.default, { moment: o.date }) : o.occurrenceDateTime ? _react2.default.createElement(_Date2.default, { moment: o.occurrenceDateTime }) : o.occurrenceString || \"-\";\n                    }\n                }]\n            });\n        }\n    }]);\n\n    return ImmunizationList;\n}(_react2.default.Component);\n\nImmunizationList.propTypes = {\n    resources: _propTypes2.default.arrayOf(_propTypes2.default.object)\n};\nexports.default = ImmunizationList;\n\n/***/ }),\n\n/***/ 312:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(3);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _lib = __webpack_require__(6);\n\nvar _Grid = __webpack_require__(20);\n\nvar _Grid2 = _interopRequireDefault(_Grid);\n\nvar _ValueRange = __webpack_require__(316);\n\nvar _ValueRange2 = _interopRequireDefault(_ValueRange);\n\nvar _Time = __webpack_require__(315);\n\nvar _Time2 = _interopRequireDefault(_Time);\n\nvar _Period = __webpack_require__(48);\n\nvar _Period2 = _interopRequireDefault(_Period);\n\nvar _Date = __webpack_require__(34);\n\nvar _Date2 = _interopRequireDefault(_Date);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Observations = function (_React$Component) {\n    _inherits(Observations, _React$Component);\n\n    function Observations() {\n        _classCallCheck(this, Observations);\n\n        return _possibleConstructorReturn(this, (Observations.__proto__ || Object.getPrototypeOf(Observations)).apply(this, arguments));\n    }\n\n    _createClass(Observations, [{\n        key: \"getObservationLabel\",\n        value: function getObservationLabel(o) {\n            return (0, _lib.getPath)(o, \"code.coding.0.display\") || (0, _lib.getPath)(o, \"code.text\") || (0, _lib.getPath)(o, \"valueQuantity.code\");\n        }\n    }, {\n        key: \"renderObservation\",\n        value: function renderObservation(o) {\n            var _this2 = this;\n\n            var includeLabel = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n            if (Array.isArray(o.component)) {\n                return o.component.map(function (c, i) {\n                    var result = _this2.renderObservation(c, true);\n                    return _react2.default.createElement(\n                        \"span\",\n                        { key: i },\n                        i > 0 && _react2.default.createElement(\n                            \"span\",\n                            null,\n                            \",\\xA0\"\n                        ),\n                        result\n                    );\n                });\n            }\n\n            var returnResult = function returnResult(result) {\n                return _react2.default.createElement(\n                    \"span\",\n                    null,\n                    includeLabel && _react2.default.createElement(\n                        \"label\",\n                        { className: \"text-muted\" },\n                        _this2.getObservationLabel(o).replace(/^\\s*(Systolic|Diastolic)\\s+blood\\s+pressure\\s*$/gi, \"$1\"),\n                        \":\\xA0\"\n                    ),\n                    result\n                );\n            };\n\n            // valueBoolean\n            if (o.hasOwnProperty(\"valueBoolean\")) {\n                return returnResult(!o.valueBoolean || o.valueBoolean == \"false\" ? \"Negative\" : \"Positive\");\n            }\n\n            // valueString\n            if (o.hasOwnProperty(\"valueString\")) {\n                return returnResult(String(o.valueString));\n            }\n\n            // valueRange\n            if (o.hasOwnProperty(\"valueRange\")) {\n                return returnResult(_react2.default.createElement(_ValueRange2.default, { range: o.valueRange }));\n            }\n\n            // valueTime\n            if (o.hasOwnProperty(\"valueTime\")) {\n                return returnResult(_react2.default.createElement(_Time2.default, { moment: o.valueTime }));\n            }\n\n            // valueDateTime\n            if (o.hasOwnProperty(\"valueDateTime\")) {\n                return returnResult(_react2.default.createElement(_Date2.default, { moment: o.valueDateTime }));\n            }\n\n            // valuePeriod\n            if (o.hasOwnProperty(\"valuePeriod\")) {\n                return returnResult((0, _Period2.default)(o.valuePeriod));\n            }\n\n            // valueCodeableConcept\n            if (o.hasOwnProperty(\"valueCodeableConcept\")) {\n                return returnResult((0, _lib.getPath)(o, \"valueCodeableConcept.coding.0.display\"));\n            }\n\n            // valueQuantity\n            if (o.hasOwnProperty(\"valueQuantity\")) {\n                var value = (0, _lib.getPath)(o, \"valueQuantity.value\");\n                var units = (0, _lib.getPath)(o, \"valueQuantity.unit\");\n\n                if (!isNaN(parseFloat(value))) {\n                    value = Math.round(value * 100) / 100;\n                }\n\n                return returnResult(_react2.default.createElement(\n                    \"span\",\n                    null,\n                    value,\n                    \" \",\n                    _react2.default.createElement(\n                        \"span\",\n                        { className: \"text-muted\" },\n                        units\n                    )\n                ));\n            }\n\n            /* TODO:\n            valueRatio      : Ratio\n            valueSampledData: SampledData\n            valueAttachment : Attachment\n            */\n\n            return returnResult(_react2.default.createElement(\n                \"span\",\n                { className: \"text-muted\" },\n                \"N/A\"\n            ));\n        }\n    }, {\n        key: \"render\",\n        value: function render() {\n            var _this3 = this;\n\n            return _react2.default.createElement(_Grid2.default, {\n                rows: (this.props.resources || []).map(function (o) {\n                    return o.resource;\n                }),\n                title: \"Observations\",\n                groupBy: \"Name\",\n                comparator: function comparator(a, b) {\n                    var dA = (0, _lib.getPath)(a, \"effectiveDateTime\") || (0, _lib.getPath)(a, \"meta.lastUpdated\");\n                    var dB = (0, _lib.getPath)(b, \"effectiveDateTime\") || (0, _lib.getPath)(b, \"meta.lastUpdated\");\n                    dA = dA ? +(0, _moment2.default)(dA) : 0;\n                    dB = dB ? +(0, _moment2.default)(dB) : 0;\n                    return dB - dA;\n                },\n                cols: [{\n                    label: \"Name\",\n                    path: function path(o) {\n                        return _this3.getObservationLabel(o);\n                    },\n                    render: function render(o) {\n                        return _react2.default.createElement(\n                            \"b\",\n                            null,\n                            _this3.getObservationLabel(o)\n                        );\n                    }\n                }, {\n                    label: \"Value\",\n                    render: function render(o) {\n                        return _this3.renderObservation(o);\n                    }\n                }, {\n                    label: \"Date\",\n                    render: function render(o) {\n                        var date = (0, _lib.getPath)(o, \"effectiveDateTime\") || (0, _lib.getPath)(o, \"meta.lastUpdated\");\n                        if (date) date = (0, _moment2.default)(date).format(\"MM/DD/YYYY\");\n                        return _react2.default.createElement(\n                            \"div\",\n                            { className: \"text-muted\" },\n                            date || \"-\"\n                        );\n                    }\n                }]\n            });\n        }\n    }]);\n\n    return Observations;\n}(_react2.default.Component);\n\nObservations.propTypes = {\n    resources: _propTypes2.default.arrayOf(_propTypes2.default.object)\n};\nexports.default = Observations;\n\n/***/ }),\n\n/***/ 313:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(3);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _Grid = __webpack_require__(20);\n\nvar _Grid2 = _interopRequireDefault(_Grid);\n\nvar _Date = __webpack_require__(34);\n\nvar _Date2 = _interopRequireDefault(_Date);\n\nvar _lib = __webpack_require__(6);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Person = function (_React$Component) {\n    _inherits(Person, _React$Component);\n\n    function Person() {\n        _classCallCheck(this, Person);\n\n        return _possibleConstructorReturn(this, (Person.__proto__ || Object.getPrototypeOf(Person)).apply(this, arguments));\n    }\n\n    _createClass(Person, [{\n        key: \"render\",\n        value: function render() {\n            return _react2.default.createElement(_Grid2.default, {\n                rows: (this.props.resources || []).map(function (o) {\n                    return o.resource;\n                }),\n                title: this.props.title,\n                comparator: function comparator(a, b) {\n                    var dA = (0, _lib.getPath)(a, \"birthDate\");\n                    var dB = (0, _lib.getPath)(b, \"birthDate\");\n                    dA = dA ? +(0, _moment2.default)(dA) : 0;\n                    dB = dB ? +(0, _moment2.default)(dB) : 0;\n                    return dB - dA;\n                },\n                cols: [{\n                    label: \"Identifier\",\n                    render: function render(rec) {\n                        var rows = [_react2.default.createElement(\n                            \"tr\",\n                            { key: \"id\" },\n                            _react2.default.createElement(\n                                \"td\",\n                                { className: \"label-cell\" },\n                                \"ID\"\n                            ),\n                            _react2.default.createElement(\n                                \"td\",\n                                null,\n                                rec.id\n                            )\n                        )];\n\n                        if (Array.isArray(rec.identifier)) {\n                            rows = rows.concat(rec.identifier.map(function (o) {\n                                var code = (0, _lib.getPath)(o, \"type.coding.0.display\") || (0, _lib.getPath)(o, \"type.text\") || (0, _lib.getPath)(o, \"type.coding.0.code\") || String((0, _lib.getPath)(o, \"system\") || \"\").split(/\\b/).pop();\n                                if (!code) return null;\n                                return _react2.default.createElement(\n                                    \"tr\",\n                                    { key: code },\n                                    _react2.default.createElement(\n                                        \"td\",\n                                        { className: \"label-cell\" },\n                                        code\n                                    ),\n                                    _react2.default.createElement(\n                                        \"td\",\n                                        null,\n                                        o.value\n                                    )\n                                );\n                            }).filter(Boolean));\n                        }\n\n                        return _react2.default.createElement(\n                            \"table\",\n                            null,\n                            _react2.default.createElement(\n                                \"tbody\",\n                                null,\n                                rows\n                            )\n                        );\n                    }\n                }, {\n                    label: \"Name\",\n                    render: _lib.getPatientName,\n                    defaultValue: \"N/A\"\n                }, {\n                    label: \"Gender\",\n                    path: \"gender\",\n                    defaultValue: \"N/A\"\n                }, {\n                    label: \"Birth Date\",\n                    path: \"birthDate\",\n                    defaultValue: \"N/A\",\n                    render: function render(o) {\n                        return _react2.default.createElement(_Date2.default, { moment: o.birthDate });\n                    }\n                }]\n            });\n        }\n    }]);\n\n    return Person;\n}(_react2.default.Component);\n\nPerson.propTypes = {\n    resources: _propTypes2.default.arrayOf(_propTypes2.default.object),\n    title: _propTypes2.default.string\n};\nPerson.defaultProps = {\n    title: \"Person\"\n};\nexports.default = Person;\n\n/***/ }),\n\n/***/ 314:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(3);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _Grid = __webpack_require__(20);\n\nvar _Grid2 = _interopRequireDefault(_Grid);\n\nvar _lib = __webpack_require__(6);\n\nvar _Period = __webpack_require__(48);\n\nvar _Period2 = _interopRequireDefault(_Period);\n\nvar _Date = __webpack_require__(34);\n\nvar _Date2 = _interopRequireDefault(_Date);\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction renderCell(record, allOf, oneOf) {\n\n    var entries = [];\n\n    var visit = function visit(meta) {\n        var propValue = (0, _lib.getPath)(record, meta.path);\n        if (propValue !== undefined) {\n            var value = meta.render ? meta.render(record) : propValue;\n            var raw = meta.raw ? meta.raw(record) : value;\n            var label = typeof meta.label == \"function\" ? meta.label(record) : meta.label;\n            var existing = entries.find(function (o) {\n                return o.value === raw;\n            });\n            if (existing) {\n                existing.label += \", \" + label;\n            } else {\n                entries.push({ label: label, value: value });\n            }\n            return true;\n        }\n        return false;\n    };\n\n    allOf.forEach(visit);\n\n    if (!entries.length) {\n        oneOf.some(visit);\n    }\n\n    if (entries.length) {\n        return _react2.default.createElement(\n            \"table\",\n            null,\n            _react2.default.createElement(\n                \"tbody\",\n                null,\n                entries.map(function (o, i) {\n                    return _react2.default.createElement(\n                        \"tr\",\n                        { key: i },\n                        _react2.default.createElement(\n                            \"td\",\n                            { className: \"label-cell\" },\n                            o.label\n                        ),\n                        _react2.default.createElement(\n                            \"td\",\n                            null,\n                            o.value\n                        )\n                    );\n                })\n            )\n        );\n    }\n\n    return \"-\";\n}\n\nfunction getSortValue(rec) {\n    var paths = [\"authoredOn\", \"dateWritten\", \"performedDateTime\", \"recorded\", \"performedPeriod.start\", \"availableTime.0.availableStartTime\", \"whenHandedOver\", \"issued\", \"effectiveDateTime\", \"assertedDate\", \"meta.lastUpdated\"];\n\n    for (var i = 0, l = paths.length; i < l; i++) {\n        var v = (0, _lib.getPath)(rec, paths[i]);\n        if (v !== undefined) {\n            return v;\n        }\n    }\n\n    return 0;\n}\n\nfunction DataLink(_ref) {\n    var settings = _ref.settings,\n        path = _ref.path,\n        children = _ref.children;\n\n    var url = settings.server.url + \"/\" + path;\n    if (settings.fhirViewer.enabled) {\n        url = settings.fhirViewer.url + (settings.fhirViewer.url.indexOf(\"?\") > -1 ? \"&\" : \"?\") + settings.fhirViewer.param + \"=\" + encodeURIComponent(url);\n    }\n    return _react2.default.createElement(\n        \"a\",\n        { onClick: function onClick() {\n                window.open(url, \"_blank\");\n                return false;\n            } },\n        children\n    );\n}\n\nDataLink.propTypes = {\n    settings: _propTypes2.default.object.isRequired,\n    path: _propTypes2.default.string.isRequired,\n    children: _propTypes2.default.any\n};\n\nvar ResourceList = function (_React$Component) {\n    _inherits(ResourceList, _React$Component);\n\n    function ResourceList() {\n        _classCallCheck(this, ResourceList);\n\n        return _possibleConstructorReturn(this, (ResourceList.__proto__ || Object.getPrototypeOf(ResourceList)).apply(this, arguments));\n    }\n\n    _createClass(ResourceList, [{\n        key: \"determineSchema\",\n\n\n        /**\n         * The idea is to have 3 columns by default:\n         * 1. Identifier - something like a name, type, id etc.\n         * 2. Details - the important part that will describe the resource\n         * 3. Timing - time period, time, age etc.\n         * @returns {Array} The generated schema\n         */\n        value: function determineSchema(sampleResource) {\n            var _this2 = this;\n\n            var out = [];\n\n            if (!sampleResource) {\n                return out;\n            }\n\n            // 1. Identifier -------------------------------------------------------\n            out.push({\n                label: \"Identifier\",\n                render: function render(o) {\n                    return renderCell(o, [{\n                        path: \"id\",\n                        label: \"ID\",\n                        ellipsis: 15\n                    }, {\n                        path: \"name\",\n                        label: \"Name\"\n                    }, {\n                        path: \"identifier.0.type.coding.0.code\",\n                        label: \"Identifiers\",\n                        render: function render(rec) {\n                            if (Array.isArray(rec.identifier)) {\n                                return rec.identifier.map(function (id) {\n                                    var code = (0, _lib.getPath)(id, \"type.coding.0.code\");\n                                    if (!code) return null;\n                                    return code + \": \" + id.value;\n                                }).filter(Boolean).join(\", \");\n                            }\n                            return \"-\";\n                        }\n                    }]);\n                }\n            });\n\n            // 2. Details ----------------------------------------------------------\n            out.push({\n                label: \"Details\",\n                render: function render(o) {\n                    return renderCell(o, [{\n                        path: \"description.text\",\n                        label: \"Description\"\n                    }, {\n                        path: \"code.text\",\n                        label: \"Code\"\n                    }, {\n                        path: \"code.coding.0.display\",\n                        label: \"Display\"\n                    }, {\n                        path: \"medicationCodeableConcept.coding.0.display\",\n                        label: \"Medication\"\n                    }, {\n                        path: \"medicationCodeableConcept.coding.0.code\",\n                        label: function label(rec) {\n                            return ((0, _lib.getPath)(rec, \"medicationCodeableConcept.coding.0.system\") || \"\").split(/\\b/).pop();\n                        }\n                    }, {\n                        path: \"code.coding.0.code\",\n                        label: function label(rec) {\n                            return ((0, _lib.getPath)(rec, \"code.coding.0.system\") || \"\").replace(/\\/$/, \"\").split(/\\//).pop() + \" code\";\n                        }\n                    }, {\n                        path: \"result.0.display\",\n                        label: \"Result\",\n                        render: function render(rec) {\n                            return rec.result.map(function (r) {\n                                return r.display || 0;\n                            }).filter(Boolean).join(\", \");\n                        }\n                    }, {\n                        label: \"Status\",\n                        render: function render(rec) {\n                            return (0, _lib.getCodeOrConcept)(rec.status);\n                        }\n                    }, {\n                        label: \"Clinical Status\",\n                        render: function render(rec) {\n                            return (0, _lib.getCodeOrConcept)(rec.clinicalStatus);\n                        }\n                    }, {\n                        label: \"Verification Status\",\n                        render: function render(rec) {\n                            return (0, _lib.getCodeOrConcept)(rec.verificationStatus);\n                        }\n                    }, {\n                        label: \"Value as String\",\n                        path: \"valueString\"\n                    }, {\n                        label: \"Comment\",\n                        path: \"comment\"\n                    }, {\n                        label: \"Extra Details\",\n                        path: \"extraDetails\"\n                    }, {\n                        label: \"Type\",\n                        path: \"type\",\n                        render: function render(rec) {\n                            if (Array.isArray(rec.type)) {\n                                return rec.type.map(function (t) {\n                                    return t.text || (0, _lib.getPath)(t, \"coding.0.display\") || \"\";\n                                }).filter(Boolean).join(\", \");\n                            }\n                            return String((0, _lib.getPath)(rec, \"type.coding.0.display\") || (0, _lib.getPath)(rec, \"type.text\") || rec.type);\n                        }\n                    }, {\n                        label: \"Criticality\",\n                        path: \"criticality\"\n                    }, {\n                        label: \"Category\",\n                        path: \"category\",\n                        render: function render(rec) {\n                            function renderCategory(c) {\n                                if (!c) {\n                                    return \"N/A\";\n                                }\n\n                                if (typeof c == \"string\") {\n                                    return c;\n                                }\n\n                                if (Array.isArray(c)) {\n                                    return c.map(renderCategory).join(\", \");\n                                }\n\n                                if ((typeof c === \"undefined\" ? \"undefined\" : _typeof(c)) != \"object\") {\n                                    return \"N/A\";\n                                }\n\n                                return c.text || c.display || c.code || renderCategory(c.coding);\n                            }\n\n                            return renderCategory(rec.category);\n                        }\n                    }, {\n                        label: \"Quantity\",\n                        path: \"quantity.value\",\n                        render: function render(rec) {\n                            return _react2.default.createElement(\n                                \"span\",\n                                null,\n                                rec.quantity.value,\n                                _react2.default.createElement(\n                                    \"span\",\n                                    { className: \"text-muted\" },\n                                    \" \",\n                                    rec.quantity.unit || rec.quantity.units || \"\"\n                                )\n                            );\n                        }\n                    }, {\n                        label: \"Days Supply\",\n                        path: \"daysSupply.value\",\n                        render: function render(rec) {\n                            return _react2.default.createElement(\n                                \"span\",\n                                null,\n                                rec.daysSupply.value,\n                                _react2.default.createElement(\n                                    \"span\",\n                                    { className: \"text-muted\" },\n                                    \"\\xA0\",\n                                    rec.daysSupply.unit || rec.daysSupply.units || \"\"\n                                )\n                            );\n                        }\n                    }, {\n                        label: \"Medication\",\n                        path: \"medicationReference.reference\",\n                        render: function render(rec) {\n                            return _react2.default.createElement(\n                                DataLink,\n                                {\n                                    settings: _this2.props.settings,\n                                    path: rec.medicationReference.reference\n                                },\n                                rec.medicationReference.reference\n                            );\n                        }\n                    }], [{\n                        path: \"text.div\",\n                        label: \"Text\",\n                        render: function render(rec) {\n                            return _react2.default.createElement(\"span\", { dangerouslySetInnerHTML: { __html: rec.text.div } });\n                        }\n                    }]);\n                }\n            });\n\n            // 2. Timings ----------------------------------------------------------\n            out.push({\n                label: \"Date\",\n                render: function render(o) {\n                    return renderCell(o, [{\n                        path: \"authoredOn\",\n                        label: \"Authored On\",\n                        render: function render(rec) {\n                            return _react2.default.createElement(_Date2.default, { moment: rec.authoredOn });\n                        }\n                    }, {\n                        path: \"dateWritten\",\n                        label: \"Date Written\",\n                        render: function render(rec) {\n                            return _react2.default.createElement(_Date2.default, { moment: rec.dateWritten });\n                        }\n                    }, {\n                        path: \"performedDateTime\",\n                        label: \"Performed At\",\n                        render: function render(rec) {\n                            return _react2.default.createElement(_Date2.default, { moment: rec.performedDateTime });\n                        }\n                    }, {\n                        path: \"recorded\",\n                        label: \"Recorded\",\n                        render: function render(rec) {\n                            return _react2.default.createElement(_Date2.default, { moment: rec.recorded });\n                        }\n                    }, {\n                        path: \"performedPeriod\",\n                        label: \"Performed\",\n                        render: function render(rec) {\n                            return (0, _Period2.default)(rec.performedPeriod);\n                        }\n                    }, {\n                        path: \"availableTime\",\n                        label: \"Available Time\",\n                        render: function render(rec) {\n                            if (Array.isArray(rec.availableTime)) {\n                                return rec.availableTime.map(function (t, i) {\n                                    return _react2.default.createElement(\n                                        \"div\",\n                                        { key: i },\n                                        t.availableStartTime && _react2.default.createElement(\n                                            \"span\",\n                                            null,\n                                            _react2.default.createElement(\n                                                \"label\",\n                                                null,\n                                                \"from:\\xA0\"\n                                            ),\n                                            _react2.default.createElement(\n                                                \"span\",\n                                                null,\n                                                t.availableStartTime,\n                                                \"\\xA0\"\n                                            )\n                                        ),\n                                        t.availableEndTime && _react2.default.createElement(\n                                            \"span\",\n                                            null,\n                                            _react2.default.createElement(\n                                                \"label\",\n                                                null,\n                                                \"to:\\xA0\"\n                                            ),\n                                            _react2.default.createElement(\n                                                \"span\",\n                                                null,\n                                                t.availableEndTime\n                                            )\n                                        )\n                                    );\n                                });\n                            }\n                        }\n                    }, {\n                        path: \"whenHandedOver\",\n                        label: \"Handed Over\",\n                        render: function render(rec) {\n                            return _react2.default.createElement(_Date2.default, { moment: rec.whenHandedOver });\n                        }\n                    }, {\n                        path: \"issued\",\n                        label: \"Issued\",\n                        raw: function raw(rec) {\n                            return (0, _moment2.default)(rec.issued).format(\"MM/DD/YYYY\");\n                        },\n                        render: function render(rec) {\n                            return _react2.default.createElement(_Date2.default, { moment: rec.issued });\n                        }\n                    }, {\n                        path: \"effectiveDateTime\",\n                        label: \"Effective\",\n                        raw: function raw(rec) {\n                            return (0, _moment2.default)(rec.effectiveDateTime).format(\"MM/DD/YYYY\");\n                        },\n                        render: function render(rec) {\n                            return _react2.default.createElement(_Date2.default, { moment: rec.effectiveDateTime });\n                        }\n                    }, {\n                        path: \"assertedDate\",\n                        label: \"Asserted\",\n                        raw: function raw(rec) {\n                            return rec.assertedDate;\n                        },\n                        render: function render(rec) {\n                            return _react2.default.createElement(_Date2.default, { moment: rec.assertedDate });\n                        }\n                    }], [{\n                        path: \"meta.lastUpdated\",\n                        label: \"Last Updated\",\n                        raw: function raw(rec) {\n                            return rec.meta.lastUpdated;\n                        },\n                        render: function render(rec) {\n                            return _react2.default.createElement(_Date2.default, { moment: rec.meta.lastUpdated });\n                        }\n                    }]);\n                }\n            });\n\n            return out;\n        }\n    }, {\n        key: \"render\",\n        value: function render() {\n            var recs = this.props.resources || [];\n            var length = recs.length;\n            return _react2.default.createElement(_Grid2.default, {\n                rows: recs.map(function (o) {\n                    return o.resource;\n                }),\n                title: length + \" resource\" + (length === 1 ? \"\" : \"s\") + \" of type \" + this.props.type,\n                cols: this.determineSchema(recs[0].resource),\n                comparator: function comparator(a, b) {\n                    var dA = getSortValue(a);\n                    var dB = getSortValue(b);\n                    dA = dA ? +(0, _moment2.default)(dA) : 0;\n                    dB = dB ? +(0, _moment2.default)(dB) : 0;\n                    return dB - dA;\n                }\n            });\n        }\n    }]);\n\n    return ResourceList;\n}(_react2.default.Component);\n\nResourceList.propTypes = {\n    type: _propTypes2.default.string,\n    resources: _propTypes2.default.arrayOf(_propTypes2.default.object).isRequired,\n    settings: _propTypes2.default.object.isRequired\n};\nexports.default = ResourceList;\n\n/***/ }),\n\n/***/ 315:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = Time;\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(3);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction Time(_ref) {\n    var moment = _ref.moment,\n        _ref$format = _ref.format,\n        format = _ref$format === undefined ? \"HH:mm\" : _ref$format,\n        rest = _objectWithoutProperties(_ref, [\"moment\", \"format\"]);\n\n    return _react2.default.createElement(\n        \"span\",\n        rest,\n        (0, _moment2.default)(moment).format(format)\n    );\n}\n\nTime.propTypes = {\n    format: _propTypes2.default.string,\n    moment: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.instanceOf(Date), _propTypes2.default.object // moment\n    ]).isRequired\n};\n\n/***/ }),\n\n/***/ 316:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = ValueRange;\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(3);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ValueRange(_ref) {\n    var range = _ref.range;\n\n    var low = range.low;\n    var high = range.high;\n    return _react2.default.createElement(\n        \"span\",\n        null,\n        low !== undefined && _react2.default.createElement(\n            \"span\",\n            null,\n            _react2.default.createElement(\n                \"span\",\n                { className: \"text-muted\" },\n                \"low: \"\n            ),\n            _react2.default.createElement(\n                \"span\",\n                null,\n                low\n            )\n        ),\n        high !== undefined && _react2.default.createElement(\n            \"span\",\n            null,\n            low !== undefined && _react2.default.createElement(\n                \"span\",\n                null,\n                \"\\xA0\"\n            ),\n            _react2.default.createElement(\n                \"span\",\n                { className: \"text-muted\" },\n                \"high: \"\n            ),\n            _react2.default.createElement(\n                \"span\",\n                null,\n                high\n            )\n        ),\n        high === undefined && low === undefined && _react2.default.createElement(\n            \"small\",\n            { className: \"text-muted\" },\n            \"N/A\"\n        )\n    );\n}\n\nValueRange.propTypes = {\n    range: _propTypes2.default.object.isRequired\n};\n\n/***/ }),\n\n/***/ 317:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(3);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _query = __webpack_require__(21);\n\nvar _lib = __webpack_require__(6);\n\nvar _DialogFooter = __webpack_require__(101);\n\nvar _DialogFooter2 = _interopRequireDefault(_DialogFooter);\n\n__webpack_require__(541);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Footer = function (_React$Component) {\n    _inherits(Footer, _React$Component);\n\n    function Footer() {\n        _classCallCheck(this, Footer);\n\n        return _possibleConstructorReturn(this, (Footer.__proto__ || Object.getPrototypeOf(Footer)).apply(this, arguments));\n    }\n\n    _createClass(Footer, [{\n        key: \"render\",\n        value: function render() {\n            var _this2 = this;\n\n            var msg = this.props.query.error ? \" Error! \" : \" Loading... \";\n            var bundle = this.props.bundle;\n            var hasPrev = bundle && (0, _lib.getBundleURL)(bundle, \"previous\");\n            var hasNext = bundle && (0, _lib.getBundleURL)(bundle, \"next\");\n\n            if (bundle && !this.props.query.error) {\n                if (this.props.query.params._id) {\n                    msg = \"Showing the selected patients only\";\n                } else {\n                    var len = bundle && bundle.entry ? bundle.entry.length : 0;\n                    if (len) {\n                        var startRec = +(this.props.query.offset || 0) + 1;\n                        var endRec = startRec + len - 1;\n\n                        msg = \" patient \" + startRec + \" to \" + endRec + \" \";\n\n                        if (\"total\" in bundle) {\n                            msg += \" of \" + bundle.total + \" \";\n                        }\n                    } else {\n                        msg = \" No Records! \";\n                    }\n                }\n            }\n\n            return _react2.default.createElement(\n                \"div\",\n                { className: \"app-footer\" },\n                _react2.default.createElement(\n                    \"div\",\n                    { className: \"container-fluid\", style: { width: \"100%\" } },\n                    _react2.default.createElement(\n                        \"div\",\n                        { className: \"row\" },\n                        _react2.default.createElement(\n                            \"div\",\n                            { className: \"col-xs-3 col-sm-4 text-right\" },\n                            _react2.default.createElement(\n                                \"a\",\n                                {\n                                    href: \"#prev\",\n                                    onClick: function onClick(e) {\n                                        e.preventDefault();_this2.props.dispatch((0, _query.goPrev)());\n                                    },\n                                    disabled: !hasPrev\n                                },\n                                _react2.default.createElement(\"i\", { className: \"fa fa-arrow-left\" }),\n                                \" Prev\"\n                            )\n                        ),\n                        _react2.default.createElement(\n                            \"div\",\n                            { className: \"col-xs-6 col-sm-4 text-center\" },\n                            msg\n                        ),\n                        _react2.default.createElement(\n                            \"div\",\n                            { className: \"col-xs-3 col-sm-4 text-left\" },\n                            _react2.default.createElement(\n                                \"a\",\n                                {\n                                    href: \"#next\",\n                                    onClick: function onClick(e) {\n                                        e.preventDefault();_this2.props.dispatch((0, _query.goNext)());\n                                    },\n                                    disabled: !hasNext\n                                },\n                                \"Next \",\n                                _react2.default.createElement(\"i\", { className: \"fa fa-arrow-right\" })\n                            )\n                        )\n                    ),\n                    _react2.default.createElement(_DialogFooter2.default, { canShowSelected: this.props.canShowSelected })\n                )\n            );\n        }\n    }]);\n\n    return Footer;\n}(_react2.default.Component);\n\nFooter.propTypes = {\n    bundle: _propTypes2.default.object,\n    query: _propTypes2.default.object.isRequired,\n    dispatch: _propTypes2.default.func.isRequired,\n    selection: _propTypes2.default.object.isRequired,\n    canShowSelected: _propTypes2.default.bool\n};\nexports.default = Footer;\n\n/***/ }),\n\n/***/ 318:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(3);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\n__webpack_require__(542);\n\nvar _query2 = __webpack_require__(21);\n\nvar _redux = __webpack_require__(49);\n\nvar _redux2 = _interopRequireDefault(_redux);\n\nvar _TagSelector = __webpack_require__(327);\n\nvar _TagSelector2 = _interopRequireDefault(_TagSelector);\n\nvar _AgeSelector = __webpack_require__(306);\n\nvar _AgeSelector2 = _interopRequireDefault(_AgeSelector);\n\nvar _SortWidget = __webpack_require__(326);\n\nvar _SortWidget2 = _interopRequireDefault(_SortWidget);\n\nvar _lib = __webpack_require__(6);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Header = function (_React$Component) {\n    _inherits(Header, _React$Component);\n\n    function Header() {\n        _classCallCheck(this, Header);\n\n        return _possibleConstructorReturn(this, (Header.__proto__ || Object.getPrototypeOf(Header)).apply(this, arguments));\n    }\n\n    _createClass(Header, [{\n        key: \"fetch\",\n        value: function fetch() {\n            var delay = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 500;\n\n            if (this.props.settings.submitStrategy == \"automatic\") {\n                if (this.fetchDelay) {\n                    clearTimeout(this.fetchDelay);\n                }\n                this.fetchDelay = setTimeout(function () {\n                    _redux2.default.dispatch((0, _query2.fetch)());\n                }, delay);\n            }\n            // else {\n            //     store.dispatch(fetch())\n            // }\n        }\n    }, {\n        key: \"renderAdvancedTabContents\",\n        value: function renderAdvancedTabContents() {\n            return _react2.default.createElement(\n                \"div\",\n                { className: \"form-group\" },\n                _react2.default.createElement(\n                    \"p\",\n                    { className: \"text-warning\", style: { padding: \"0 5px 5px\", margin: 0 } },\n                    _react2.default.createElement(\"i\", { className: \"fa fa-info-circle\" }),\n                    \" In advanced mode, provide a query string to browse and select from a list of matching patients. \",\n                    _react2.default.createElement(\n                        \"a\",\n                        { target: \"_blank\", href: \"http://hl7.org/fhir/patient.html#search\" },\n                        \"More Info...\"\n                    )\n                ),\n                _react2.default.createElement(\n                    \"form\",\n                    { onSubmit: function onSubmit(e) {\n                            e.preventDefault();\n                            _redux2.default.dispatch((0, _query2.fetch)());\n                        } },\n                    _react2.default.createElement(\n                        \"div\",\n                        { className: \"input-group input-group-sm\" },\n                        _react2.default.createElement(\n                            \"span\",\n                            { className: \"input-group-addon\" },\n                            \"/Patient?\"\n                        ),\n                        _react2.default.createElement(\"input\", {\n                            type: \"text\",\n                            className: \"form-control\",\n                            placeholder: \"Patient Search Query String\",\n                            name: \"query\",\n                            onChange: function onChange(e) {\n                                return _redux2.default.dispatch((0, _query2.setQueryString)(e.target.value));\n                            },\n                            value: this.props.query.queryString\n                        }),\n                        _react2.default.createElement(\n                            \"span\",\n                            { className: \"input-group-btn\" },\n                            _react2.default.createElement(\n                                \"button\",\n                                { className: \"btn btn-warning\", type: \"submit\" },\n                                \"Go\"\n                            )\n                        )\n                    )\n                )\n            );\n        }\n    }, {\n        key: \"renderDemographicsTabContents\",\n        value: function renderDemographicsTabContents() {\n            var _this2 = this;\n\n            return _react2.default.createElement(\n                \"form\",\n                { onSubmit: function onSubmit(e) {\n                        e.preventDefault();\n                        _redux2.default.dispatch((0, _query2.fetch)());\n                    } },\n                _react2.default.createElement(\n                    \"div\",\n                    { className: \"row\" },\n                    _react2.default.createElement(\n                        \"div\",\n                        { className: \"**custom**\" === this.props.query.ageGroup ? \"col-sm-6\" : \"col-sm-12\" },\n                        _react2.default.createElement(\n                            \"div\",\n                            { className: \"form-group\" },\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"input-group\" },\n                                _react2.default.createElement(\n                                    \"span\",\n                                    { className: \"input-group-addon\" },\n                                    _react2.default.createElement(\n                                        \"small\",\n                                        null,\n                                        \"Name:\"\n                                    )\n                                ),\n                                _react2.default.createElement(\"input\", {\n                                    type: \"text\",\n                                    className: \"form-control input-sm\",\n                                    placeholder: \"Search by name...\",\n                                    value: this.props.query.params.name || \"\",\n                                    onChange: function onChange(e) {\n                                        _redux2.default.dispatch((0, _query2.setParam)({\n                                            name: \"name\",\n                                            value: e.target.value\n                                        }));\n                                        _this2.fetch();\n                                    }\n                                })\n                            )\n                        )\n                    ),\n                    _react2.default.createElement(\n                        \"div\",\n                        { className: \"col-sm-6\" },\n                        _react2.default.createElement(\n                            \"div\",\n                            { className: \"form-group\" },\n                            _react2.default.createElement(\n                                \"select\",\n                                {\n                                    className: \"form-control input-sm\",\n                                    onChange: function onChange(e) {\n                                        _redux2.default.dispatch((0, _query2.setGender)(e.target.value));\n                                        _this2.fetch();\n                                    },\n                                    value: this.props.query.gender || \"\"\n                                },\n                                _react2.default.createElement(\n                                    \"option\",\n                                    { value: \"male\" },\n                                    \"Males\"\n                                ),\n                                _react2.default.createElement(\n                                    \"option\",\n                                    { value: \"female\" },\n                                    \"Females\"\n                                ),\n                                _react2.default.createElement(\n                                    \"option\",\n                                    { value: \"\" },\n                                    \"Any Gender\"\n                                )\n                            )\n                        )\n                    ),\n                    _react2.default.createElement(\n                        \"div\",\n                        { className: \"**custom**\" === this.props.query.ageGroup ? \"col-sm-12\" : \"col-sm-6\" },\n                        _react2.default.createElement(\n                            \"div\",\n                            { className: \"form-group\" },\n                            _react2.default.createElement(_AgeSelector2.default, {\n                                min: this.props.query.minAge || { value: 0, units: \"years\" },\n                                max: this.props.query.maxAge || { value: 100, units: \"years\" },\n                                onMinChange: function onMinChange(age) {\n                                    _redux2.default.dispatch((0, _query2.setMinAge)(age));\n                                    //if (\"**custom**\" != this.props.query.ageGroup) {\n                                    _this2.fetch();\n                                    //}\n                                },\n                                onMaxChange: function onMaxChange(age) {\n                                    _redux2.default.dispatch((0, _query2.setMaxAge)(age));\n                                    //if (\"**custom**\" != this.props.query.ageGroup) {\n                                    _this2.fetch();\n                                    //}\n                                },\n                                onGroupChange: function onGroupChange(group) {\n                                    _redux2.default.dispatch((0, _query2.setAgeGroup)(group));\n                                    //if (\"**custom**\" != this.props.query.ageGroup) {\n                                    _this2.fetch();\n                                    //}\n                                }\n                                //update={ () => this.fetch() }\n                                , group: this.props.query.ageGroup\n                            })\n                        )\n                    )\n                )\n            );\n        }\n    }, {\n        key: \"renderConditionsTabContents\",\n        value: function renderConditionsTabContents() {\n            var _this3 = this;\n\n            return _react2.default.createElement(\n                \"div\",\n                { className: \"row\" },\n                _react2.default.createElement(\n                    \"div\",\n                    { className: \"col-sm-12\" },\n                    _react2.default.createElement(\n                        \"div\",\n                        { className: \"form-group\" },\n                        _react2.default.createElement(_TagSelector2.default, {\n                            tags: Object.keys(this.props.settings.server.conditions).map(function (key) {\n                                var condition = _this3.props.settings.server.conditions[key];\n                                return {\n                                    key: key,\n                                    label: condition.description,\n                                    data: condition\n                                };\n                            }),\n                            onChange: function onChange(selection) {\n                                var conditions = {};\n                                selection.forEach(function (tag) {\n                                    conditions[tag.key] = tag.data;\n                                });\n                                _redux2.default.dispatch((0, _query2.setConditions)(conditions));\n                                _this3.fetch();\n                            },\n                            label: \"condition code\",\n                            selected: Object.keys(this.props.query.conditions)\n                        })\n                    )\n                )\n            );\n        }\n    }, {\n        key: \"renderTagsTabContents\",\n        value: function renderTagsTabContents() {\n            var _this4 = this;\n\n            var selected = this.props.query.tags || this.props.settings.server.tags.filter(function (tag) {\n                return !!tag.selected;\n            }).map(function (tag) {\n                return !!tag.key;\n            });\n            return _react2.default.createElement(\n                \"div\",\n                { className: \"row\" },\n                _react2.default.createElement(\n                    \"div\",\n                    { className: \"col-sm-12\" },\n                    _react2.default.createElement(\n                        \"div\",\n                        { className: \"form-group\" },\n                        _react2.default.createElement(_TagSelector2.default, {\n                            tags: this.props.settings.server.tags,\n                            selected: selected,\n                            onChange: function onChange(sel) {\n                                var tags = Object.keys(sel).map(function (k) {\n                                    return sel[k].key;\n                                });\n                                _redux2.default.dispatch((0, _query2.setTags)(tags));\n                                _this4.fetch();\n                            },\n                            label: \"tag\"\n                        })\n                    )\n                )\n            );\n        }\n    }, {\n        key: \"render\",\n        value: function render() {\n            var _query = (0, _lib.parseQueryString)(this.props.location.search);\n            var _advanced = this.props.query.queryType == \"advanced\";\n            var conditionsCount = Object.keys(this.props.query.conditions).length;\n            var demographicsCount = 0;\n            var tagsCount = Object.keys(this.props.query.tags).length;\n\n            // Compute which the active tab should be\n            var tabs = [\"demographics\", \"conditions\"];\n            if (!this.props.settings.hideTagSelector) {\n                tabs.push(\"tags\");\n            }\n            var _tab = _query._tab || \"\";\n            if (tabs.indexOf(_tab) == -1) {\n                _tab = \"demographics\";\n            }\n\n            // Manually increment the value for the demographics badge depending on\n            // the state of the app\n\n            if (this.props.query.gender) {\n                demographicsCount += 1;\n            }\n\n            if (this.props.query.params.name) {\n                demographicsCount += 1;\n            }\n\n            if (this.props.query.maxAge !== null || this.props.query.minAge !== null) {\n                demographicsCount += 1;\n            }\n\n            return _react2.default.createElement(\n                \"div\",\n                { className: \"app-header\" },\n                _react2.default.createElement(\n                    \"div\",\n                    { style: { flexDirection: \"row\" } },\n                    _react2.default.createElement(\n                        \"label\",\n                        { className: \"pull-right advanced-label text-warning\" },\n                        \"Advanced \",\n                        _react2.default.createElement(\n                            \"span\",\n                            { className: \"hidden-xs\" },\n                            \"Mode \"\n                        ),\n                        \" \",\n                        _react2.default.createElement(\"input\", {\n                            type: \"checkbox\",\n                            checked: _advanced,\n                            onChange: function onChange(e) {\n                                _redux2.default.dispatch((0, _query2.setQueryType)(e.target.checked ? \"advanced\" : \"basic\"));\n                            }\n                        })\n                    ),\n                    _advanced ? _react2.default.createElement(\"ul\", { className: \"nav nav-tabs\" }) : _react2.default.createElement(\n                        \"ul\",\n                        { className: \"nav nav-tabs\" },\n                        _react2.default.createElement(\n                            \"li\",\n                            { className: !_advanced && _tab == \"demographics\" ? \"active\" : null },\n                            _react2.default.createElement(\n                                \"a\",\n                                { href: \"\", onClick: function onClick(e) {\n                                        e.preventDefault();(0, _lib.setHashParam)(\"_tab\", \"demographics\");\n                                    } },\n                                _react2.default.createElement(\n                                    \"b\",\n                                    null,\n                                    \"Demographics\"\n                                ),\n                                demographicsCount ? _react2.default.createElement(\n                                    \"span\",\n                                    { className: \"hidden-xs\" },\n                                    \" \",\n                                    _react2.default.createElement(\n                                        \"small\",\n                                        { className: \"badge\" },\n                                        demographicsCount\n                                    )\n                                ) : null\n                            )\n                        ),\n                        _react2.default.createElement(\n                            \"li\",\n                            { className: !_advanced && _tab == \"conditions\" ? \"active\" : null },\n                            _react2.default.createElement(\n                                \"a\",\n                                { href: \"\", onClick: function onClick(e) {\n                                        e.preventDefault();(0, _lib.setHashParam)(\"_tab\", \"conditions\");\n                                    } },\n                                _react2.default.createElement(\n                                    \"b\",\n                                    null,\n                                    \"Conditions\"\n                                ),\n                                conditionsCount ? _react2.default.createElement(\n                                    \"span\",\n                                    { className: \"hidden-xs\" },\n                                    \" \",\n                                    _react2.default.createElement(\n                                        \"small\",\n                                        { className: \"badge\" },\n                                        conditionsCount\n                                    )\n                                ) : null\n                            )\n                        ),\n                        this.props.settings.hideTagSelector || this.props.query.params._id ? null : _react2.default.createElement(\n                            \"li\",\n                            { className: !_advanced && _tab == \"tags\" ? \"active\" : null },\n                            _react2.default.createElement(\n                                \"a\",\n                                { href: \"\", onClick: function onClick(e) {\n                                        e.preventDefault();(0, _lib.setHashParam)(\"_tab\", \"tags\");\n                                    } },\n                                _react2.default.createElement(\n                                    \"b\",\n                                    null,\n                                    \"Tags\"\n                                ),\n                                tagsCount ? _react2.default.createElement(\n                                    \"span\",\n                                    { className: \"hidden-xs\" },\n                                    \" \",\n                                    _react2.default.createElement(\n                                        \"small\",\n                                        { className: \"badge\" },\n                                        tagsCount\n                                    )\n                                ) : null\n                            )\n                        )\n                    )\n                ),\n                _react2.default.createElement(\n                    \"div\",\n                    { className: \"tab-content\" },\n                    _react2.default.createElement(\n                        \"div\",\n                        { className: \"tab-pane \" + (_advanced ? \"active\" : \"\") },\n                        this.renderAdvancedTabContents()\n                    ),\n                    _react2.default.createElement(\n                        \"div\",\n                        { className: \"tab-pane \" + (!_advanced && _tab == \"demographics\" ? \"active\" : \"\") },\n                        this.renderDemographicsTabContents()\n                    ),\n                    _react2.default.createElement(\n                        \"div\",\n                        { className: \"tab-pane \" + (!_advanced && _tab == \"conditions\" ? \"active\" : \"\") },\n                        this.renderConditionsTabContents()\n                    ),\n                    this.props.settings.hideTagSelector || this.props.query.params._id ? null : _react2.default.createElement(\n                        \"div\",\n                        { className: \"tab-pane \" + (!_advanced && _tab == \"tags\" ? \"active\" : \"\") },\n                        this.renderTagsTabContents()\n                    ),\n                    !_advanced && this.props.settings.submitStrategy == \"manual\" ? _react2.default.createElement(\n                        \"div\",\n                        { className: \"text-right\", style: { height: 0 } },\n                        _react2.default.createElement(\n                            \"button\",\n                            {\n                                type: \"button\",\n                                onClick: function onClick() {\n                                    return _redux2.default.dispatch((0, _query2.fetch)());\n                                },\n                                className: \"btn btn-primary btn-submit\"\n                            },\n                            _react2.default.createElement(\"i\", { className: \"fa fa-search\" }),\n                            \" Search\"\n                        )\n                    ) : null\n                ),\n                _advanced ? null : _react2.default.createElement(_SortWidget2.default, {\n                    sort: this.props.query.sort,\n                    onChange: function onChange(sort) {\n                        _redux2.default.dispatch((0, _query2.setSort)(sort));\n                        _redux2.default.dispatch((0, _query2.fetch)());\n                    }\n                })\n            );\n        }\n    }]);\n\n    return Header;\n}(_react2.default.Component);\n\nHeader.propTypes = {\n    settings: _propTypes2.default.object.isRequired,\n    query: _propTypes2.default.object.isRequired,\n    location: _propTypes2.default.object.isRequired,\n    urlParams: _propTypes2.default.object.isRequired\n};\nexports.default = Header;\n\n/***/ }),\n\n/***/ 319:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(3);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\n__webpack_require__(544);\n\nvar _lib = __webpack_require__(6);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar PatientAlert = function (_React$Component) {\n    _inherits(PatientAlert, _React$Component);\n\n    function PatientAlert() {\n        var _ref;\n\n        var _temp, _this, _ret;\n\n        _classCallCheck(this, PatientAlert);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = PatientAlert.__proto__ || Object.getPrototypeOf(PatientAlert)).call.apply(_ref, [this].concat(args))), _this), _this.handleClick = function () {\n            _this.props.toggle();\n        }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    _createClass(PatientAlert, [{\n        key: \"render\",\n        value: function render() {\n            console.log(this.props.patient);\n\n            var _props = this.props,\n                className = _props.className,\n                style = _props.style,\n                patient = _props.patient,\n                base = _props.base,\n                rest = _objectWithoutProperties(_props, [\"className\", \"style\", \"patient\", \"base\"]);\n\n            style = _extends({}, style || {});\n            style.backgroundColor = 'rgba(255, 255, 255, 0.6)';\n            return _react2.default.createElement(\n                \"div\",\n                { className: \"modal_local\" },\n                _react2.default.createElement(\n                    \"div\",\n                    { className: \"modal_content\" },\n                    _react2.default.createElement(\n                        \"span\",\n                        { className: \"close\", onClick: this.handleClick },\n                        \"\\xD7\"\n                    ),\n                    _react2.default.createElement(\n                        \"div\",\n                        null,\n                        _react2.default.createElement(\n                            \"h3\",\n                            { className: \"alert_heading\" },\n                            \"BEHAVIORAL SAFETY ALERT\"\n                        ),\n                        _react2.default.createElement(\n                            \"div\",\n                            null,\n                            \"The \",\n                            _react2.default.createElement(\n                                \"strong\",\n                                null,\n                                \" VA REACH VET \"\n                            ),\n                            \" predictive model has determined that \",\n                            _react2.default.createElement(\n                                \"strong\",\n                                { className: \"orange_hightlight\" },\n                                (0, _lib.getPatientName)(this.props.patient)\n                            ),\n                            \" is at \",\n                            _react2.default.createElement(\n                                \"strong\",\n                                null,\n                                \"Elevated/High\"\n                            ),\n                            \" risk for suicide ideation for the following clinical reasons :\",\n                            _react2.default.createElement(\n                                \"ul\",\n                                { className: \"orange_hightlight\" },\n                                _react2.default.createElement(\n                                    \"li\",\n                                    null,\n                                    \" 1.  [Clinical Reason 1]\"\n                                ),\n                                _react2.default.createElement(\n                                    \"li\",\n                                    null,\n                                    \" 2.  [Clinical Reason 2]\"\n                                )\n                            ),\n                            _react2.default.createElement(\n                                \"p\",\n                                null,\n                                \" The following areas of the patient record are recommended for review :\"\n                            ),\n                            _react2.default.createElement(\n                                \"ul\",\n                                null,\n                                _react2.default.createElement(\n                                    \"li\",\n                                    null,\n                                    \" Link to \",\n                                    _react2.default.createElement(\n                                        \"a\",\n                                        null,\n                                        \"Problem List\"\n                                    )\n                                ),\n                                _react2.default.createElement(\n                                    \"li\",\n                                    null,\n                                    \" Link to \",\n                                    _react2.default.createElement(\n                                        \"a\",\n                                        null,\n                                        \"Current Medication\"\n                                    )\n                                ),\n                                _react2.default.createElement(\n                                    \"li\",\n                                    null,\n                                    \" Link to \",\n                                    _react2.default.createElement(\n                                        \"a\",\n                                        null,\n                                        \"Problem Encounters last 30 Days\"\n                                    )\n                                )\n                            ),\n                            _react2.default.createElement(\n                                \"p\",\n                                null,\n                                \" In addition, because \",\n                                _react2.default.createElement(\n                                    \"strong\",\n                                    null,\n                                    (0, _lib.getPatientName)(this.props.patient)\n                                ),\n                                \" lives at \",\n                                _react2.default.createElement(\n                                    \"strong\",\n                                    null,\n                                    (0, _lib.getPatientHomeAddress)(this.props.patient)\n                                ),\n                                \", they are at elevated rils for the following community reasons :\"\n                            ),\n                            _react2.default.createElement(\n                                \"ul\",\n                                { className: \"orange_hightlight\" },\n                                _react2.default.createElement(\n                                    \"li\",\n                                    null,\n                                    \" 1.  Food insecurity / Substance Sbuse/ Poor Health/ Severe Housing issues\"\n                                ),\n                                _react2.default.createElement(\n                                    \"li\",\n                                    null,\n                                    \" 2.  Food insecurity / Substance Sbuse/ Poor Health/ Severe Housing issues\"\n                                )\n                            ),\n                            _react2.default.createElement(\n                                \"p\",\n                                null,\n                                \" The following are the individuals who are a part of \",\n                                _react2.default.createElement(\n                                    \"strong\",\n                                    null,\n                                    \"PAtient Name 's\"\n                                ),\n                                \" care team :\"\n                            ),\n                            _react2.default.createElement(\n                                \"ul\",\n                                { className: \"orange_hightlight\" },\n                                _react2.default.createElement(\n                                    \"li\",\n                                    null,\n                                    \" [Care Giver #1],[Role/Position],[Contact Info]\"\n                                ),\n                                _react2.default.createElement(\n                                    \"li\",\n                                    null,\n                                    \" [Care Giver #2],[Role/Position],[Contact Info]\"\n                                ),\n                                _react2.default.createElement(\n                                    \"li\",\n                                    null,\n                                    \" [Care Giver #3],[Role/Position],[Contact Info]\"\n                                )\n                            )\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n\n    return PatientAlert;\n}(_react2.default.Component);\n\nPatientAlert.propTypes = {\n    patient: _propTypes2.default.object.isRequired,\n    className: _propTypes2.default.string,\n    style: _propTypes2.default.object,\n    base: _propTypes2.default.string,\n    toggle: _propTypes2.default.func\n};\nPatientAlert.defaultProps = {\n    base: \"\"\n};\nexports.default = PatientAlert;\n\n/***/ }),\n\n/***/ 320:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.PatientDetail = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(3);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _PatientImage = __webpack_require__(104);\n\nvar _PatientImage2 = _interopRequireDefault(_PatientImage);\n\nvar _Loader = __webpack_require__(103);\n\nvar _Loader2 = _interopRequireDefault(_Loader);\n\nvar _reactRedux = __webpack_require__(19);\n\nvar _jquery = __webpack_require__(26);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _reactRouterDom = __webpack_require__(46);\n\nvar _DialogFooter = __webpack_require__(101);\n\nvar _DialogFooter2 = _interopRequireDefault(_DialogFooter);\n\nvar _selection = __webpack_require__(50);\n\nvar _redux = __webpack_require__(49);\n\nvar _redux2 = _interopRequireDefault(_redux);\n\nvar _query = __webpack_require__(21);\n\nvar _Observation = __webpack_require__(312);\n\nvar _Observation2 = _interopRequireDefault(_Observation);\n\nvar _ImmunizationList = __webpack_require__(311);\n\nvar _ImmunizationList2 = _interopRequireDefault(_ImmunizationList);\n\nvar _ConditionList = __webpack_require__(309);\n\nvar _ConditionList2 = _interopRequireDefault(_ConditionList);\n\nvar _Encounter = __webpack_require__(310);\n\nvar _Encounter2 = _interopRequireDefault(_Encounter);\n\nvar _CarePlan = __webpack_require__(308);\n\nvar _CarePlan2 = _interopRequireDefault(_CarePlan);\n\nvar _Person = __webpack_require__(313);\n\nvar _Person2 = _interopRequireDefault(_Person);\n\nvar _ResourceList = __webpack_require__(314);\n\nvar _ResourceList2 = _interopRequireDefault(_ResourceList);\n\nvar _UserService = __webpack_require__(22);\n\nvar _UserService2 = _interopRequireDefault(_UserService);\n\nvar _lib = __webpack_require__(6);\n\n__webpack_require__(545);\n\nvar _PatientAlert = __webpack_require__(319);\n\nvar _PatientAlert2 = _interopRequireDefault(_PatientAlert);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n//import Popup from 'reactjs-popup';\n\n/**\n * Renders the detail page.\n */\nvar PatientDetail = exports.PatientDetail = function (_React$Component) {\n    _inherits(PatientDetail, _React$Component);\n\n    function PatientDetail() {\n        var _ref;\n\n        _classCallCheck(this, PatientDetail);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        var _this = _possibleConstructorReturn(this, (_ref = PatientDetail.__proto__ || Object.getPrototypeOf(PatientDetail)).call.apply(_ref, [this].concat(args)));\n\n        _this.state = {\n            alertseen: false\n        };\n\n        _this.togglePop = function () {\n            _this.setState({\n                alertseen: !_this.state.alertseen\n            });\n        };\n\n        _this.query = _query.queryBuilder.clone();\n        _this.state = {\n            loading: false,\n            error: null,\n            conditions: [],\n            patient: {},\n            index: 0,\n            hasNext: false,\n            groups: {},\n            selectedSubCat: \"\",\n            alertseen: false,\n            bundle: _jquery2.default.isEmptyObject(_this.props.query.bundle) ? null : _extends({}, _this.props.query.bundle)\n        };\n        return _this;\n    }\n\n    _createClass(PatientDetail, [{\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n            this.fetch(this.props.match.params.index);\n        }\n    }, {\n        key: \"componentWillReceiveProps\",\n        value: function componentWillReceiveProps(newProps) {\n            if (newProps.match.params.index !== this.props.match.params.index) {\n                this.fetch(newProps.match.params.index);\n            }\n        }\n    }, {\n        key: \"fetch\",\n        value: function fetch(index) {\n            var _this2 = this;\n\n            index = (0, _lib.intVal)(index, -1);\n            if (index < 0) {\n                return this.setState({ error: new Error(\"Invalid patient index\") });\n            }\n\n            this.setState({ loading: true, index: index }, function () {\n                _this2.fetchPatient(_this2.props.settings.server, index).then(function (state) {\n                    // console.log(state);\n                    _this2.setState(_extends({}, state, {\n                        error: null,\n                        loading: false\n                    }));\n                }).catch(function (error) {\n                    _this2.setState({\n                        loading: false,\n                        error: error\n                    });\n                });\n            });\n        }\n\n        /**\n         * This page receives an \"index\" url parameter. It will repeat the same\n         * query from the search page but with limit=1 and offset=index so that the\n         * search returns only one page. The reason for this is that we also have\n         * these \"Prev Patient\" and \"Next Patient\" buttons that allow the user to\n         * walk through the result one patient at a time.\n         * @param {Object} server\n         * @param {Object} server.url\n         * @param {Object} server.type\n         * @param {Number} index\n         */\n\n    }, {\n        key: \"fetchPatient\",\n        value: function fetchPatient(server, index) {\n            var _this3 = this;\n\n            // =====================================================================\n            // Warning! The following are some ugly workarounds for the ugly API\n            // that does not support normal pagination!\n            // =====================================================================\n\n            return Promise.resolve(_extends({}, this.state))\n\n            // Run the main query to fetch the first page\n            .then(function (state) {\n                _this3.query.cacheId = null;\n                _this3.query.offset = null;\n                return _this3.query.fetch(server).then(function (bundle) {\n                    state.bundle = bundle;\n                    return state;\n                });\n            })\n\n            // Try to find the patient by index\n            .then(function (state) {\n                index = (0, _lib.intVal)(index, -1);\n                if (index < 0) {\n                    return Promise.reject(\"Invalid patient index\");\n                }\n\n                state.patient = (0, _lib.getPath)(state, \"bundle.entry.\" + index + \".resource\");\n                state.nextURL = (0, _lib.getBundleURL)(state.bundle, \"next\");\n                state.hasNext = !!state.nextURL || (state.patient ? index < state.bundle.entry.length - 1 : false);\n                return Promise.resolve(state);\n            })\n\n            // if no patient - jump to it's index\n            .then(function (state) {\n                if (!state.patient) {\n                    var params = (0, _lib.parseQueryString)(state.nextURL);\n                    _this3.query.setOffset(params._getpages, index);\n                    return _this3.query.fetch(server).then(function (bundle) {\n                        state.bundle = bundle;\n                        state.patient = (0, _lib.getPath)(state, \"bundle.entry.0.resource\");\n                        state.hasNext = state.patient ? _this3.query.limit && _this3.query.limit > 1 ? state.bundle.entry.length > 1 : (0, _lib.getBundleURL)(state.bundle, \"next\") : false;\n                        return state;\n                    });\n                }\n                return state;\n            }).then(function (state) {\n                return new Promise(function (resolve) {\n                    _this3.setState(state, function () {\n                        return resolve(state);\n                    });\n                });\n            })\n\n            // Find $everything\n            .then(function (state) {\n                return (0, _lib.getAllPages)({ url: server.url + \"/Patient/\" + state.patient.id + \"/$everything?_count=500\" }).then(function (data) {\n                    var groups = {};\n                    data.forEach(function (entry) {\n                        var resourceType = (0, _lib.getPath)(entry, \"resource.resourceType\") || \"Other\";\n                        var type = resourceType;\n\n                        if (type == \"Observation\") {\n                            var subCat = String((0, _lib.getPath)(entry, \"resource.category.0.text\") || (0, _lib.getPath)(entry, \"resource.category.coding.0.code\") || (0, _lib.getPath)(entry, \"resource.category.0.coding.0.code\") || \"Other\").toLowerCase();\n\n                            subCat = subCat.split(/\\-+/).map(function (token) {\n                                return token.charAt(0).toUpperCase() + token.substr(1);\n                            }).join(\" \");\n                            type += \" - \" + subCat;\n                        }\n\n                        if (!Array.isArray(groups[type])) {\n                            groups[type] = [];\n                        }\n                        groups[type].push(entry);\n                    });\n                    state.groups = groups;\n                    return state;\n                });\n            })\n\n            // Feed the results to the app\n            .then(function (state) {\n                return Promise.resolve(state);\n            }, function (error) {\n                return Promise.reject(new Error((0, _lib.getErrorMessage)(error)));\n            });\n        }\n\n        // Rendering methods -------------------------------------------------------\n\n    }, {\n        key: \"renderPatient\",\n        value: function renderPatient() {\n            var _this4 = this;\n\n            if (this.state.error) {\n                return this.state.error + \"\";\n            }\n\n            var idLower = (this.state.patient.id || \"\").toLowerCase();\n            var key = idLower && Object.keys(this.props.selection).find(function (k) {\n                return k.toLowerCase() == idLower;\n            });\n            var selected = key && this.props.selection[key] !== false;\n            return _react2.default.createElement(\n                \"div\",\n                { className: \"panel panel-default patient col-xs-12\" },\n                _react2.default.createElement(\n                    \"p\",\n                    null,\n                    \" Signed in as : \",\n                    _UserService2.default.getUsername()\n                ),\n                _react2.default.createElement(\n                    \"button\",\n                    { className: \"btn btn-danger\", onClick: this.togglePop },\n                    \"Show Alerts\"\n                ),\n                this.state.alertseen ? _react2.default.createElement(_PatientAlert2.default, { toggle: this.togglePop, patient: this.state.patient,\n                    className: \"embed-responsive-item\",\n                    base: this.props.settings.server.url }) : null,\n                _react2.default.createElement(\n                    \"div\",\n                    { className: \"row\" },\n                    this.state.loading ? _react2.default.createElement(_Loader2.default, null) : null,\n                    _react2.default.createElement(\n                        \"div\",\n                        { className: \"col-xs-2 col-sm-2 col-md-1\" },\n                        _react2.default.createElement(\n                            \"div\",\n                            { className: \"embed-responsive\" },\n                            _react2.default.createElement(_PatientImage2.default, {\n                                patient: this.state.patient,\n                                className: \"embed-responsive-item\",\n                                base: this.props.settings.server.url\n                            })\n                        )\n                    ),\n                    _react2.default.createElement(\n                        \"div\",\n                        { className: \"col-xs-10 col-md-11\" },\n                        _react2.default.createElement(\n                            \"div\",\n                            { className: \"patient-row\" },\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-7 patient-name\" },\n                                _react2.default.createElement(\n                                    \"h3\",\n                                    { className: \"pull-left text-primary\" },\n                                    (0, _lib.getPatientName)(this.state.patient) || (this.state.loading ? \"loading...\" : \"Unknown\")\n                                ),\n                                selected ? _react2.default.createElement(\n                                    \"i\",\n                                    { className: \"label label-success pull-left\" },\n                                    \"Selected\"\n                                ) : null\n                            ),\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-5 text-right\", style: { paddingRight: 0 } },\n                                _react2.default.createElement(\n                                    \"button\",\n                                    {\n                                        type: \"button\",\n                                        className: \"btn btn-sm btn-\" + (selected ? \"danger\" : \"primary\"),\n                                        onClick: function onClick() {\n                                            return _redux2.default.dispatch((0, _selection.toggle)({ id: _this4.state.patient.id }));\n                                        }\n                                    },\n                                    selected ? \"Unselect\" : \"Select\"\n                                ),\n                                _react2.default.createElement(\n                                    \"button\",\n                                    {\n                                        type: \"button\",\n                                        className: \"btn btn-default btn-sm\",\n                                        onClick: function onClick() {\n                                            return _this4.fetch(_this4.props.match.params.index);\n                                        }\n                                    },\n                                    _react2.default.createElement(\"i\", { className: \"fa fa-refresh\" }),\n                                    \" Reload\"\n                                )\n                            )\n                        ),\n                        _react2.default.createElement(\n                            \"div\",\n                            { className: \"row\" },\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-4 col-sm-2 col-lg-1 text-right text-muted\" },\n                                \"Gender:\"\n                            ),\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-8 col-sm-3 col-lg-3 text-left\" },\n                                this.state.patient.gender || (this.state.loading ? \"loading...\" : \"Unknown\")\n                            ),\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-4 col-sm-2 col-lg-1 text-right text-muted\" },\n                                \"DOB:\"\n                            ),\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-8 col-sm-5 col-lg-3 text-left\" },\n                                this.state.patient.birthDate || (this.state.loading ? \"loading...\" : \"Unknown\")\n                            ),\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-4 col-sm-2 col-lg-1 text-right text-muted\" },\n                                \"Age:\"\n                            ),\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-8 col-sm-3 col-lg-3 text-left\" },\n                                (0, _lib.getPatientAge)(this.state.patient) || (this.state.loading ? \"loading...\" : \"Unknown\")\n                            ),\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-4 col-sm-2 col-lg-1 text-right text-muted\" },\n                                \"Email\"\n                            ),\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-8 col-sm-5 col-lg-3 text-left\" },\n                                (0, _lib.getPatientEmail)(this.state.patient) || (this.state.loading ? \"loading...\" : \"Unknown\")\n                            ),\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-4 col-sm-2 col-lg-1 text-right text-muted\" },\n                                \"Phone:\"\n                            ),\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-8 col-sm-3 col-lg-3 text-left\" },\n                                (0, _lib.getPatientPhone)(this.state.patient) || (this.state.loading ? \"loading...\" : \"Unknown\")\n                            ),\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-4 col-sm-2 col-lg-1 text-right text-muted\" },\n                                \"Address:\"\n                            ),\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-8 col-sm-5 col-lg-3 text-left\" },\n                                (0, _lib.getPatientHomeAddress)(this.state.patient) || (this.state.loading ? \"loading...\" : \"Unknown\")\n                            ),\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-4 col-sm-2 col-lg-1 text-right text-muted\" },\n                                \"ID:\"\n                            ),\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-8 col-sm-3 col-lg-3 text-left\" },\n                                this.state.patient.id || (this.state.loading ? \"loading...\" : \"Unknown\")\n                            ),\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-4 col-sm-2 col-lg-1 text-right text-muted\" },\n                                \"MRN:\"\n                            ),\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-8 col-sm-5 col-lg-3 text-left\" },\n                                (0, _lib.getPatientMRN)(this.state.patient) || (this.state.loading ? \"loading...\" : \"Unknown\")\n                            ),\n                            this.state.patient.deceasedBoolean || this.state.patient.deceasedDateTime ? _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-4 col-sm-2 col-lg-1 text-right text-muted\" },\n                                _react2.default.createElement(\n                                    \"span\",\n                                    { className: \"deceased-label\" },\n                                    \"Deceased:\"\n                                )\n                            ) : null,\n                            this.state.patient.deceasedBoolean || this.state.patient.deceasedDateTime ? _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-8 col-sm-5 col-lg-3 text-left\" },\n                                this.state.patient.deceasedDateTime ? _react2.default.createElement(\n                                    \"span\",\n                                    null,\n                                    this.state.patient.deceasedDateTime\n                                ) : _react2.default.createElement(\n                                    \"span\",\n                                    null,\n                                    this.state.patient.deceasedBoolean ? \"Yes\" : \"No\"\n                                )\n                            ) : null\n                        )\n                    )\n                )\n            );\n        }\n    }, {\n        key: \"renderResources\",\n        value: function renderResources(type) {\n            var items = this.state.groups[type] || [];\n            if (!items.length) {\n                return _react2.default.createElement(\n                    \"p\",\n                    { className: \"text-center text-muted\" },\n                    \"No items of type \\\"\",\n                    type,\n                    \"\\\" found\"\n                );\n            }\n\n            if (type.indexOf(\"Observation\") === 0) {\n                return _react2.default.createElement(_Observation2.default, { resources: items });\n            }\n\n            switch (type) {\n                case \"Immunization\":\n                    return _react2.default.createElement(_ImmunizationList2.default, { resources: items });\n                case \"Condition\":\n                    return _react2.default.createElement(_ConditionList2.default, { resources: items });\n                case \"Encounter\":\n                    return _react2.default.createElement(_Encounter2.default, { resources: items });\n                case \"CarePlan\":\n                    return _react2.default.createElement(_CarePlan2.default, { resources: items });\n                case \"Patient\":\n                case \"Practitioner\":\n                case \"RelatedPerson\":\n                    return _react2.default.createElement(_Person2.default, { resources: items, title: type });\n                default:\n                    return _react2.default.createElement(_ResourceList2.default, { resources: items, type: type, settings: this.props.settings });\n            }\n        }\n    }, {\n        key: \"render\",\n        value: function render() {\n            var _this5 = this;\n\n            var groups = Object.keys(this.state.groups).sort();\n            var selectedSubCat = this.state.selectedSubCat;\n            if (!selectedSubCat || !this.state.groups[selectedSubCat]) {\n                selectedSubCat = Object.keys(this.state.groups)[0] || \"\";\n            }\n\n            return _react2.default.createElement(\n                \"div\",\n                { className: \"page patient-detail-page\" },\n                _react2.default.createElement(\n                    \"nav\",\n                    { className: \"navbar bg-primary navbar-fixed-top\" },\n                    _react2.default.createElement(\n                        \"div\",\n                        { className: \"container-fluid\" },\n                        _react2.default.createElement(\n                            \"div\",\n                            { className: \"row navigator\" },\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-4 col-sm-4 col-md-3 col-lg-2\" },\n                                _react2.default.createElement(\n                                    _reactRouterDom.Link,\n                                    {\n                                        to: \"/patient/\" + (this.state.index - 1),\n                                        className: \"btn btn-primary btn-block\",\n                                        disabled: this.state.index < 1\n                                    },\n                                    _react2.default.createElement(\"i\", { className: \"fa fa-chevron-left\" }),\n                                    _react2.default.createElement(\n                                        \"b\",\n                                        null,\n                                        \"Prev\",\n                                        _react2.default.createElement(\n                                            \"span\",\n                                            { className: \"hidden-xs\" },\n                                            \"ious Patient\"\n                                        )\n                                    )\n                                )\n                            ),\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-4 col-sm-4 col-md-6 col-lg-8 text-center\" },\n                                _react2.default.createElement(\n                                    _reactRouterDom.Link,\n                                    { className: \"btn btn-block text-center\", to: \"/\" },\n                                    _react2.default.createElement(\n                                        \"span\",\n                                        { className: \"hidden-xs\" },\n                                        \"Browse Patients\"\n                                    ),\n                                    _react2.default.createElement(\n                                        \"span\",\n                                        { className: \"visible-xs\" },\n                                        \"Browse\"\n                                    )\n                                )\n                            ),\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-4 col-sm-4 col-md-3 col-lg-2 text-right\" },\n                                _react2.default.createElement(\n                                    _reactRouterDom.Link,\n                                    {\n                                        to: \"/patient/\" + (this.state.index + 1),\n                                        className: \"btn btn-primary btn-block\",\n                                        disabled: !this.state.hasNext\n                                    },\n                                    _react2.default.createElement(\n                                        \"b\",\n                                        null,\n                                        \"Next\",\n                                        _react2.default.createElement(\n                                            \"span\",\n                                            { className: \"hidden-xs\" },\n                                            \" Patient\"\n                                        )\n                                    ),\n                                    _react2.default.createElement(\"i\", { className: \"fa fa-chevron-right\" })\n                                )\n                            )\n                        )\n                    )\n                ),\n                _react2.default.createElement(\n                    \"div\",\n                    { className: \"container\" },\n                    this.renderPatient(),\n                    groups.length ? _react2.default.createElement(\n                        \"div\",\n                        { className: \"row patient-details\" },\n                        _react2.default.createElement(\"br\", null),\n                        _react2.default.createElement(\n                            \"div\",\n                            { className: \"col-xs-12 col-sm-3\" },\n                            _react2.default.createElement(\n                                \"ul\",\n                                { className: \"list-group\" },\n                                groups.map(function (k, i) {\n                                    return _react2.default.createElement(\n                                        \"a\",\n                                        {\n                                            href: \"#\",\n                                            key: i,\n                                            className: \"list-group-item\" + (k === selectedSubCat ? \" active\" : \"\"),\n                                            onClick: function onClick(e) {\n                                                e.preventDefault();\n                                                _this5.setState({\n                                                    selectedSubCat: k\n                                                });\n                                            }\n                                        },\n                                        _react2.default.createElement(\n                                            \"b\",\n                                            { className: \"badge pull-right\" },\n                                            _this5.state.groups[k].length\n                                        ),\n                                        _react2.default.createElement(\n                                            \"b\",\n                                            null,\n                                            k\n                                        )\n                                    );\n                                })\n                            )\n                        ),\n                        _react2.default.createElement(\n                            \"div\",\n                            { className: \"col-xs-12 col-sm-9\" },\n                            this.renderResources(selectedSubCat)\n                        )\n                    ) : this.state.loading ? null : _react2.default.createElement(\n                        \"div\",\n                        { className: \"row\" },\n                        _react2.default.createElement(\n                            \"div\",\n                            { className: \"col-xs-12 text-muted text-center\" },\n                            \"No additional details for this patient\"\n                        )\n                    )\n                ),\n                window.opener || window.parent && window.parent !== window ? _react2.default.createElement(\n                    \"nav\",\n                    { className: \"navbar navbar-default navbar-fixed-bottom\" },\n                    _react2.default.createElement(\n                        \"div\",\n                        { className: \"container-fluid\", style: { width: \"100%\" } },\n                        _react2.default.createElement(\n                            \"div\",\n                            { className: \"row\" },\n                            _react2.default.createElement(\n                                \"div\",\n                                { className: \"col-xs-12\", style: { paddingTop: 8 } },\n                                _react2.default.createElement(_DialogFooter2.default, null)\n                            )\n                        )\n                    )\n                ) : null\n            );\n        }\n    }]);\n\n    return PatientDetail;\n}(_react2.default.Component);\n\nPatientDetail.propTypes = {\n    match: _propTypes2.default.object,\n    settings: _propTypes2.default.object,\n    selection: _propTypes2.default.object,\n    query: _propTypes2.default.object\n};\nexports.default = (0, _reactRedux.connect)(function (state) {\n    return state;\n})(PatientDetail);\n\n/***/ }),\n\n/***/ 321:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.PatientList = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(3);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _PatientListItem = __webpack_require__(322);\n\nvar _PatientListItem2 = _interopRequireDefault(_PatientListItem);\n\nvar _selection = __webpack_require__(50);\n\nvar _settings = __webpack_require__(51);\n\nvar _query = __webpack_require__(21);\n\nvar _redux = __webpack_require__(49);\n\nvar _redux2 = _interopRequireDefault(_redux);\n\nvar _reactRedux = __webpack_require__(19);\n\nvar _Footer = __webpack_require__(317);\n\nvar _Footer2 = _interopRequireDefault(_Footer);\n\nvar _Header = __webpack_require__(318);\n\nvar _Header2 = _interopRequireDefault(_Header);\n\nvar _ErrorMessage = __webpack_require__(102);\n\nvar _ErrorMessage2 = _interopRequireDefault(_ErrorMessage);\n\nvar _Alert = __webpack_require__(100);\n\nvar _Alert2 = _interopRequireDefault(_Alert);\n\n__webpack_require__(547);\n\nvar _UserService = __webpack_require__(22);\n\nvar _UserService2 = _interopRequireDefault(_UserService);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar PatientList = exports.PatientList = function (_React$Component) {\n    _inherits(PatientList, _React$Component);\n\n    function PatientList() {\n        _classCallCheck(this, PatientList);\n\n        return _possibleConstructorReturn(this, (PatientList.__proto__ || Object.getPrototypeOf(PatientList)).apply(this, arguments));\n    }\n\n    _createClass(PatientList, [{\n        key: \"render\",\n        value: function render() {\n            return _react2.default.createElement(\n                \"div\",\n                { className: \"page\" },\n                _react2.default.createElement(\n                    \"div\",\n                    { className: \"row login_bg\" },\n                    _react2.default.createElement(\n                        \"div\",\n                        { className: \"col-md-3 login_user\" },\n                        \" Signed in as : \",\n                        _react2.default.createElement(\n                            \"strong\",\n                            null,\n                            _UserService2.default.getUsername()\n                        )\n                    ),\n                    _react2.default.createElement(\n                        \"div\",\n                        { className: \"col-md-offset-6 col-md-3 logout_button\" },\n                        _react2.default.createElement(\n                            \"button\",\n                            { className: \"btn btn-info  navbar-btn navbar-right\", style: { marginRight: 0 }, onClick: function onClick() {\n                                    return _UserService2.default.doLogout();\n                                } },\n                            \"Logout\"\n                        )\n                    )\n                ),\n                _react2.default.createElement(_Header2.default, {\n                    query: this.props.query,\n                    settings: this.props.settings,\n                    location: this.props.location,\n                    urlParams: this.props.urlParams\n                }),\n                _react2.default.createElement(\n                    \"div\",\n                    { className: \"patient-search-results\" },\n                    this.renderContents()\n                ),\n                _react2.default.createElement(_Footer2.default, {\n                    query: this.props.query,\n                    bundle: this.props.query.bundle,\n                    dispatch: this.props.dispatch,\n                    selection: this.props.selection,\n                    canShowSelected: true\n                })\n            );\n        }\n    }, {\n        key: \"renderContents\",\n        value: function renderContents() {\n            if (this.props.query.error) {\n                return _react2.default.createElement(_ErrorMessage2.default, { error: this.props.query.error });\n            }\n\n            if (!this.props.query.bundle || this.props.query.loading) {\n                return _react2.default.createElement(\n                    \"div\",\n                    { className: \"patient-search-loading\" },\n                    _react2.default.createElement(\"i\", { className: \"fa fa-spinner spin\" }),\n                    \" Loading. Please wait...\"\n                );\n            }\n\n            if (!this.props.query.bundle.entry || !this.props.query.bundle.entry.length) {\n                return _react2.default.createElement(\n                    _Alert2.default,\n                    null,\n                    \"No patients found to match this search criteria\"\n                );\n            }\n\n            return this.renderPatientItems();\n        }\n    }, {\n        key: \"renderPatientItems\",\n        value: function renderPatientItems() {\n            var _this2 = this;\n\n            var isSelected = function isSelected(item) {\n                var idLower = (item.resource.id || \"\").toLowerCase();\n                var key = Object.keys(_this2.props.selection).find(function (k) {\n                    return k.toLowerCase() == idLower;\n                });\n                return key && _this2.props.selection[key] !== false;\n            };\n\n            var offset = this.props.query.offset || 0;\n            var items = this.props.query.bundle.entry || [];\n            if (this.props.settings.renderSelectedOnly) {\n                items = items.filter(isSelected);\n            }\n            return items.map(function (o, i) {\n                return _react2.default.createElement(_PatientListItem2.default, _extends({}, o.resource, {\n                    patient: o.resource,\n                    key: o.resource.id,\n                    index: offset + i,\n                    selected: isSelected(o),\n                    onSelectionChange: function onSelectionChange(patient) {\n                        if (_this2.props.settings.renderSelectedOnly && Object.keys(_this2.props.selection).filter(function (k) {\n                            return !!_this2.props.selection[k];\n                        }).length === 1) {\n                            _redux2.default.dispatch((0, _selection.setAll)({}));\n                            _redux2.default.dispatch((0, _settings.showSelectedOnly)(false));\n                            _redux2.default.dispatch((0, _query.setParam)({ name: \"_id\", value: undefined }));\n                            _redux2.default.dispatch((0, _query.fetch)());\n                        } else {\n                            _redux2.default.dispatch((0, _selection.toggle)(patient));\n                        }\n                    },\n                    query: _this2.props.query,\n                    settings: _this2.props.settings\n                }));\n            });\n        }\n    }]);\n\n    return PatientList;\n}(_react2.default.Component);\n\nPatientList.propTypes = {\n    query: _propTypes2.default.object,\n    selection: _propTypes2.default.object,\n    location: _propTypes2.default.object,\n    settings: _propTypes2.default.object,\n    urlParams: _propTypes2.default.object,\n    dispatch: _propTypes2.default.func\n};\nexports.default = (0, _reactRedux.connect)(function (state) {\n    return state;\n})(PatientList);\n\n/***/ }),\n\n/***/ 322:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(3);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactRouterDom = __webpack_require__(46);\n\nvar _PatientImage = __webpack_require__(104);\n\nvar _PatientImage2 = _interopRequireDefault(_PatientImage);\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _lib = __webpack_require__(6);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar PatientListItem = function (_React$Component) {\n    _inherits(PatientListItem, _React$Component);\n\n    function PatientListItem() {\n        _classCallCheck(this, PatientListItem);\n\n        return _possibleConstructorReturn(this, (PatientListItem.__proto__ || Object.getPrototypeOf(PatientListItem)).apply(this, arguments));\n    }\n\n    _createClass(PatientListItem, [{\n        key: \"render\",\n\n        /**\n         * This component expects a Fhir Bundle\n         */\n        value: function render() {\n            var _this2 = this;\n\n            var age = (0, _lib.getPatientAge)(this.props.patient);\n            var name = (0, _lib.getPatientName)(this.props);\n            if (this.props.query.params.name) {\n                name = (0, _lib.renderSearchHighlight)(name, this.props.query.params.name);\n            }\n\n            return _react2.default.createElement(\n                _reactRouterDom.Link,\n                {\n                    to: \"/patient/\" + this.props.index,\n                    className: \"patient\" + (this.props.selected ? \" selected\" : \"\")\n                },\n                _react2.default.createElement(\n                    \"div\",\n                    {\n                        className: \"patient-select-zone\",\n                        onClick: function onClick(e) {\n                            e.stopPropagation();\n                            e.preventDefault();\n                            _this2.props.onSelectionChange(_this2.props.patient);\n                        }\n                    },\n                    _react2.default.createElement(\"i\", { className: this.props.selected ? \"fa fa-check-square-o\" : \"fa fa-square-o\" })\n                ),\n                _react2.default.createElement(_PatientImage2.default, { patient: this.props.patient, base: this.props.settings.server.url }),\n                _react2.default.createElement(\n                    \"div\",\n                    { className: \"patient-info\" },\n                    _react2.default.createElement(\n                        \"b\",\n                        null,\n                        name,\n                        \" \",\n                        this.props.patient.deceasedBoolean || this.props.patient.deceasedDateTime ? _react2.default.createElement(\n                            \"span\",\n                            { className: \"deceased-label\" },\n                            \"Deceased\"\n                        ) : null\n                    ),\n                    _react2.default.createElement(\n                        \"small\",\n                        null,\n                        _react2.default.createElement(\n                            \"b\",\n                            null,\n                            age\n                        ),\n                        \" old \",\n                        this.renderGender()\n                    ),\n                    _react2.default.createElement(\n                        \"footer\",\n                        { className: \"small\" },\n                        _react2.default.createElement(\n                            \"span\",\n                            null,\n                            \"DOB: \",\n                            this.props.patient.birthDate || \"Unknown\",\n                            this.props.patient.deceasedDateTime ? ' / DOD: ' + (0, _moment2.default)(this.props.patient.deceasedDateTime).format(\"YYYY-MM-DD\") : null\n                        ),\n                        _react2.default.createElement(\n                            \"span\",\n                            null,\n                            \"ID: \",\n                            this.props.patient.id || \"Unknown\"\n                        ),\n                        _react2.default.createElement(\n                            \"span\",\n                            null,\n                            \"MRN: \",\n                            (0, _lib.getPatientMRN)(this.props.patient) || \"Unknown\"\n                        )\n                    )\n                ),\n                _react2.default.createElement(\"i\", { className: \"fa fa-angle-right\" })\n            );\n        }\n    }, {\n        key: \"renderGender\",\n        value: function renderGender() {\n            var gender = this.props.patient.gender;\n            if (!gender) {\n                return null;\n            }\n\n            return _react2.default.createElement(\n                \"span\",\n                { className: gender },\n                gender\n            );\n        }\n    }]);\n\n    return PatientListItem;\n}(_react2.default.Component);\n\nPatientListItem.propTypes = {\n    patient: _propTypes2.default.object,\n    query: _propTypes2.default.object,\n    settings: _propTypes2.default.object,\n    selected: _propTypes2.default.bool,\n    onSelectionChange: _propTypes2.default.func,\n    index: _propTypes2.default.number\n};\nPatientListItem.defaultProps = {\n    onSelectionChange: function onSelectionChange() {\n        return 1;\n    }\n};\nexports.default = PatientListItem;\n\n/***/ }),\n\n/***/ 323:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _UserService = __webpack_require__(22);\n\nvar _UserService2 = _interopRequireDefault(_UserService);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar RenderOnAnonymous = function RenderOnAnonymous(_ref) {\n  var children = _ref.children;\n  return !_UserService2.default.isLoggedIn() ? children : null;\n};\n\nexports.default = RenderOnAnonymous;\n\n/***/ }),\n\n/***/ 324:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _UserService = __webpack_require__(22);\n\nvar _UserService2 = _interopRequireDefault(_UserService);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar RenderOnAuthenticated = function RenderOnAuthenticated(_ref) {\n  var children = _ref.children;\n  return _UserService2.default.isLoggedIn() ? children : null;\n};\n\nexports.default = RenderOnAuthenticated;\n\n/***/ }),\n\n/***/ 325:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.RootPage = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRedux = __webpack_require__(19);\n\nvar _redux = __webpack_require__(49);\n\nvar _redux2 = _interopRequireDefault(_redux);\n\nvar _PatientList = __webpack_require__(321);\n\nvar _PatientList2 = _interopRequireDefault(_PatientList);\n\nvar _PatientDetail = __webpack_require__(320);\n\nvar _PatientDetail2 = _interopRequireDefault(_PatientDetail);\n\nvar _App = __webpack_require__(307);\n\nvar _App2 = _interopRequireDefault(_App);\n\nvar _reactRouterDom = __webpack_require__(46);\n\nvar _jquery = __webpack_require__(26);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _RenderOnAnonymous = __webpack_require__(323);\n\nvar _RenderOnAnonymous2 = _interopRequireDefault(_RenderOnAnonymous);\n\nvar _RenderOnAuthenticated = __webpack_require__(324);\n\nvar _RenderOnAuthenticated2 = _interopRequireDefault(_RenderOnAuthenticated);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar RootPage = exports.RootPage = function (_React$Component) {\n    _inherits(RootPage, _React$Component);\n\n    function RootPage() {\n        _classCallCheck(this, RootPage);\n\n        return _possibleConstructorReturn(this, (RootPage.__proto__ || Object.getPrototypeOf(RootPage)).apply(this, arguments));\n    }\n\n    _createClass(RootPage, [{\n        key: \"render\",\n        value: function render() {\n            window.$ = window.jQuery = _jquery2.default;\n\n            console.log(_redux2.default.getState());\n            return _react2.default.createElement(\n                \"div\",\n                null,\n                _react2.default.createElement(\n                    _reactRedux.Provider,\n                    { store: _redux2.default },\n                    _react2.default.createElement(\n                        _reactRouterDom.BrowserRouter,\n                        { history: history },\n                        _react2.default.createElement(\n                            \"div\",\n                            null,\n                            _react2.default.createElement(\n                                _RenderOnAnonymous2.default,\n                                null,\n                                _react2.default.createElement(\n                                    \"div\",\n                                    null,\n                                    \" Welcome Please login first\"\n                                )\n                            ),\n                            _react2.default.createElement(\n                                _RenderOnAuthenticated2.default,\n                                null,\n                                _react2.default.createElement(\n                                    _reactRouterDom.Switch,\n                                    null,\n                                    _react2.default.createElement(\n                                        _App2.default,\n                                        null,\n                                        _react2.default.createElement(_reactRouterDom.Route, { path: \"/\", component: _PatientList2.default, exact: true }),\n                                        _react2.default.createElement(_reactRouterDom.Route, { path: \"/patient/:index\", component: _PatientDetail2.default })\n                                    )\n                                )\n                            )\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n\n    return RootPage;\n}(_react2.default.Component);\n\nexports.default = RootPage;\n\n/***/ }),\n\n/***/ 326:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(3);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\n__webpack_require__(548);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar SortWidget = function (_React$Component) {\n    _inherits(SortWidget, _React$Component);\n\n    function SortWidget() {\n        _classCallCheck(this, SortWidget);\n\n        return _possibleConstructorReturn(this, (SortWidget.__proto__ || Object.getPrototypeOf(SortWidget)).apply(this, arguments));\n    }\n\n    _createClass(SortWidget, [{\n        key: \"change\",\n        value: function change(name, value) {\n            // console.log(name, value)\n            if (typeof this.props.onChange == \"function\") {\n                var sort = this.parseSort(this.props.sort);\n                if (!value) {\n                    if (sort.hasOwnProperty(name)) {\n                        delete sort[name];\n                    }\n                } else {\n                    sort[name] = value;\n                }\n                // console.log(sort, this.compileSort(sort))\n                this.props.onChange(this.compileSort(sort));\n            }\n        }\n    }, {\n        key: \"parseSort\",\n        value: function parseSort(input) {\n            var sort = {};\n            String(input || \"\").split(\",\").filter(Boolean).forEach(function (s) {\n                var name = s.replace(/^\\-/, \"\");\n                sort[name] = s.indexOf(\"-\") === 0 ? \"desc\" : \"asc\";\n            });\n            return sort;\n        }\n    }, {\n        key: \"compileSort\",\n        value: function compileSort(sort) {\n            return Object.keys(sort).map(function (k) {\n                return sort[k] == \"desc\" ? \"-\" + k : k;\n            }).join(\",\");\n        }\n    }, {\n        key: \"render\",\n        value: function render() {\n            var _this2 = this;\n\n            var sort = this.parseSort(this.props.sort);\n\n            return _react2.default.createElement(\n                \"div\",\n                { className: \"sort-widget small\" },\n                _react2.default.createElement(\n                    \"span\",\n                    { className: \"pull-left\" },\n                    \"Sort\",\n                    _react2.default.createElement(\n                        \"span\",\n                        { className: \"hidden-xs\" },\n                        \" by\"\n                    ),\n                    \":\"\n                ),\n                _react2.default.createElement(\n                    \"ul\",\n                    { className: \"nav nav-pills\" },\n                    this.props.options.map(function (o, i) {\n                        return _react2.default.createElement(\n                            \"li\",\n                            {\n                                key: i,\n                                role: \"presentation\",\n                                className: o.value in sort ? \"active\" : null\n                            },\n                            _react2.default.createElement(\n                                \"a\",\n                                { href: \"#\", onClick: function onClick(e) {\n                                        e.preventDefault();\n                                        var _sort = _this2.parseSort(_this2.props.sort);\n                                        switch (_sort[o.value]) {\n                                            case \"asc\":\n                                                return _this2.change(o.value, \"desc\");\n                                            case \"desc\":\n                                                return _this2.change(o.value, \"\");\n                                            default:\n                                                return _this2.change(o.value, \"asc\");\n                                        }\n                                    } },\n                                o.label || o.name,\n                                sort[o.value] == \"asc\" ? _react2.default.createElement(\n                                    \"span\",\n                                    { className: \"sort\" },\n                                    _react2.default.createElement(\n                                        \"span\",\n                                        { className: \"hidden-xs\" },\n                                        \" Asc\"\n                                    ),\n                                    \" \",\n                                    _react2.default.createElement(\"i\", { className: \"fa fa-sort-amount-asc\" })\n                                ) : sort[o.value] == \"desc\" ? _react2.default.createElement(\n                                    \"span\",\n                                    { className: \"sort\" },\n                                    _react2.default.createElement(\n                                        \"span\",\n                                        { className: \"hidden-xs\" },\n                                        \" Desc\"\n                                    ),\n                                    \" \",\n                                    _react2.default.createElement(\"i\", { className: \"fa fa-sort-amount-desc\" })\n                                ) : null\n                            )\n                        );\n                    })\n                )\n            );\n        }\n    }]);\n\n    return SortWidget;\n}(_react2.default.Component);\n\nSortWidget.propTypes = {\n    /**\n     * Fhir sort string like \"status,-date,category\"\n     */\n    sort: _propTypes2.default.string,\n\n    options: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n        name: _propTypes2.default.string,\n        value: _propTypes2.default.string\n    })),\n\n    onChange: _propTypes2.default.func\n};\nSortWidget.defaultProps = {\n    sort: \"name,-birthdate\",\n    options: [{\n        label: _react2.default.createElement(\n            \"span\",\n            null,\n            _react2.default.createElement(\n                \"span\",\n                { className: \"hidden-xs\" },\n                \"Patient \"\n            ),\n            \"ID\"\n        ),\n        name: \"Patient ID\",\n        value: \"_id\"\n    }, {\n        name: \"Name\",\n        value: \"given\"\n    }, {\n        name: \"Gender\",\n        value: \"gender\"\n    }, {\n        name: \"DOB\",\n        value: \"birthdate\"\n    }]\n};\nexports.default = SortWidget;\n\n/***/ }),\n\n/***/ 327:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(3);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _jquery = __webpack_require__(26);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _lib = __webpack_require__(6);\n\n__webpack_require__(549);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TagSelector = function (_React$Component) {\n    _inherits(TagSelector, _React$Component);\n\n    function TagSelector() {\n        var _ref;\n\n        _classCallCheck(this, TagSelector);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        var _this = _possibleConstructorReturn(this, (_ref = TagSelector.__proto__ || Object.getPrototypeOf(TagSelector)).call.apply(_ref, [this].concat(args)));\n\n        _this.state = {\n            // the selected items as a map of unique keys and tag objects\n            selected: [],\n\n            // is the menu currently visible?\n            open: false,\n\n            // the index of the currently selected option (-1 means no\n            // selection).\n            selectedIndex: -1,\n\n            // The search therm (the value of the input field)\n            search: \"\"\n        };\n\n        _this.stateFromProps(_this.state, _this.props);\n\n        // bind the event handlers to preserve the \"this\" context\n        _this.addTag = _this.addTag.bind(_this);\n        _this.removeTag = _this.removeTag.bind(_this);\n        _this.onFocus = _this.onFocus.bind(_this);\n        _this.onBlur = _this.onBlur.bind(_this);\n        _this.onKeyDown = _this.onKeyDown.bind(_this);\n        _this.onInput = _this.onInput.bind(_this);\n        return _this;\n    }\n\n    _createClass(TagSelector, [{\n        key: \"stateFromProps\",\n        value: function stateFromProps(state, nextProps) {\n            var _this2 = this;\n\n            var hasChanged = false;\n            if (nextProps.search) {\n                state.search = nextProps.search;\n                hasChanged = true;\n            }\n\n            if (nextProps.selected) {\n                state.selected = [].concat(_toConsumableArray(nextProps.selected.map(function (t) {\n                    return _this2.props.tags.find(function (tag) {\n                        return tag.key === t;\n                    }) || {\n                        key: t,\n                        label: t,\n                        custom: true,\n                        data: {\n                            description: t,\n                            codes: {\n                                \"\": [t]\n                            }\n                        }\n                    };\n                })));\n                hasChanged = true;\n            }\n\n            return hasChanged;\n        }\n    }, {\n        key: \"componentWillReceiveProps\",\n        value: function componentWillReceiveProps(nextProps) {\n            var nextState = {};\n            if (this.stateFromProps(nextState, nextProps)) {\n                this.setState(nextState);\n            }\n        }\n\n        /**\n         * Updates the scroll position of the menu if it is opened and if some of\n         * it's options is selected so that the selected option is always in view.\n         */\n\n    }, {\n        key: \"componentDidUpdate\",\n        value: function componentDidUpdate() {\n            var _this3 = this;\n\n            var menu = this.refs.menu;\n            if (menu) {\n                var menuHeight = menu.clientHeight;\n                var menuScrollTop = menu.scrollTop;\n                var paddingTop = parseInt((0, _jquery2.default)(menu).css(\"paddingTop\"), 10);\n                var paddingBottom = parseInt((0, _jquery2.default)(menu).css(\"paddingBottom\"), 10);\n                var selected = (0, _jquery2.default)(\".selected\", this.refs.menu);\n\n                if (selected.length) {\n                    var selectedTop = selected[0].offsetTop;\n                    var selectedHeight = selected[0].offsetHeight;\n                    if (selectedTop < menuScrollTop) {\n                        requestAnimationFrame(function () {\n                            return _this3.refs.menu.scrollTop = selectedTop - paddingTop;\n                        });\n                    } else if (selectedTop + selectedHeight - menuScrollTop > menuHeight) {\n                        requestAnimationFrame(function () {\n                            return _this3.refs.menu.scrollTop = selectedTop + selectedHeight + paddingBottom - menuHeight;\n                        });\n                    }\n                }\n            }\n        }\n\n        // Event handlers ----------------------------------------------------------\n\n    }, {\n        key: \"onFocus\",\n        value: function onFocus() {\n            this.setState({ open: true });\n        }\n    }, {\n        key: \"onBlur\",\n        value: function onBlur() {\n            this.setState({ open: false });\n        }\n    }, {\n        key: \"onInput\",\n        value: function onInput(e) {\n            var listed = this.filterTags(e.target.value);\n            this.setState({\n                search: e.target.value,\n                open: true,\n                selectedIndex: listed.length && this.state.selectedIndex == -1 ? 0 : this.state.selectedIndex\n            });\n        }\n\n        /**\n         * This will handle special keys like Enter, Escape and arrows for scrolling\n         */\n\n    }, {\n        key: \"onKeyDown\",\n        value: function onKeyDown(e) {\n            var _this4 = this;\n\n            var listed = this.filterTags(this.state.search);\n            switch (e.keyCode) {\n\n                case 27:\n                    // Esc\n                    this.setState({ open: false });\n                    break;\n\n                case 13:\n                    {\n                        // Enter\n                        // make sure we don't submit the form (if in any)\n                        e.preventDefault();\n\n                        if (listed.length < 2) {\n                            this.setState({ open: false });\n                        }\n\n                        var index = this.state.selectedIndex;\n                        if (index === listed.length - 1) {\n                            this.setState({ selectedIndex: index - 1 }, function () {\n                                _this4.addTag(listed[index]);\n                            });\n                        } else {\n                            this.addTag(listed[index]);\n                        }\n\n                        break;\n                    }\n\n                case 40:\n                    {\n                        // Down arrow\n                        e.preventDefault();\n                        var maxIndex = listed.length - 1;\n                        this.setState({\n                            open: true,\n                            selectedIndex: Math.min(this.state.selectedIndex + 1, maxIndex)\n                        });\n                        break;\n                    }\n\n                case 38:\n                    // Up arrow\n                    e.preventDefault();\n                    if (this.state.selectedIndex > 0) {\n                        this.setState({\n                            selectedIndex: this.state.selectedIndex - 1\n                        });\n                    } else if (this.state.open) {\n                        this.setState({\n                            open: false,\n                            selectedIndex: -1\n                        });\n                    }\n                    break;\n            }\n        }\n\n        /**\n         * Happens when the user clicks on an option (or hits the enter key on\n         * selected option)\n         * @param {*} tag\n         * @returns {void}\n         */\n\n    }, {\n        key: \"addTag\",\n        value: function addTag(tag) {\n            var _this5 = this;\n\n            if (!tag || !tag.key) {\n                return;\n            }\n\n            // this.shouldn't happen but just in case, check if somebody is trying\n            // to select something that is already selected\n            if (this.state.selected.find(function (t) {\n                return t.key === tag.key;\n            })) {\n                return;\n            }\n\n            this.setState(_extends({}, this.state, {\n                selected: [].concat(_toConsumableArray(this.state.selected), [tag]),\n                search: \"\",\n                open: false,\n                selectedIndex: -1\n            }), function () {\n                return _this5.props.onChange(_this5.state.selected);\n            });\n        }\n\n        /**\n         * Happens when the user clicks a close button on a selected tag\n         * @param {*} key\n         */\n\n    }, {\n        key: \"removeTag\",\n        value: function removeTag(key) {\n            var _this6 = this;\n\n            if (!key) return;\n            var idx = this.state.selected.findIndex(function (t) {\n                return t.key === key;\n            });\n            if (idx > -1) {\n                this.state.selected.splice(idx, 1);\n                this.setState({}, function () {\n                    return _this6.props.onChange(_this6.state.selected);\n                });\n            }\n        }\n\n        // Private helper methods --------------------------------------------------\n\n    }, {\n        key: \"filterTags\",\n        value: function filterTags(search) {\n            var _this7 = this;\n\n            var tags = this.props.tags.filter(function (t) {\n\n                // skip the already selected options\n                if (_this7.state.selected.find(function (tag) {\n                    return t.key === tag.key;\n                })) {\n                    return false;\n                }\n\n                // search for matches\n                if (search) {\n\n                    // first search by name\n                    var index = t.label.toLowerCase().indexOf(search.toLowerCase());\n                    if (index > -1) {\n                        return true;\n                    }\n\n                    // then search by code\n                    if (t.data && t.data.codes && _typeof(t.data.codes) == \"object\") {\n                        for (var system in t.data.codes) {\n                            return t.data.codes[system].some(function (c) {\n                                return c.toLowerCase().indexOf(search.toLowerCase()) > -1;\n                            });\n                        }\n                    }\n\n                    return false;\n                }\n                return true;\n            }).sort(function (a, b) {\n                if (a.label > b.label) return 1;\n                if (a.label < b.label) return -1;\n                return 0;\n            }).map(function (t) {\n                return _extends({}, t);\n            });\n\n            if (this.state.search) {\n                tags.unshift({\n                    key: this.state.search,\n                    label: this.state.search,\n                    custom: true,\n                    data: {\n                        description: this.state.search,\n                        codes: {\n                            \"\": [this.state.search]\n                        }\n                    }\n                });\n            }\n\n            return tags;\n        }\n\n        // Rendering methods -------------------------------------------------------\n\n    }, {\n        key: \"renderTagCode\",\n        value: function renderTagCode(tag) {\n            if (!tag || !tag.data || !tag.data.codes) {\n                return null;\n            }\n\n            var code = \"\",\n                codes = tag.data.codes;\n            if (codes[\"SNOMED-CT\"]) {\n                code = codes[\"SNOMED-CT\"].join(\"|\");\n            } else {\n                for (var system in codes) {\n                    code = codes[system].join(\",\") + \" (\" + system + \")\";\n                    break;\n                }\n            }\n\n            if (this.state.search) {\n                code = (0, _lib.renderSearchHighlight)(code, this.state.search);\n            }\n\n            return code ? _react2.default.createElement(\n                \"small\",\n                { key: tag.key, className: \"text-muted code\" },\n                code,\n                \":\"\n            ) : null;\n        }\n    }, {\n        key: \"renderTag\",\n        value: function renderTag(tag, index) {\n            var _this8 = this;\n\n            return _react2.default.createElement(\n                \"div\",\n                {\n                    className: \"menu-item\" + (this.state.selectedIndex === index ? \" selected\" : \"\") + (tag.custom ? \" custom text-primary\" : \"\"),\n                    key: tag.key,\n                    onMouseDown: function onMouseDown(e) {\n                        e.preventDefault();_this8.addTag(tag);\n                    },\n                    title: tag.label\n                },\n                tag.custom ? _react2.default.createElement(\n                    \"span\",\n                    null,\n                    \"Search for \",\n                    _react2.default.createElement(\n                        \"b\",\n                        { className: \"tag custom\" },\n                        this.state.search\n                    ),\n                    this.props.label ? \" \" + this.props.label : \"\"\n                ) : null,\n                tag.custom ? null : this.renderTagCode(tag),\n                tag.custom ? null : (0, _lib.renderSearchHighlight)(tag.label, this.state.search)\n            );\n        }\n    }, {\n        key: \"render\",\n        value: function render() {\n            var _this9 = this;\n\n            var menuItems = this.filterTags(this.state.search).map(this.renderTag, this);\n            var emptyMenu = menuItems.length === 0;\n            var tags = this.state.selected.map(function (tag) {\n                return _react2.default.createElement(\n                    \"div\",\n                    { className: \"tag\" + (tag.custom ? \" custom\" : \"\"), key: tag.key },\n                    tag.label,\n                    _react2.default.createElement(\"i\", {\n                        className: \"tag-remove fa fa-times-circle\",\n                        title: \"Remove\",\n                        onMouseDown: function onMouseDown(e) {\n                            e.preventDefault();\n                            e.stopPropagation();\n                            _this9.removeTag(tag.key);\n                        }\n                    })\n                );\n            });\n\n            var placeholder = \"Type to search\";\n            if (this.props.label) {\n                placeholder += \" for \" + this.props.label + \"s\";\n            }\n            placeholder += ' ...';\n\n            return _react2.default.createElement(\n                \"div\",\n                { className: \"tag-selector\" + (this.state.open ? \" open\" : \"\") },\n                tags.length ? _react2.default.createElement(\n                    \"div\",\n                    { className: \"tags\" },\n                    tags\n                ) : null,\n                _react2.default.createElement(\"input\", {\n                    className: \"input form-control input-sm\",\n                    placeholder: placeholder,\n                    onFocus: this.onFocus,\n                    onClick: this.onFocus,\n                    onBlur: this.onBlur,\n                    onKeyDown: this.onKeyDown,\n                    onInput: this.onInput,\n                    onChange: function onChange() {\n                        return 1;\n                    },\n                    value: this.state.search\n                }),\n                _react2.default.createElement(\"i\", { className: \"fa fa-caret-down\" }),\n                emptyMenu && !this.state.search ? null : _react2.default.createElement(\n                    \"div\",\n                    { className: \"menu dropdown-menu\", ref: \"menu\" },\n                    menuItems\n                )\n            );\n        }\n    }]);\n\n    return TagSelector;\n}(_react2.default.Component);\n\nTagSelector.propTypes = {\n    tags: _propTypes2.default.arrayOf(_propTypes2.default.object),\n    selected: _propTypes2.default.arrayOf(_propTypes2.default.string),\n    onChange: _propTypes2.default.func,\n    search: _propTypes2.default.string,\n    label: _propTypes2.default.string\n};\nTagSelector.defaultProps = {\n    onChange: function onChange() {\n        return 1;\n    },\n    tags: [],\n    selected: [],\n    search: \"\"\n};\nexports.default = TagSelector;\n\n/***/ }),\n\n/***/ 328:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = {\n    server: {\n        type: \"STU-3\", // \"DSTU-2\" or \"STU-3\" or \"R4\"\n\n        url: \"https://r3.smarthealthit.org\",\n\n        conditions: {},\n\n        tags: []\n    },\n\n    hideTagSelector: false,\n\n    patientsPerPage: 25,\n\n    // AJAX requests timeout\n    timeout: 20000,\n\n    // Only the selected patients are rendered. Should be false or the\n    // preselected patient IDs should be passed to the window. Otherwise\n    // It will result in rendering no patients at all.\n    renderSelectedOnly: false,\n\n    // If enabled is true (then url and param MUST be set) then clicking on the\n    // patient-related resources in detail view will open their source in that\n    // external viewer. Otherwise they will just be opened in new browser tab.\n    fhirViewer: {\n        enabled: true,\n        url: \"http://docs.smarthealthit.org/fhir-viewer/index.html\",\n        param: \"url\"\n    },\n\n    // What to send when the OK dialog button is clicked. Possible values:\n    // \"id-list\"  - comma-separated list of patient IDs (default)\n    // \"id-array\" - array of patient IDs\n    // \"patients\" - array of patient JSON objects\n    outputMode: \"id-list\",\n\n    // \"automatic\" -> onChange plus defer in some cases\n    // \"manual\" -> render a submit button\n    submitStrategy: \"manual\"\n};\n\n/***/ }),\n\n/***/ 329:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _constants = __webpack_require__(105);\n\nvar _ = __webpack_require__(6);\n\nvar _UserService = __webpack_require__(22);\n\nvar _UserService2 = _interopRequireDefault(_UserService);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * This is just a helper class that is used as a query builder. It has some\n * dedicated setter methods for various query parameters and knows how to\n * compile those into a query string that can be passed to the Patient endpoint\n * of a fhir api server.\n */\nvar PatientSearch = function () {\n    /**\n     * The constructor just creates an empty instance. Use the setter methods\n     * to set query params and then call compile to build the query string.\n     */\n    function PatientSearch() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        _classCallCheck(this, PatientSearch);\n\n        this.__cache__ = {};\n\n        this.__scheduled__ = {};\n\n        /**\n         * The list of conditions that should be included in the query.\n         * @type {Object} A map of unique keys and condition objects\n         * @private\n         */\n        this.conditions = _extends({}, options.conditions || {});\n\n        /**\n         * The desired minimal age of the patients as an object like\n         * { value: 5, units: \"years\" }\n         * @type {Object}\n         * @private\n         */\n        this.minAge = null;\n\n        /**\n         * The desired maximal age of the patients as an object like\n         * { value: 5, units: \"years\" }\n         * @type {Object}\n         * @private\n         */\n        this.maxAge = null;\n\n        /**\n         * The patient gender to search for (male|female)\n         * @type {String}\n         * @private\n         */\n        this.gender = options.gender || null;\n\n        /**\n         * How many patients to fetch per page. Defaults to null meaning that\n         * this param will not be included in the query and we are leaving it\n         * for the server to decide.\n         * @type {Number}\n         * @private\n         */\n        this.limit = options.limit || null;\n\n        /**\n         * How many patients to skip. Defaults to null meaning that\n         * this param will not be included in the query and we are leaving it\n         * for the server to decide.\n         * @type {Number}\n         * @private\n         */\n        this.offset = null;\n\n        /**\n         * A collection of additional parameters\n         * @type {Object}\n         * @private\n         */\n        this.params = {};\n\n        /**\n         * This is like a flag that toggle the instance to different modes\n         * (currently only advanced and default are supported)\n         * @type {String} \"advanced\" or \"default\"\n         * @private\n         */\n        this.queryType = options.queryType || \"default\";\n\n        /**\n         * The query string to use if in advanced mode\n         * @type {String}\n         * @private\n         */\n        this.queryString = options.queryString || \"\";\n\n        /**\n         * The sort parameters list\n         * @type {String}\n         * @private\n         */\n        this.sort = options.sort || \"\";\n\n        /**\n         * All the tags that the patients should be filtered by\n         * @type {Array<String>}\n         * @private\n         */\n        this.tags = String(options.tags || \"\").split(/\\s*,\\s*/).filter(Boolean);\n    }\n\n    /**\n     * Schedule a prop change to be made before the next compile\n     * @param {Object} props\n     */\n\n\n    _createClass(PatientSearch, [{\n        key: \"schedule\",\n        value: function schedule(props) {\n            this.__scheduled__ = _extends({}, this.__scheduled__, props);\n        }\n    }, {\n        key: \"hasParam\",\n        value: function hasParam(name) {\n            return this.params.hasOwnProperty(name);\n        }\n\n        /**\n         * Sets a param by name. Note that this is a lower level interface. It does\n         * not know anything about the parameter thus it will not handle UI\n         * dependencies (eg. it won't reset the offset for you)\n         * @param {Name} name The name of the parameter to set\n         * @param {*} value The value to set. Use undefined to remove a parameter\n         * @returns {PatientSearch} Returns the instance\n         */\n\n    }, {\n        key: \"setParam\",\n        value: function setParam(name, value) {\n            var has = this.hasParam(name);\n            if (value === undefined) {\n                if (has) {\n                    delete this.params[name];\n                }\n            } else {\n                this.params[name] = value;\n            }\n            this.offset = null;\n            this.cacheId = null;\n            return this;\n        }\n\n        /**\n         * Sets the query type. In advanced mode a query string is provided and\n         * parsed and all the other parameters are ignored. In default mode the\n         * query string is ignored and only the other params are used.\n         * @param {String} type \"advanced\" or anything else for \"default\"\n         * @returns {PatientSearch} Returns the instance\n         */\n\n    }, {\n        key: \"setQueryType\",\n        value: function setQueryType(type) {\n            this.queryType = type == \"advanced\" ? \"advanced\" : \"default\";\n            return this;\n        }\n\n        /**\n         * Sets the query string to be used while in advanced mode. Note that this\n         * will not be used if not in advanced mode but the query string will still\n         * be persisted so that if the user switches the UI to advanced the last\n         * query can be displayed...\n         * @param {String} query The query string to use if in advanced mode\n         * @returns {PatientSearch} Returns the instance\n         */\n\n    }, {\n        key: \"setQueryString\",\n        value: function setQueryString(query) {\n            this.queryString = String(query || \"\");\n            return this;\n        }\n\n        /**\n         * Adds a condition to the list of patient conditions\n         * @param {String} key Unique string identifier for that condition\n         * @param {Object} condition The condition to add\n         * @returns {PatientSearch} Returns the instance\n         */\n\n    }, {\n        key: \"addCondition\",\n        value: function addCondition(key, condition) {\n            this.conditions[key] = condition;\n            this.__cache__.patientIDs = null;\n            return this;\n        }\n\n        /**\n         * Removes the condition identified by it's key. If that condition is not\n         * currently included it does nothing\n         * @param {*} key Unique string identifier for that condition\n         * @returns {PatientSearch} Returns the instance\n         */\n\n    }, {\n        key: \"removeCondition\",\n        value: function removeCondition(key) {\n            if (this.conditions.hasOwnProperty(key)) {\n                delete this.conditions[key];\n                this.__cache__.patientIDs = null;\n            }\n            return this;\n        }\n\n        /**\n         * Replaces the entire set of conditions at once\n         * @param {Object} conditions The new conditions to set\n         * @returns {PatientSearch} Returns the instance\n         */\n\n    }, {\n        key: \"setConditions\",\n        value: function setConditions(conditions) {\n            this.conditions = _extends({}, conditions);\n            this.schedule({\n                offset: null,\n                cacheId: null\n            });\n            this.__cache__.patientIDs = null;\n            return this;\n        }\n    }, {\n        key: \"addTag\",\n        value: function addTag(tag) {\n            if (this.tags.findIndex(tag) == -1) {\n                this.tags.push(tag);\n            }\n            return this;\n        }\n    }, {\n        key: \"removeTag\",\n        value: function removeTag(tag) {\n            var index = this.tags.findIndex(tag);\n            if (index > -1) {\n                this.tags.splice(index, 1);\n            }\n            return this;\n        }\n    }, {\n        key: \"setTags\",\n        value: function setTags(tags) {\n            this.tags = [].concat(_toConsumableArray(tags));\n            this.schedule({\n                offset: null,\n                cacheId: null\n            });\n            return this;\n        }\n\n        /**\n         * Sets the desired min age af the patients. This can also be set to null\n         * (or other falsy value) to exclude the minAge restrictions from the query.\n         * @param {object} age The age\n         * @param {number} age.value The age as number of units\n         * @param {string} age.units The units for the value (years|months|days)\n         * @returns {PatientSearch} Returns the instance\n         */\n\n    }, {\n        key: \"setMinAge\",\n        value: function setMinAge(age) {\n            this.minAge = age;\n            this.schedule({\n                offset: null,\n                cacheId: null\n            });\n            return this;\n        }\n\n        /**\n         * Sets the desired max age af the patients. This can also be set to null\n         * (or other falsy value) to exclude the maxAge restrictions from the query.\n         * @param {object} age The age\n         * @param {number} age.value The age as number of units\n         * @param {string} age.units The units for the value (years|months|days)\n         * @returns {PatientSearch} Returns the instance\n         */\n\n    }, {\n        key: \"setMaxAge\",\n        value: function setMaxAge(age) {\n            this.maxAge = age;\n            this.schedule({\n                offset: null,\n                cacheId: null\n            });\n            return this;\n        }\n\n        /**\n         * Sets the min and max ages depending on the specified age group keyword\n         * @param {*} group Can be one of infant, child, adult, elderly.\n         *                  Anything else will clear the age constraints!\n         * @returns {PatientSearch} Returns the instance\n         */\n\n    }, {\n        key: \"setAgeGroup\",\n        value: function setAgeGroup(group) {\n            this.ageGroup = group;\n            this.schedule({\n                offset: null,\n                cacheId: null\n            });\n\n            switch (group) {\n\n                // infant - 0 to 12 months\n                case \"infant\":\n                    this.setMinAge(null);\n                    this.setMaxAge({ value: 1, units: \"years\" });\n                    break;\n\n                // child - 1 to 18 years\n                case \"child\":\n                    this.setMinAge({ value: 1, units: \"years\" });\n                    this.setMaxAge({ value: 18, units: \"years\" });\n                    break;\n\n                // adult - 18 to 65 years\n                case \"adult\":\n                    this.setMinAge({ value: 18, units: \"years\" });\n                    this.setMaxAge({ value: 65, units: \"years\" });\n                    break;\n\n                // Elderly - 65+\n                case \"elderly\":\n                    this.setMinAge({ value: 65, units: \"years\" });\n                    this.setMaxAge(null);\n                    break;\n\n                // Anything else clears the birthdate param\n                default:\n                    this.setMinAge(null);\n                    this.setMaxAge(null);\n                    // this.ageGroup = null;\n                    break;\n            }\n            return this;\n        }\n\n        /**\n         * Sets the gender to search for. Can be \"male\" or \"female\". Any falsy value\n         * will clear the gender param\n         * @param {String} gender \"male\" or \"female\"\n         * @returns {PatientSearch} Returns the instance\n         */\n\n    }, {\n        key: \"setGender\",\n        value: function setGender(gender) {\n            if (gender !== this.gender) {\n                this.gender = gender;\n                this.schedule({\n                    offset: null,\n                    cacheId: null\n                });\n            }\n            return this;\n        }\n\n        /**\n         * Sets how many patients will be fetched per page\n         * @param {number|string} limit The number of records to fetch\n         * @returns {PatientSearch} Returns the instance\n         */\n\n    }, {\n        key: \"setLimit\",\n        value: function setLimit(limit) {\n            this.limit = (0, _.intVal)(limit);\n            if (this.limit < 1) {\n                this.limit = null;\n            }\n            return this;\n        }\n\n        /**\n         * Sets how many patients will be skipped\n         * @param {string} cacheId The id generated by the server (_getpages)\n         * @param {number|string} offset The number of records to skip\n         * @returns {PatientSearch} Returns the instance\n         */\n\n    }, {\n        key: \"setOffset\",\n        value: function setOffset(cacheId, offset) {\n            this.offset = (0, _.intVal)(offset);\n            this.cacheId = cacheId;\n            if (this.offset < 1) {\n                this.offset = null;\n                this.cacheId = null;\n            }\n            return this;\n        }\n\n        /**\n         * Sets the sorting to use\n         * @param {string} sort A fhir sort string like \"status,-date,category\"\n         * @returns {PatientSearch} Returns the instance\n         */\n\n    }, {\n        key: \"setSort\",\n        value: function setSort(sort) {\n            this.sort = sort;\n            this.offset = null;\n            this.cacheId = null;\n            return this;\n        }\n\n        /**\n         * Returns another PatientSearch instance with the exact same state as this.\n         * @returns {PatientSearch} Returns the new copy\n         */\n\n    }, {\n        key: \"clone\",\n        value: function clone() {\n            var inst = new PatientSearch();\n\n            inst.conditions = _extends({}, this.conditions);\n            inst.params = _extends({}, this.params);\n            inst.tags = [].concat(_toConsumableArray(this.tags));\n\n            inst.setSort(this.sort).setAgeGroup(this.ageGroup).setMinAge(this.minAge).setMaxAge(this.maxAge).setGender(this.gender).setLimit(this.limit).setOffset(this.cacheId, this.offset).setQueryType(this.queryType).setQueryString(this.queryString);\n\n            return inst;\n        }\n\n        /**\n         * Clear all params. If you call compile after clear only the \"_format=json\"\n         * part should be returned\n         * @returns {PatientSearch} Returns the instance\n         */\n\n    }, {\n        key: \"reset\",\n        value: function reset() {\n            this.conditions = {};\n            this.minAge = null;\n            this.maxAge = null;\n            this.gender = null;\n            this.limit = null;\n            this.offset = null;\n            this.cacheId = null;\n            this.ageGroup = null;\n            this.params = {};\n            this.queryString = \"\";\n            this.queryType = \"default\";\n            this.sort = \"\";\n            this.tags = [];\n            return this;\n        }\n\n        /**\n         * Returns an object representing the current state of the instance.\n         * The object contains COPIES of the current param values.\n         * @returns {Object}\n         */\n\n    }, {\n        key: \"getState\",\n        value: function getState() {\n            return {\n                conditions: this.conditions,\n                minAge: this.minAge,\n                maxAge: this.maxAge,\n                gender: this.gender,\n                limit: this.limit,\n                offset: this.offset,\n                cacheId: this.cacheId,\n                ageGroup: this.ageGroup,\n                params: _extends({}, this.params),\n                queryString: this.queryString,\n                queryType: this.queryType,\n                sort: this.sort,\n                tags: [].concat(_toConsumableArray(this.tags))\n            };\n        }\n\n        /**\n         * Compiles and returns the query string that can be send to the Patient\n         * endpoint.\n         * @return {String} The compiled query string (without the \"?\" in front)\n         */\n\n    }, {\n        key: \"compile\",\n        value: function compile() {\n            var _this = this;\n\n            var encode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n            var params = [];\n\n            [\n            // conditions\n            \"minAge\", \"maxAge\", \"gender\", \"limit\", \"offset\",\n            // \"params\",\n            \"queryType\", \"queryString\", \"sort\" //,\n            // tags\n            ].forEach(function (prop) {\n                if (_this.__scheduled__.hasOwnProperty(prop)) {\n                    _this[prop] = _this.__scheduled__[prop];\n                    delete _this.__scheduled__[prop];\n                }\n            });\n\n            // Tags ----------------------------------------------------------------\n            if (this.tags.length && !this.params._id) {\n                params.push({ name: \"_tag\", value: this.tags.join(\",\") });\n            }\n\n            // Advanced query ------------------------------------------------------\n            if (this.queryType == \"advanced\") {\n                var str = this.queryString.trim();\n                if (str) {\n                    var _query = (0, _.parseQueryString)(str);\n                    for (var name in _query) {\n                        params.push({ name: name, value: _query[name] });\n                    }\n                }\n            }\n\n            // Default query -------------------------------------------------------\n            else {\n\n                    // Custom params ---------------------------------------------------\n                    Object.keys(this.params).forEach(function (k) {\n                        if (String(_this.params[k]).trim()) {\n                            params.push({\n                                name: k,\n                                value: _this.params[k]\n                            });\n                        }\n                    });\n\n                    // sort ------------------------------------------------------------\n                    if (this.sort) {\n                        String(this.sort).split(\",\").forEach(function (token) {\n                            if (token.indexOf(\"-\") === 0) {\n                                params.push({\n                                    name: \"_sort:desc\",\n                                    value: token.substring(1)\n                                });\n                            } else {\n                                params.push({\n                                    name: \"_sort:asc\",\n                                    value: token\n                                });\n                            }\n                        });\n                        // params.push({\n                        //     name : \"_sort\",\n                        //     value: this.sort\n                        // })\n                    }\n\n                    if (!this.params._id) {\n\n                        // Min age -----------------------------------------------------\n                        if (this.minAge) {\n                            var d = (0, _moment2.default)().subtract(this.minAge.value, this.minAge.units);\n                            params.push({\n                                name: \"birthdate\",\n                                value: \"le\" + d.format('YYYY-MM-DD')\n                            });\n                        }\n\n                        // Max age -----------------------------------------------------\n                        if (this.maxAge) {\n                            var _d = (0, _moment2.default)().subtract(this.maxAge.value, this.maxAge.units);\n                            params.push({\n                                name: \"birthdate\",\n                                value: \"ge\" + _d.format('YYYY-MM-DD')\n                            });\n                        }\n\n                        // exclude deceased patients if age is specified ---------------\n                        if (this.maxAge || this.minAge) {\n                            var existing = params.find(function (p) {\n                                return p.name === \"deceased\";\n                            });\n                            if (existing) {\n                                existing.value = false;\n                            } else {\n                                params.push({\n                                    name: \"deceased\",\n                                    value: false\n                                });\n                            }\n                        }\n\n                        // Gender ------------------------------------------------------\n                        if (this.gender) {\n                            params.push({\n                                name: \"gender\",\n                                value: this.gender\n                            });\n                        }\n                    }\n                }\n\n            // limit ---------------------------------------------------------------\n            if (this.limit) {\n                params.push({\n                    name: \"_count\",\n                    value: this.limit\n                });\n            }\n\n            // offset --------------------------------------------------------------\n            if (this.offset && this.cacheId) {\n                params.push({\n                    name: \"_getpages\",\n                    value: this.cacheId\n                }, {\n                    name: \"_getpagesoffset\",\n                    value: this.offset\n                });\n            }\n\n            // Compile and return --------------------------------------------------\n            return params.map(function (p) {\n                return encode ? encodeURIComponent(p.name) + \"=\" + encodeURIComponent(p.value) : p.name + \"=\" + p.value;\n            }).join(\"&\");\n        }\n\n        /**\n         * Checks if there are any conditions chosen at the moment\n         * @returns {Boolean}\n         */\n\n    }, {\n        key: \"hasConditions\",\n        value: function hasConditions() {\n            for (var key in this.conditions) {\n                if (this.conditions.hasOwnProperty(key)) {\n                    return true;\n                }\n            }\n            return false;\n        }\n\n        /**\n         * Compiles the current conditions into URL-encoded parameter list\n         * @returns {String}\n         */\n\n    }, {\n        key: \"compileConditions\",\n        value: function compileConditions() {\n            var _this2 = this;\n\n            // let params = [];\n\n            // for (let key in this.conditions) {\n            //     let condition = this.conditions[key]\n\n            //     // system\n            //     let value = [];\n            //     for (let system in condition.codes) {\n            //         let systemUrl = (CODE_SYSTEMS[system] || {}).url;\n\n            //         // system.code[n] - OR\n            //         condition.codes[system].forEach(c => {\n            //             value.push( systemUrl ? systemUrl + \"|\" + c : c );\n            //         })\n            //     }\n\n            //     if (value.length) {\n            //         params.push({\n            //             name : \"code\",\n            //             value: value.join(\",\")\n            //         })\n            //     }\n            // }\n\n            // return params.map(p => (\n            //     encodeURIComponent(p.name) + \"=\" + encodeURIComponent(p.value)\n            // )).join(\"&\");\n            var out = [];\n\n            var _loop = function _loop(key) {\n                var condition = _this2.conditions[key];\n\n                // system\n                var value = [];\n\n                var _loop2 = function _loop2(system) {\n                    var systemUrl = (_constants.CODE_SYSTEMS[system] || {}).url || \"http://snomed.info/sct\";\n\n                    // system.code[n] - OR\n                    condition.codes[system].forEach(function (c) {\n                        value.push(systemUrl + \"|\" + c);\n                    });\n                };\n\n                for (var system in condition.codes) {\n                    _loop2(system);\n                }\n\n                if (value.length) {\n                    out.push(value.join(\",\"));\n                }\n            };\n\n            for (var key in this.conditions) {\n                _loop(key);\n            }\n            return out.length ? \"code=\" + encodeURIComponent(out.join(\",\")) : \"\";\n        }\n    }, {\n        key: \"getConditionKeys\",\n        value: function getConditionKeys() {\n            var _this3 = this;\n\n            var out = [];\n\n            var _loop3 = function _loop3(key) {\n                var condition = _this3.conditions[key];\n\n                // system\n                var value = [];\n\n                var _loop4 = function _loop4(system) {\n                    var systemUrl = (_constants.CODE_SYSTEMS[system] || {}).url || \"http://snomed.info/sct\";\n\n                    // system.code[n] - OR\n                    condition.codes[system].forEach(function (c) {\n                        value.push(systemUrl + \"|\" + c);\n                    });\n                };\n\n                for (var system in condition.codes) {\n                    _loop4(system);\n                }\n\n                if (value.length) {\n                    out.push(value.join(\",\"));\n                }\n            };\n\n            for (var key in this.conditions) {\n                _loop3(key);\n            }\n            return out;\n        }\n\n        /**\n         * Returns a promise resolved with a list of patient IDs that have the\n         * specified condition(s)\n         * @param {String} baseURL\n         * @returns {Promise<String[]>}\n         */\n\n    }, {\n        key: \"getPatientIDs\",\n        value: function getPatientIDs(server) {\n            var _this4 = this;\n\n            if (this.__cache__.patientIDs) {\n                return Promise.resolve(this.__cache__.patientIDs);\n            }\n\n            var conditions = this.compileConditions();\n\n            if (!conditions) {\n                return Promise.resolve([]);\n            }\n\n            /**\n             * The keys (eg: \"http://snomed.info/sct|44054006\") that were set by the\n             * user.\n             * @type {Array<String>}\n             * @private\n             */\n            var conditionKeys = this.getConditionKeys();\n\n            /**\n             * Map of patient IDs as keys and array of condition keys as values.\n             * @private\n             */\n            var patientIDs = {};\n\n            /**\n             * Handles the JSON response (single page) of the conditions query.\n             * Collects the patient IDs and their condition codes into the\n             * patientIDs local variable. When all the pages are fetched, cleans up\n             * the IDs to only contain those that have all the conditions specified\n             * by the user.\n             * @param {Object} response The JSON Conditions bundle response\n             * @returns {Promise<any>} Array of patient ID strings (can be empty)\n             */\n            var handleConditionsResponse = function handleConditionsResponse(response) {\n\n                // Collect the data\n                if (response.entry) {\n                    response.entry.forEach(function (condition) {\n                        var patientID = server.type == \"DSTU-2\" ? condition.resource.patient.reference.split(\"/\").pop() : condition.resource.subject.reference.split(\"/\").pop();\n                        if (!patientIDs[patientID]) {\n                            patientIDs[patientID] = [];\n                        }\n                        patientIDs[patientID].push(((0, _.getPath)(condition, \"resource.code.coding.0.system\") || \"http://snomed.info/sct\") + \"|\" + (0, _.getPath)(condition, \"resource.code.coding.0.code\"));\n                    });\n\n                    var nextLink = (response.link || []).find(function (l) {\n                        return l.relation == \"next\";\n                    });\n                    if (nextLink) {\n                        return (0, _.request)({ url: nextLink.url }).then(handleConditionsResponse);\n                    }\n                }\n                // console.log(conditionKeys, patientIDs)\n                // Clean up and only leave patients having all the conditions\n                patientIDs = Object.keys(patientIDs).filter(function (key) {\n                    return conditionKeys.every(function (conditionKey) {\n                        return patientIDs[key].indexOf(conditionKey) > -1;\n                    });\n                });\n                // console.log(patientIDs)\n\n                // finally return a promise resolved with the compiled ID array\n                return Promise.resolve(patientIDs);\n            };\n\n            // The conditions to search for\n            var params = [conditions];\n\n            // only need the patient - skip the rest to reduce the response\n            params.push(server.type == \"DSTU-2\" ? \"_elements=patient,code\" : \"_elements=subject,code\");\n\n            // Set bigger limit here to reduce the chance of having to\n            // make other queries to fetch subsequent pages\n            params.push(\"_count=500\");\n\n            // Tags (not currently available in STU2)\n            if (this.tags.length) {\n                params.push(\"_tag=\" + encodeURIComponent(this.tags.join(\",\")));\n            }\n\n            return (0, _.request)({\n                url: server.url + \"/Condition?\" + params.join(\"&\")\n            }).then(handleConditionsResponse).then(function (ids) {\n                _this4.__cache__.patientIDs = ids;\n                return ids;\n            });\n        }\n\n        /**\n         * Fetches the patients matching the user-defined conditions. The actual\n         * strategy may vary but regardless of the implementation, a promise is\n         * returned that should eventually be resolved with the result bundle.\n         * @param {String} baseURL\n         * @returns {Promise<Bundle>}\n         */\n\n    }, {\n        key: \"fetch\",\n        value: function fetch(server) {\n            var _this5 = this;\n\n            var data = this.compile();\n\n            // STU2 does not work with the deceased param\n            if (server.type == \"DSTU-2\") {\n                data = data.replace(/\\bdeceased=(true|false)\\b/gi, \"\");\n            }\n\n            // prepare the base options for the patient ajax request\n            var options = {\n                url: this.offset && this.cacheId ? server.url : server.url + \"/Patient/_search\",\n                method: this.offset && this.cacheId ? \"GET\" : \"POST\",\n                processData: false,\n                data: data,\n                headers: {\n                    accept: \"application/json+fhir\",\n                    \"content-type\": \"application/x-www-form-urlencoded\",\n                    \"Authorization\": \"Bearer \" + _UserService2.default.getToken()\n                }\n            };\n\n            return this.getPatientIDs(server).then(function (ids) {\n                if (ids.length) {\n                    // if IDs were found - add them to the patient query\n                    options.data = [options.data, \"_id=\" + encodeURIComponent(ids.join(\",\"))].filter(Boolean).join(\"&\");\n                } else {\n                    // If conditions were specified but no patients were found to\n                    // have those conditions, then we should exit early.\n                    if (_this5.hasConditions()) {\n                        return Promise.reject(\"No patients found with the specified conditions!\");\n                    }\n                }\n                return options;\n            }).then(_.request);\n        }\n    }]);\n\n    return PatientSearch;\n}();\n\nexports.default = PatientSearch;\n\n/***/ }),\n\n/***/ 330:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = function () {\n    return _extends({}, INITIAL_STATE);\n};\n\nvar _lib = __webpack_require__(6);\n\n/**\n * The initial state is just an empty object that will be filled\n * with patient IDs as keys and booleans as values to indicate if\n * that patient is selected.\n */\nvar INITIAL_STATE = (0, _lib.parseQueryString)(location.hash.replace(/^.*\\?/, \"\"));\n\n// Export the reducer as default\n\n/***/ }),\n\n/***/ 331:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n\n\n/***/ }),\n\n/***/ 334:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(11)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".age-widget-wrap {\\n  display: flex;\\n  flex-direction: row;\\n  flex-wrap: nowrap;\\n  white-space: nowrap;\\n  padding: 0;\\n  position: relative;\\n  font-size: 12px;\\n}\\n.age-widget-wrap > * {\\n  display: flex;\\n  flex-grow: 1;\\n  flex-shrink: 1;\\n  margin: 0;\\n  height: 100%;\\n  font-size: 13px;\\n}\\n.age-widget-wrap select {\\n  border: 1px solid transparent;\\n  border-radius: 4px;\\n  height: 100%;\\n}\\n.age-widget-wrap.custom > select {\\n  flex-grow: 0;\\n  min-width: 0;\\n  flex-basis: 180px;\\n}\\n.age-widget-wrap input {\\n  height: 100%;\\n  border: 1px solid transparent;\\n}\\n.age-widget {\\n  display: flex;\\n  flex-basis: 30%;\\n  min-width: 0;\\n  overflow: hidden;\\n  align-items: center;\\n  box-shadow: 2px 1px 2px -2px #BBB inset;\\n}\\n.age-widget:last-of-type {\\n  border-radius: 0 3px 3px 0;\\n}\\n.age-widget span {\\n  display: flex;\\n  white-space: nowrap;\\n  flex-basis: 7ex;\\n  flex-shrink: 0;\\n  flex-grow: 0;\\n  margin: 0 1ex 0 0;\\n  flex-direction: column;\\n  align-content: flex-end;\\n  background: rgba(0, 0, 0, 0.06);\\n  box-shadow: 1px 0 0 0 rgba(0, 0, 0, 0.1), 1px 0 2px 0px rgba(0, 0, 0, 0.1);\\n  line-height: 2.1em;\\n  padding: 0 1ex;\\n  text-align: right;\\n  height: 100%;\\n  font-weight: 500;\\n}\\n.age-widget input {\\n  flex-shrink: 1;\\n  flex-grow: 2;\\n  flex-basis: 30px;\\n  display: flex;\\n  margin: 0;\\n  background: transparent;\\n  min-width: 32px;\\n  border-right: 1px dotted rgba(0, 0, 0, 0.2);\\n}\\n.age-widget select {\\n  display: flex;\\n  flex-shrink: 1;\\n  flex-grow: 1;\\n  flex-basis: 6em;\\n  min-width: 6em;\\n}\\n.age-widget:hover {\\n  box-shadow: 0 0 0 1px #369;\\n  background: #ebf0f5;\\n}\\n.age-widget.invalid {\\n  background: rgba(255, 0, 0, 0.1);\\n  background: rgba(255, 0, 0, 0.03) repeating-linear-gradient(-45deg, rgba(255, 50, 0, 0), rgba(255, 50, 0, 0) 2.5px, rgba(255, 0, 0, 0.2) 3px, rgba(255, 50, 0, 0) 3.5px);\\n  background-size: 40px 40px;\\n}\\n@media (max-width: 600px) {\\n  .age-widget-wrap.custom {\\n    flex-wrap: wrap;\\n    white-space: normal;\\n    height: auto;\\n  }\\n  .age-widget-wrap.custom > select {\\n    flex-basis: 600px;\\n    flex-grow: 1;\\n    flex-shrink: 1;\\n    width: 100%;\\n    line-height: 2.1em;\\n    height: 2.1em;\\n  }\\n  .age-widget-wrap.custom .age-widget {\\n    flex-basis: 50%;\\n    flex-grow: 1;\\n    min-width: none;\\n    box-shadow: 0px 3px 0px -2px #DDD inset;\\n  }\\n  .age-widget-wrap.custom .age-widget:hover {\\n    box-shadow: 0 0 0 1px #369;\\n    background: #ebf0f5;\\n  }\\n  .age-widget-wrap.custom .age-widget:last-of-type {\\n    border-radius: 0 0 3px 0;\\n  }\\n  .age-widget-wrap.custom .age-widget ~ .age-widget span {\\n    box-shadow: 1px 0 0 0 rgba(0, 0, 0, 0.1), 1px 0 0 0 rgba(0, 0, 0, 0.1) inset, 1px 0 2px 0px rgba(0, 0, 0, 0.1);\\n  }\\n}\\n\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 335:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(11)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"* {\\n  box-sizing: border-box;\\n}\\nhtml {\\n  height: 100%;\\n  display: block;\\n}\\nbody {\\n  background: linear-gradient(#F6F6F6, #FFF);\\n  color: #444;\\n  margin: 0;\\n  padding: 0;\\n  overflow: hidden;\\n  height: 100%;\\n  font-family: \\\"Helvetica Neue\\\", Arial, sans-serif;\\n  font-size: 14px;\\n  line-height: normal;\\n}\\na {\\n  text-decoration: none;\\n  color: #369;\\n}\\na:disabled,\\na[disabled] {\\n  pointer-events: none;\\n  opacity: 0.4 !important;\\n}\\nhr {\\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\\n  border-bottom: 1px solid rgba(255, 255, 255, 0.9);\\n}\\n*:focus {\\n  outline: none !important;\\n}\\n.tab-content {\\n  background: linear-gradient(#FFF, transparent);\\n  border: 1px solid #DDD;\\n  border-top: 0;\\n  padding: 15px 15px 0;\\n  border-radius: 0 0 5px 5px;\\n}\\n#overlay {\\n  position: fixed;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  background: rgba(150, 150, 150, 0.1);\\n  z-index: 1000000000;\\n}\\n#main {\\n  height: 100%;\\n}\\n.app {\\n  display: flex;\\n  flex-direction: column;\\n  flex-shrink: 0;\\n  height: 100%;\\n}\\n.page {\\n  display: flex;\\n  position: fixed;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n}\\n.page {\\n  display: flex;\\n}\\n.patient-search-loading {\\n  display: flex;\\n  flex-grow: 1;\\n  align-content: center;\\n  align-items: center;\\n  align-self: center;\\n}\\n.patient-search-loading .fa {\\n  margin: 1ex;\\n}\\n.spin {\\n  animation: spin 2s linear infinite;\\n}\\n@keyframes spin {\\n  0% {\\n    transform: rotate(0deg);\\n  }\\n  100% {\\n    transform: rotate(359deg);\\n  }\\n}\\n.page {\\n  display: flex;\\n  flex-grow: 1;\\n  flex-direction: column;\\n  height: 100%;\\n}\\n.pre {\\n  white-space: pre;\\n  font-family: monospace;\\n  font-size: 12px;\\n  display: block;\\n}\\n.search-match {\\n  background: #FFCF39;\\n  box-shadow: 0 0 1px rgba(255, 255, 255, 0.8) inset, 0 0 1px rgba(0, 0, 0, 0.99) !important;\\n  border-radius: 2px;\\n  text-shadow: 0 0 1px #FFF !important;\\n  color: #000 !important;\\n}\\n.small.pull-left,\\n.small.pull-right,\\nsmall.pull-left,\\nsmall.pull-right {\\n  margin-top: 0.5ex;\\n}\\nlabel[disabled] {\\n  color: rgba(0, 0, 0, 0.4);\\n  cursor: not-allowed;\\n  user-select: none;\\n}\\n.deceased-label {\\n  vertical-align: baseline;\\n  color: #e45f00;\\n  font-size: 11px;\\n  padding: 0px 4px 1px;\\n  border-radius: 3px;\\n  border: 1px solid #ff6a00;\\n  box-shadow: 0 1px 4px 0px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(255, 255, 255, 0.31) inset;\\n}\\nselect,\\nselect.form-control {\\n  padding: 0 10px;\\n  line-height: 30px;\\n  font: inherit;\\n  background-color: transparent;\\n  background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwMCIgaGVpZ2h0PSI1MTIiIHZpZXdCb3g9IjAgMCAxMDAwIDUxMiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZD0iTSA5Ni4wMCw5Ni4wMGwtOTYuMDAsOTYuMDBsIDI1Ni4wMCwyNTYuMDBsIDI1Ni4wMC0yNTYuMDBsLTk2LjAwLTk2LjAwTCAyNTYuMDAsMjU2LjAwTCA5Ni4wMCw5Ni4wMHoiID48L3BhdGg+PC9zdmc+');\\n  background-position: 100% 50%;\\n  background-repeat: no-repeat;\\n  background-size: 15px;\\n  position: relative;\\n  padding-right: 20px;\\n  -webkit-appearance: none;\\n  -moz-appearance: none;\\n  -ms-appearance: none;\\n}\\nselect::-ms-expand,\\nselect.form-control::-ms-expand {\\n  display: none;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 336:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(11)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".dialog-buttons button {\\n  min-width: 10em;\\n  margin: 0 0 0 1em;\\n}\\n.dialog-buttons label {\\n  margin: 2px 0;\\n  display: flex;\\n  align-items: center;\\n  min-height: 30px;\\n}\\n.dialog-buttons .btn-group {\\n  display: inline-flex;\\n  flex: 0 1 18em;\\n  line-height: 1;\\n  flex-direction: row;\\n  box-shadow: 0 1px 1px #FFF;\\n  margin: 0 6px;\\n}\\n.dialog-buttons .btn-group > .btn {\\n  display: flex;\\n  flex: 1 1 120px;\\n  align-items: center;\\n  align-content: center;\\n  align-self: center;\\n  flex-direction: column;\\n  min-width: 4em;\\n  margin: 0;\\n  border: 1px solid #BBB;\\n  padding: 4px 2ex;\\n  background: linear-gradient(#F9F9F9, #E9E9E9);\\n  font-weight: normal;\\n  color: #666;\\n  text-shadow: 0 1px 0 #FFF;\\n  box-shadow: 0 1px 1px #FFF inset;\\n  overflow: hidden;\\n}\\n.dialog-buttons .btn-group > .btn:hover {\\n  background: linear-gradient(#FFF, #EEE);\\n}\\n.dialog-buttons .btn-group > .btn:active,\\n.dialog-buttons .btn-group > .btn.active {\\n  background: linear-gradient(#CCC, #DDD);\\n  box-shadow: 0 1px 1px #BBB inset;\\n  border-color: #999 #AAA #BBB;\\n}\\n.dialog-buttons .btn-group > .btn + .btn {\\n  margin-left: -1px;\\n}\\n.dialog-buttons .btn-group > .btn:first-child {\\n  border-radius: 4px 0 0 4px;\\n}\\n.dialog-buttons .btn-group > .btn:last-child {\\n  border-radius: 0 4px 4px 0;\\n}\\n.dialog-buttons :disabled .btn-group,\\n.dialog-buttons [disabled] .btn-group,\\n.dialog-buttons .disabled .btn-group {\\n  opacity: 0.5;\\n  pointer-events: none;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 337:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(11)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".app-footer {\\n  position: relative;\\n  z-index: 3;\\n  display: flex;\\n  flex-grow: 0;\\n  flex-shrink: 0;\\n  justify-content: center;\\n  align-items: center;\\n  box-shadow: 0 -1px 0 rgba(0, 0, 0, 0.2), 0 0 5px 0 rgba(0, 0, 0, 0.25);\\n  text-shadow: 0 1px 0 #FFF;\\n  background: #F0F0F0;\\n  white-space: nowrap;\\n}\\n.app-footer .row {\\n  padding: 4px 0;\\n  box-shadow: 0 -1px 0 0 rgba(0, 0, 0, 0.1) inset;\\n}\\n.app-footer .row + .row {\\n  box-shadow: 0 -1px 0 0 rgba(0, 0, 0, 0.1) inset, 0 1px 0 0 rgba(255, 255, 255, 0.9) inset;\\n}\\n.app-footer .row:first-child .col-xs-6 {\\n  padding: 6px 0px;\\n}\\n.app-footer a {\\n  display: block;\\n  padding: 5px 0px;\\n  text-align: center;\\n  border-radius: 4px;\\n  border: 1px solid transparent;\\n}\\n.app-footer a:hover {\\n  background: rgba(51, 122, 183, 0.15);\\n  border: 1px solid rgba(51, 122, 183, 0.29);\\n}\\n\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 338:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(11)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".app-header {\\n  color: #1f3d5c;\\n  padding: 5px 0 0;\\n  background: linear-gradient(#DFDFDF, #EEE 5px, #e2e2e2);\\n  position: relative;\\n  z-index: 3;\\n  box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 5px 0 rgba(0, 0, 0, 0.5);\\n  text-shadow: 0 1px 0 #FFF;\\n  display: flex;\\n  flex-shrink: 0;\\n  flex-direction: column;\\n}\\n.app-header .nav.nav-tabs {\\n  padding-left: 5px;\\n}\\n.app-header .nav.nav-tabs a {\\n  padding: 5px 10px;\\n}\\n.app-header .tab-content {\\n  background: linear-gradient(#FFF, #F6F6F6);\\n  border: 0;\\n  border-bottom: 1px solid #BBB;\\n  padding: 5px 5px 0;\\n  border-radius: 0;\\n  font-size: small;\\n  box-shadow: 0 2px 1px -1px rgba(0, 0, 0, 0.1);\\n}\\n.app-header .badge {\\n  text-shadow: 0 0 1px #FFF;\\n  background: rgba(0, 0, 0, 0.08);\\n  color: #444;\\n  font-weight: 400;\\n  box-shadow: 0 0 0.5px 0 rgba(0, 0, 0, 0.2) inset;\\n}\\n.app-header .advanced-label {\\n  margin: 7px 6px 0 0;\\n}\\n.app-header .advanced-label input[type=\\\"checkbox\\\"] {\\n  margin: 0;\\n  vertical-align: middle;\\n}\\n.app-header .form-group {\\n  margin-bottom: 5px;\\n}\\n.app-header label,\\n.app-header .alert {\\n  margin-bottom: 3px;\\n}\\n.app-header .alert {\\n  padding: 5px 10px;\\n}\\n.app-header .btn-submit {\\n  margin: 4px 5px 0 auto;\\n  padding: 3px 8px;\\n  box-shadow: -13px 3px 0px -6px #e3e3e3, 13px 3px 0px -6px #e3e3e3, 0px 1px 0px 2px #e3e3e3, 0 2px 0 2px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.4), 0px 1px 1px -1px #FFF inset, 0px -17px 0px -5px rgba(0, 0, 0, 0.05) inset;\\n  border-radius: 30px;\\n  text-shadow: 0 -1px 1px rgba(0, 0, 0, 0.25), 0 0 1px rgba(0, 0, 0, 0.5);\\n  border-color: rgba(0, 0, 0, 0.5);\\n  position: relative;\\n  z-index: 100000000;\\n  min-width: 10%;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 339:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(11)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".loader {\\n  background: rgba(255, 255, 255, 0.5);\\n  text-align: center;\\n  position: absolute;\\n  z-index: 2;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  border-radius: inherit;\\n}\\n.loader div {\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  font-size: 18px;\\n  transform: translate(-50%, -50%);\\n  background: #FFF;\\n  border-radius: 5px;\\n  padding: 1ex 2em;\\n  box-shadow: 0 0 1px 0px rgba(0, 0, 0, 0.5), 0 0 15px 1px rgba(0, 0, 0, 0.15);\\n}\\n\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 34:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = Date;\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(3);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction Date(_ref) {\n    var moment = _ref.moment,\n        _ref$format = _ref.format,\n        format = _ref$format === undefined ? \"MM/DD/YYYY\" : _ref$format,\n        rest = _objectWithoutProperties(_ref, [\"moment\", \"format\"]);\n\n    return _react2.default.createElement(\n        \"span\",\n        rest,\n        (0, _moment2.default)(moment).format(format)\n    );\n}\n\nDate.propTypes = {\n    format: _propTypes2.default.string,\n    moment: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.instanceOf(Date), _propTypes2.default.object // moment\n    ]).isRequired\n};\n\n/***/ }),\n\n/***/ 340:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(11)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".modal {\\n  position: fixed;\\n  z-index: 1;\\n  width: 100%;\\n  height: 100%;\\n  background-color: rgba(0, 0, 0, 0.25);\\n}\\n.modal_content {\\n  background-color: white;\\n  position: absolute;\\n  top: 20%;\\n  left: 30%;\\n  width: 40%;\\n  padding: 20px;\\n  border-radius: 5px;\\n  border: 2px solid black;\\n}\\n.close {\\n  color: Black;\\n  float: right;\\n}\\n.close:hover {\\n  color: cyan;\\n  cursor: pointer;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 341:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(11)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".patient-detail-page {\\n  overflow: auto;\\n  padding: 65px 0 50px;\\n  display: block;\\n  -webkit-overflow-scrolling: touch;\\n}\\n.patient-detail-page > .container {\\n  width: 100%;\\n}\\n.patient-detail-page .navigator {\\n  color: #FFF;\\n}\\n.patient-detail-page .navigator a {\\n  white-space: nowrap;\\n  padding: 8px 15px;\\n  margin: 5px 0;\\n  color: #FFF;\\n}\\n.patient-detail-page .navigator a:hover {\\n  background: rgba(0, 0, 0, 0.05);\\n}\\n.patient-detail-page .navigator .fa {\\n  margin: 0 5px;\\n}\\n.patient-detail-page .embed-responsive {\\n  padding-bottom: 100%;\\n}\\n.patient-detail-page .page-header {\\n  margin: 0;\\n  padding-bottom: 1.5ex;\\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\\n}\\n.patient-detail-page .patient {\\n  background: transparent;\\n  padding: 0;\\n  border: 0;\\n  box-shadow: none;\\n  position: relative;\\n}\\n.patient-detail-page .patient .text-left {\\n  text-shadow: 0 0 1px rgba(0, 0, 0, 0.1);\\n}\\n.patient-detail-page .patient-row {\\n  background: rgba(0, 0, 0, 0.05);\\n  border-radius: 3px;\\n  margin-bottom: 5px;\\n  padding: 5px;\\n}\\n.patient-detail-page .patient-row:after {\\n  content: \\\"\\\";\\n  display: table;\\n  clear: both;\\n}\\n.patient-detail-page .patient-row ~ .row > div {\\n  padding: 3px 5px;\\n}\\n.patient-detail-page .patient-row h3 {\\n  margin: 0;\\n  line-height: 1.45em;\\n}\\n.patient-detail-page .patient-row .label {\\n  margin: 8px 0 0 12px;\\n  font-size: 13px;\\n}\\n.patient-detail-page .patient-row .btn {\\n  min-width: 7em;\\n  margin: 2px;\\n}\\n.patient-detail-page .patient-image-wrap {\\n  margin-right: 1ex;\\n}\\n.patient-detail-page .patient-name {\\n  font-size: 24px;\\n}\\n.patient-detail-page td,\\n.patient-detail-page th {\\n  font-size: 13px;\\n  line-height: 16px;\\n}\\n.patient-detail-page td .text-muted,\\n.patient-detail-page th .text-muted {\\n  font-weight: 400;\\n}\\n.patient-detail-page td b,\\n.patient-detail-page th b {\\n  font-weight: 500;\\n}\\n.patient-detail-page td label,\\n.patient-detail-page th label {\\n  margin-bottom: 0;\\n}\\n.patient-detail-page td td,\\n.patient-detail-page th td {\\n  vertical-align: top;\\n  font-size: 12px;\\n  line-height: 16px;\\n}\\n.patient-detail-page td .label-cell,\\n.patient-detail-page th .label-cell {\\n  color: #888;\\n  white-space: nowrap;\\n  text-align: right;\\n  font-weight: 400;\\n  padding-right: 1ex;\\n}\\n.patient-detail-page td .label-cell:after,\\n.patient-detail-page th .label-cell:after {\\n  content: \\\": \\\";\\n}\\n.patient-detail-page td {\\n  font-weight: 500;\\n}\\n.patient-detail-page th {\\n  font-weight: 700;\\n}\\n.patient-detail-page thead th .glyphicon,\\n.patient-detail-page thead th .fa {\\n  text-shadow: 0 1px 2px #FFF, 0 0 0px #214b6f;\\n  color: rgba(51, 122, 183, 0.3);\\n}\\n.patient-detail-page .patient-details {\\n  white-space: normal;\\n  word-wrap: break-word;\\n}\\n.patient-detail-page .patient-details .badge {\\n  opacity: 0.75;\\n  margin: 0 0 0 2px;\\n}\\n.patient-detail-page .patient-details table a {\\n  white-space: normal;\\n  word-break: break-all;\\n  word-wrap: break-word;\\n}\\n.patient-detail-page .patient-details .panel-heading {\\n  text-shadow: 0 1px 0 #FFF;\\n}\\n.patient-detail-page .list-group-item {\\n  padding-top: 7px;\\n  padding-bottom: 7px;\\n}\\n.patient-detail-page .group-header {\\n  cursor: pointer;\\n  background: linear-gradient(90deg, #ebf2f8, #f5f8fb);\\n  text-indent: 0;\\n}\\n.patient-detail-page .group-header .glyphicon-triangle-bottom {\\n  position: relative;\\n  top: 2px;\\n}\\n.patient-detail-page .group-header ~ tr > td:first-child {\\n  text-indent: 17px;\\n}\\n.patient-detail-page .group-clear + tr > td:first-child {\\n  text-indent: 0;\\n}\\n.patient-detail-page .group-clear + tr > td:first-child:before {\\n  content: \\\"\\\\E250\\\";\\n  position: relative;\\n  top: 1px;\\n  display: inline-block;\\n  font-family: 'Glyphicons Halflings';\\n  font-style: normal;\\n  font-weight: 400;\\n  line-height: 1;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n  margin-right: 3px;\\n  opacity: 0.3;\\n}\\n.patient-detail-page .table-responsive {\\n  border: none !important;\\n}\\n.modal_local {\\n  position: fixed;\\n  z-index: 1;\\n  width: 100%;\\n  height: 100%;\\n  background-color: rgba(0, 0, 0, 0.25);\\n}\\n.modal_content {\\n  background-color: white;\\n  position: absolute;\\n  top: 20%;\\n  left: 30%;\\n  width: 40%;\\n  padding: 20px;\\n  border-radius: 5px;\\n  border: 2px solid black;\\n}\\n.close {\\n  color: Black;\\n  float: right;\\n}\\n.close:hover {\\n  color: cyan;\\n  cursor: pointer;\\n}\\n.alert_heading {\\n  text-align: center;\\n  color: red;\\n  font-size: 20px;\\n}\\n.orange_hightlight {\\n  color: orange;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 342:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(11)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".patient-image-wrap {\\n  height: 80px;\\n  width: 80px;\\n  background: #F6F6F6;\\n  border-radius: 3px;\\n  text-align: center;\\n  position: relative;\\n  box-shadow: 0 0 0.5px 0 rgba(0, 0, 0, 0.5) inset, 0 0 1px 1px #FFF;\\n  background-size: cover;\\n  background-position: center;\\n  flex-shrink: 0;\\n  flex-grow: 0;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 343:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(11)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".login_user {\\n  padding: 20px;\\n}\\n.login_bg {\\n  background: brown;\\n  color: white;\\n}\\n.logout_button {\\n  padding-right: 20px;\\n}\\n.patient-search-results {\\n  display: flex;\\n  flex-grow: 1;\\n  flex-direction: column;\\n  background: #FFF;\\n  overflow: auto;\\n  -webkit-overflow-scrolling: touch;\\n}\\n.patient-search-results .male {\\n  color: #369;\\n}\\n.patient-search-results .female {\\n  color: #936;\\n}\\n.patient-search-results .patient {\\n  position: relative;\\n  padding: 1ex;\\n  cursor: pointer;\\n  flex-flow: 0;\\n  flex-shrink: 0;\\n  align-items: center;\\n  display: flex;\\n  transition: background 0.1s;\\n  color: #444;\\n  text-decoration: none;\\n  box-shadow: 0 1px 0 rgba(255, 255, 255, 0.85) inset, 0 -1px 0 rgba(0, 0, 0, 0.15) inset;\\n}\\n.patient-search-results .patient:hover {\\n  background: rgba(0, 0, 0, 0.05);\\n}\\n.patient-search-results .patient .patient-select-zone {\\n  display: inline-block;\\n  vertical-align: middle;\\n  height: 54px;\\n  line-height: 54px;\\n  width: 30px;\\n  border-radius: 3px;\\n  text-align: center;\\n  color: #369;\\n  min-width: 30px;\\n}\\n.patient-search-results .patient .patient-select-zone:hover {\\n  background: rgba(51, 102, 153, 0.1);\\n}\\n.patient-search-results .patient .fa-angle-right {\\n  opacity: 0.5;\\n  font-size: 20px;\\n  display: flex;\\n  flex-basis: 1em;\\n}\\n.patient-search-results .patient .patient-image-wrap {\\n  height: 54px;\\n  width: 54px;\\n  margin: 0 1ex;\\n}\\n.patient-search-results .patient .patient-info {\\n  flex-grow: 1;\\n}\\n.patient-search-results .patient .patient-info > b {\\n  font-size: 16px;\\n  line-height: 1;\\n  display: block;\\n  margin-bottom: 2px;\\n}\\n.patient-search-results .patient .patient-info small {\\n  opacity: 0.7;\\n  display: block;\\n}\\n.patient-search-results .patient .patient-info footer {\\n  opacity: 0.7;\\n  display: flex;\\n  flex-direction: row;\\n  margin-top: 5px;\\n}\\n.patient-search-results .patient .patient-info footer > span {\\n  display: flex;\\n  flex-basis: 14em;\\n  flex-grow: 1;\\n}\\n.patient-search-results .patient .patient-info footer > span + span {\\n  margin-left: 2em;\\n}\\n.patient-search-results .patient.selected {\\n  background: #369;\\n  box-shadow: 0 1px 0 rgba(255, 255, 255, 0.05) inset, 0 -1px 0 rgba(0, 0, 0, 0.15) inset;\\n  text-shadow: 0 0 1px #000;\\n}\\n.patient-search-results .patient.selected,\\n.patient-search-results .patient.selected * {\\n  color: #FFF;\\n}\\n.patient-search-results .patient.selected .patient-image-wrap {\\n  box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.3), 0 0 0 0.5px rgba(255, 255, 255, 0.5) inset;\\n}\\n.patient-search-results .patient.selected .patient-select-zone:hover {\\n  background: rgba(255, 255, 255, 0.07);\\n}\\n.patient-search-results .patient.selected:hover {\\n  background: #2f5e8e;\\n}\\n@media (max-width: 480px) {\\n  .patient-search-results .patient .patient-info footer span + span {\\n    display: none;\\n  }\\n}\\n\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 344:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(11)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".sort-widget {\\n  padding: 0 5px;\\n  float: left;\\n  width: 100%;\\n}\\n.sort-widget > span {\\n  padding: 6px 1ex 0 0;\\n  font-weight: bold;\\n}\\n.sort-widget .nav.nav-pills li {\\n  margin: 3px 3px 3px 0;\\n}\\n.sort-widget .nav.nav-pills li a {\\n  padding: 4px 8px;\\n}\\n.sort-widget .nav.nav-pills li a .sort {\\n  opacity: 0.6;\\n}\\n.sort-widget .nav.nav-pills li.active a,\\n.sort-widget .nav.nav-pills li:hover a,\\n.sort-widget .nav.nav-pills li:active a,\\n.sort-widget .nav.nav-pills li a:focus {\\n  box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.2) inset;\\n}\\n.sort-widget .nav.nav-pills li.active a {\\n  text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.3);\\n}\\n\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 345:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(11)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".tag-selector {\\n  position: relative;\\n  display: block;\\n  width: 100%;\\n  color: #000;\\n  min-width: 200px;\\n  font-size: small;\\n}\\n.tag-selector .tags {\\n  margin-bottom: 4px;\\n}\\n.tag-selector input {\\n  padding-right: 24px;\\n}\\n.tag-selector .tag {\\n  margin: 1px 6px 1px 0px;\\n  padding: 3px 26px 3px 6px;\\n  background: #DC9;\\n  box-shadow: 0 0 1px 0 rgba(0, 0, 0, 0.5) inset;\\n  border-radius: 3px;\\n  color: #520;\\n  text-shadow: 0 1px 1px rgba(255, 255, 255, 0.3);\\n  display: inline-block;\\n  position: relative;\\n  font-weight: 500;\\n  line-height: 1.2;\\n  font-size: 12px;\\n  cursor: default;\\n}\\n.tag-selector .tag:last-of-type {\\n  margin-right: 0;\\n}\\n.tag-selector .tag .tag-remove {\\n  position: absolute;\\n  top: 4px;\\n  right: 5px;\\n  color: rgba(0, 0, 0, 0.4);\\n  text-shadow: none;\\n  opacity: 0.6;\\n}\\n.tag-selector .tag:hover {\\n  background-color: #d7c286;\\n}\\n.tag-selector .tag:hover .tag-remove {\\n  opacity: 0.5;\\n}\\n.tag-selector .tag:hover .tag-remove:hover {\\n  opacity: 1;\\n  color: #900;\\n}\\n.tag-selector .tag.custom {\\n  background: #adc2d6;\\n  color: #19334d;\\n}\\n.tag-selector .tag.custom:hover {\\n  background-color: #9cb5ce;\\n}\\n.tag-selector .menu {\\n  padding: 4px;\\n  top: 100%;\\n  width: 100%;\\n  text-align: left;\\n  max-height: 50vh;\\n  overflow: auto;\\n  z-index: 10000000000;\\n}\\n.tag-selector .menu-item {\\n  padding: 5px 10px;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  cursor: default;\\n}\\n.tag-selector .menu-item small {\\n  line-height: 1.4;\\n  font-weight: 400;\\n}\\n.tag-selector .menu-item .code {\\n  width: 110px;\\n  display: inline-block;\\n  text-align: right;\\n  padding-right: 1ex;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  float: left;\\n  margin: 1px 0 -1px;\\n}\\n.tag-selector .menu-item:hover {\\n  background: rgba(0, 0, 0, 0.1);\\n}\\n.tag-selector .menu-item.selected {\\n  color: #FFF;\\n  background: #369;\\n  text-shadow: 0 0 1px #000000;\\n}\\n.tag-selector .menu-item.selected small {\\n  color: rgba(255, 255, 255, 0.6);\\n  text-shadow: none;\\n}\\n.tag-selector .menu-item.selected .tag.custom {\\n  box-shadow: 0 0 1px 0 rgba(0, 0, 0, 0.5);\\n}\\n.tag-selector .menu-item.custom {\\n  font-weight: bold;\\n  cursor: pointer;\\n  padding: 3px 10px;\\n}\\n.tag-selector .menu-item.custom + .menu-item {\\n  position: relative;\\n  overflow: visible;\\n  margin-top: 9px;\\n}\\n.tag-selector .menu-item.custom + .menu-item:before {\\n  content: \\\"\\\";\\n  display: block;\\n  height: 1px;\\n  background: #CCC;\\n  position: absolute;\\n  top: -5px;\\n  left: 0;\\n  right: 0;\\n}\\n.tag-selector .menu-item.custom .tag {\\n  margin: 0 1px;\\n  padding: 3px 6px;\\n  line-height: 1;\\n}\\n.tag-selector.open {\\n  outline: none;\\n}\\n.tag-selector .fa.fa-caret-down {\\n  position: absolute;\\n  right: 10px;\\n  bottom: 10px;\\n  pointer-events: none;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 364:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n\n\nvar isObject = __webpack_require__(365);\n\nfunction isObjectObject(o) {\n  return isObject(o) === true\n    && Object.prototype.toString.call(o) === '[object Object]';\n}\n\nmodule.exports = function isPlainObject(o) {\n  var ctor,prot;\n\n  if (isObjectObject(o) === false) return false;\n\n  // If has modified constructor\n  ctor = o.constructor;\n  if (typeof ctor !== 'function') return false;\n\n  // If has modified prototype\n  prot = ctor.prototype;\n  if (isObjectObject(prot) === false) return false;\n\n  // If constructor does not have an Object-specific method\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  }\n\n  // Most likely a plain Object\n  return true;\n};\n\n\n/***/ }),\n\n/***/ 365:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*!\n * isobject <https://github.com/jonschlinkert/isobject>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n\n\nmodule.exports = function isObject(val) {\n  return val != null && typeof val === 'object' && Array.isArray(val) === false;\n};\n\n\n/***/ }),\n\n/***/ 366:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(process, global) {var __WEBPACK_AMD_DEFINE_RESULT__;/**\n * [js-sha256]{@link https://github.com/emn178/js-sha256}\n *\n * @version 0.9.0\n * @author Chen, Yi-Cyuan [emn178@gmail.com]\n * @copyright Chen, Yi-Cyuan 2014-2017\n * @license MIT\n */\n/*jslint bitwise: true */\n(function () {\n  'use strict';\n\n  var ERROR = 'input is invalid type';\n  var WINDOW = typeof window === 'object';\n  var root = WINDOW ? window : {};\n  if (root.JS_SHA256_NO_WINDOW) {\n    WINDOW = false;\n  }\n  var WEB_WORKER = !WINDOW && typeof self === 'object';\n  var NODE_JS = !root.JS_SHA256_NO_NODE_JS && typeof process === 'object' && process.versions && process.versions.node;\n  if (NODE_JS) {\n    root = global;\n  } else if (WEB_WORKER) {\n    root = self;\n  }\n  var COMMON_JS = !root.JS_SHA256_NO_COMMON_JS && typeof module === 'object' && module.exports;\n  var AMD = \"function\" === 'function' && __webpack_require__(553);\n  var ARRAY_BUFFER = !root.JS_SHA256_NO_ARRAY_BUFFER && typeof ArrayBuffer !== 'undefined';\n  var HEX_CHARS = '0123456789abcdef'.split('');\n  var EXTRA = [-2147483648, 8388608, 32768, 128];\n  var SHIFT = [24, 16, 8, 0];\n  var K = [\n    0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n    0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n    0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n    0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n    0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n    0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n    0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n    0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n  ];\n  var OUTPUT_TYPES = ['hex', 'array', 'digest', 'arrayBuffer'];\n\n  var blocks = [];\n\n  if (root.JS_SHA256_NO_NODE_JS || !Array.isArray) {\n    Array.isArray = function (obj) {\n      return Object.prototype.toString.call(obj) === '[object Array]';\n    };\n  }\n\n  if (ARRAY_BUFFER && (root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW || !ArrayBuffer.isView)) {\n    ArrayBuffer.isView = function (obj) {\n      return typeof obj === 'object' && obj.buffer && obj.buffer.constructor === ArrayBuffer;\n    };\n  }\n\n  var createOutputMethod = function (outputType, is224) {\n    return function (message) {\n      return new Sha256(is224, true).update(message)[outputType]();\n    };\n  };\n\n  var createMethod = function (is224) {\n    var method = createOutputMethod('hex', is224);\n    if (NODE_JS) {\n      method = nodeWrap(method, is224);\n    }\n    method.create = function () {\n      return new Sha256(is224);\n    };\n    method.update = function (message) {\n      return method.create().update(message);\n    };\n    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\n      var type = OUTPUT_TYPES[i];\n      method[type] = createOutputMethod(type, is224);\n    }\n    return method;\n  };\n\n  var nodeWrap = function (method, is224) {\n    var crypto = eval(\"require('crypto')\");\n    var Buffer = eval(\"require('buffer').Buffer\");\n    var algorithm = is224 ? 'sha224' : 'sha256';\n    var nodeMethod = function (message) {\n      if (typeof message === 'string') {\n        return crypto.createHash(algorithm).update(message, 'utf8').digest('hex');\n      } else {\n        if (message === null || message === undefined) {\n          throw new Error(ERROR);\n        } else if (message.constructor === ArrayBuffer) {\n          message = new Uint8Array(message);\n        }\n      }\n      if (Array.isArray(message) || ArrayBuffer.isView(message) ||\n        message.constructor === Buffer) {\n        return crypto.createHash(algorithm).update(new Buffer(message)).digest('hex');\n      } else {\n        return method(message);\n      }\n    };\n    return nodeMethod;\n  };\n\n  var createHmacOutputMethod = function (outputType, is224) {\n    return function (key, message) {\n      return new HmacSha256(key, is224, true).update(message)[outputType]();\n    };\n  };\n\n  var createHmacMethod = function (is224) {\n    var method = createHmacOutputMethod('hex', is224);\n    method.create = function (key) {\n      return new HmacSha256(key, is224);\n    };\n    method.update = function (key, message) {\n      return method.create(key).update(message);\n    };\n    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\n      var type = OUTPUT_TYPES[i];\n      method[type] = createHmacOutputMethod(type, is224);\n    }\n    return method;\n  };\n\n  function Sha256(is224, sharedMemory) {\n    if (sharedMemory) {\n      blocks[0] = blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n        blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n        blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n      this.blocks = blocks;\n    } else {\n      this.blocks = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n    }\n\n    if (is224) {\n      this.h0 = 0xc1059ed8;\n      this.h1 = 0x367cd507;\n      this.h2 = 0x3070dd17;\n      this.h3 = 0xf70e5939;\n      this.h4 = 0xffc00b31;\n      this.h5 = 0x68581511;\n      this.h6 = 0x64f98fa7;\n      this.h7 = 0xbefa4fa4;\n    } else { // 256\n      this.h0 = 0x6a09e667;\n      this.h1 = 0xbb67ae85;\n      this.h2 = 0x3c6ef372;\n      this.h3 = 0xa54ff53a;\n      this.h4 = 0x510e527f;\n      this.h5 = 0x9b05688c;\n      this.h6 = 0x1f83d9ab;\n      this.h7 = 0x5be0cd19;\n    }\n\n    this.block = this.start = this.bytes = this.hBytes = 0;\n    this.finalized = this.hashed = false;\n    this.first = true;\n    this.is224 = is224;\n  }\n\n  Sha256.prototype.update = function (message) {\n    if (this.finalized) {\n      return;\n    }\n    var notString, type = typeof message;\n    if (type !== 'string') {\n      if (type === 'object') {\n        if (message === null) {\n          throw new Error(ERROR);\n        } else if (ARRAY_BUFFER && message.constructor === ArrayBuffer) {\n          message = new Uint8Array(message);\n        } else if (!Array.isArray(message)) {\n          if (!ARRAY_BUFFER || !ArrayBuffer.isView(message)) {\n            throw new Error(ERROR);\n          }\n        }\n      } else {\n        throw new Error(ERROR);\n      }\n      notString = true;\n    }\n    var code, index = 0, i, length = message.length, blocks = this.blocks;\n\n    while (index < length) {\n      if (this.hashed) {\n        this.hashed = false;\n        blocks[0] = this.block;\n        blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n          blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n          blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n          blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n      }\n\n      if (notString) {\n        for (i = this.start; index < length && i < 64; ++index) {\n          blocks[i >> 2] |= message[index] << SHIFT[i++ & 3];\n        }\n      } else {\n        for (i = this.start; index < length && i < 64; ++index) {\n          code = message.charCodeAt(index);\n          if (code < 0x80) {\n            blocks[i >> 2] |= code << SHIFT[i++ & 3];\n          } else if (code < 0x800) {\n            blocks[i >> 2] |= (0xc0 | (code >> 6)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          } else if (code < 0xd800 || code >= 0xe000) {\n            blocks[i >> 2] |= (0xe0 | (code >> 12)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          } else {\n            code = 0x10000 + (((code & 0x3ff) << 10) | (message.charCodeAt(++index) & 0x3ff));\n            blocks[i >> 2] |= (0xf0 | (code >> 18)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 12) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          }\n        }\n      }\n\n      this.lastByteIndex = i;\n      this.bytes += i - this.start;\n      if (i >= 64) {\n        this.block = blocks[16];\n        this.start = i - 64;\n        this.hash();\n        this.hashed = true;\n      } else {\n        this.start = i;\n      }\n    }\n    if (this.bytes > 4294967295) {\n      this.hBytes += this.bytes / 4294967296 << 0;\n      this.bytes = this.bytes % 4294967296;\n    }\n    return this;\n  };\n\n  Sha256.prototype.finalize = function () {\n    if (this.finalized) {\n      return;\n    }\n    this.finalized = true;\n    var blocks = this.blocks, i = this.lastByteIndex;\n    blocks[16] = this.block;\n    blocks[i >> 2] |= EXTRA[i & 3];\n    this.block = blocks[16];\n    if (i >= 56) {\n      if (!this.hashed) {\n        this.hash();\n      }\n      blocks[0] = this.block;\n      blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n        blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n        blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n    }\n    blocks[14] = this.hBytes << 3 | this.bytes >>> 29;\n    blocks[15] = this.bytes << 3;\n    this.hash();\n  };\n\n  Sha256.prototype.hash = function () {\n    var a = this.h0, b = this.h1, c = this.h2, d = this.h3, e = this.h4, f = this.h5, g = this.h6,\n      h = this.h7, blocks = this.blocks, j, s0, s1, maj, t1, t2, ch, ab, da, cd, bc;\n\n    for (j = 16; j < 64; ++j) {\n      // rightrotate\n      t1 = blocks[j - 15];\n      s0 = ((t1 >>> 7) | (t1 << 25)) ^ ((t1 >>> 18) | (t1 << 14)) ^ (t1 >>> 3);\n      t1 = blocks[j - 2];\n      s1 = ((t1 >>> 17) | (t1 << 15)) ^ ((t1 >>> 19) | (t1 << 13)) ^ (t1 >>> 10);\n      blocks[j] = blocks[j - 16] + s0 + blocks[j - 7] + s1 << 0;\n    }\n\n    bc = b & c;\n    for (j = 0; j < 64; j += 4) {\n      if (this.first) {\n        if (this.is224) {\n          ab = 300032;\n          t1 = blocks[0] - 1413257819;\n          h = t1 - 150054599 << 0;\n          d = t1 + 24177077 << 0;\n        } else {\n          ab = 704751109;\n          t1 = blocks[0] - 210244248;\n          h = t1 - 1521486534 << 0;\n          d = t1 + 143694565 << 0;\n        }\n        this.first = false;\n      } else {\n        s0 = ((a >>> 2) | (a << 30)) ^ ((a >>> 13) | (a << 19)) ^ ((a >>> 22) | (a << 10));\n        s1 = ((e >>> 6) | (e << 26)) ^ ((e >>> 11) | (e << 21)) ^ ((e >>> 25) | (e << 7));\n        ab = a & b;\n        maj = ab ^ (a & c) ^ bc;\n        ch = (e & f) ^ (~e & g);\n        t1 = h + s1 + ch + K[j] + blocks[j];\n        t2 = s0 + maj;\n        h = d + t1 << 0;\n        d = t1 + t2 << 0;\n      }\n      s0 = ((d >>> 2) | (d << 30)) ^ ((d >>> 13) | (d << 19)) ^ ((d >>> 22) | (d << 10));\n      s1 = ((h >>> 6) | (h << 26)) ^ ((h >>> 11) | (h << 21)) ^ ((h >>> 25) | (h << 7));\n      da = d & a;\n      maj = da ^ (d & b) ^ ab;\n      ch = (h & e) ^ (~h & f);\n      t1 = g + s1 + ch + K[j + 1] + blocks[j + 1];\n      t2 = s0 + maj;\n      g = c + t1 << 0;\n      c = t1 + t2 << 0;\n      s0 = ((c >>> 2) | (c << 30)) ^ ((c >>> 13) | (c << 19)) ^ ((c >>> 22) | (c << 10));\n      s1 = ((g >>> 6) | (g << 26)) ^ ((g >>> 11) | (g << 21)) ^ ((g >>> 25) | (g << 7));\n      cd = c & d;\n      maj = cd ^ (c & a) ^ da;\n      ch = (g & h) ^ (~g & e);\n      t1 = f + s1 + ch + K[j + 2] + blocks[j + 2];\n      t2 = s0 + maj;\n      f = b + t1 << 0;\n      b = t1 + t2 << 0;\n      s0 = ((b >>> 2) | (b << 30)) ^ ((b >>> 13) | (b << 19)) ^ ((b >>> 22) | (b << 10));\n      s1 = ((f >>> 6) | (f << 26)) ^ ((f >>> 11) | (f << 21)) ^ ((f >>> 25) | (f << 7));\n      bc = b & c;\n      maj = bc ^ (b & d) ^ cd;\n      ch = (f & g) ^ (~f & h);\n      t1 = e + s1 + ch + K[j + 3] + blocks[j + 3];\n      t2 = s0 + maj;\n      e = a + t1 << 0;\n      a = t1 + t2 << 0;\n    }\n\n    this.h0 = this.h0 + a << 0;\n    this.h1 = this.h1 + b << 0;\n    this.h2 = this.h2 + c << 0;\n    this.h3 = this.h3 + d << 0;\n    this.h4 = this.h4 + e << 0;\n    this.h5 = this.h5 + f << 0;\n    this.h6 = this.h6 + g << 0;\n    this.h7 = this.h7 + h << 0;\n  };\n\n  Sha256.prototype.hex = function () {\n    this.finalize();\n\n    var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4, h5 = this.h5,\n      h6 = this.h6, h7 = this.h7;\n\n    var hex = HEX_CHARS[(h0 >> 28) & 0x0F] + HEX_CHARS[(h0 >> 24) & 0x0F] +\n      HEX_CHARS[(h0 >> 20) & 0x0F] + HEX_CHARS[(h0 >> 16) & 0x0F] +\n      HEX_CHARS[(h0 >> 12) & 0x0F] + HEX_CHARS[(h0 >> 8) & 0x0F] +\n      HEX_CHARS[(h0 >> 4) & 0x0F] + HEX_CHARS[h0 & 0x0F] +\n      HEX_CHARS[(h1 >> 28) & 0x0F] + HEX_CHARS[(h1 >> 24) & 0x0F] +\n      HEX_CHARS[(h1 >> 20) & 0x0F] + HEX_CHARS[(h1 >> 16) & 0x0F] +\n      HEX_CHARS[(h1 >> 12) & 0x0F] + HEX_CHARS[(h1 >> 8) & 0x0F] +\n      HEX_CHARS[(h1 >> 4) & 0x0F] + HEX_CHARS[h1 & 0x0F] +\n      HEX_CHARS[(h2 >> 28) & 0x0F] + HEX_CHARS[(h2 >> 24) & 0x0F] +\n      HEX_CHARS[(h2 >> 20) & 0x0F] + HEX_CHARS[(h2 >> 16) & 0x0F] +\n      HEX_CHARS[(h2 >> 12) & 0x0F] + HEX_CHARS[(h2 >> 8) & 0x0F] +\n      HEX_CHARS[(h2 >> 4) & 0x0F] + HEX_CHARS[h2 & 0x0F] +\n      HEX_CHARS[(h3 >> 28) & 0x0F] + HEX_CHARS[(h3 >> 24) & 0x0F] +\n      HEX_CHARS[(h3 >> 20) & 0x0F] + HEX_CHARS[(h3 >> 16) & 0x0F] +\n      HEX_CHARS[(h3 >> 12) & 0x0F] + HEX_CHARS[(h3 >> 8) & 0x0F] +\n      HEX_CHARS[(h3 >> 4) & 0x0F] + HEX_CHARS[h3 & 0x0F] +\n      HEX_CHARS[(h4 >> 28) & 0x0F] + HEX_CHARS[(h4 >> 24) & 0x0F] +\n      HEX_CHARS[(h4 >> 20) & 0x0F] + HEX_CHARS[(h4 >> 16) & 0x0F] +\n      HEX_CHARS[(h4 >> 12) & 0x0F] + HEX_CHARS[(h4 >> 8) & 0x0F] +\n      HEX_CHARS[(h4 >> 4) & 0x0F] + HEX_CHARS[h4 & 0x0F] +\n      HEX_CHARS[(h5 >> 28) & 0x0F] + HEX_CHARS[(h5 >> 24) & 0x0F] +\n      HEX_CHARS[(h5 >> 20) & 0x0F] + HEX_CHARS[(h5 >> 16) & 0x0F] +\n      HEX_CHARS[(h5 >> 12) & 0x0F] + HEX_CHARS[(h5 >> 8) & 0x0F] +\n      HEX_CHARS[(h5 >> 4) & 0x0F] + HEX_CHARS[h5 & 0x0F] +\n      HEX_CHARS[(h6 >> 28) & 0x0F] + HEX_CHARS[(h6 >> 24) & 0x0F] +\n      HEX_CHARS[(h6 >> 20) & 0x0F] + HEX_CHARS[(h6 >> 16) & 0x0F] +\n      HEX_CHARS[(h6 >> 12) & 0x0F] + HEX_CHARS[(h6 >> 8) & 0x0F] +\n      HEX_CHARS[(h6 >> 4) & 0x0F] + HEX_CHARS[h6 & 0x0F];\n    if (!this.is224) {\n      hex += HEX_CHARS[(h7 >> 28) & 0x0F] + HEX_CHARS[(h7 >> 24) & 0x0F] +\n        HEX_CHARS[(h7 >> 20) & 0x0F] + HEX_CHARS[(h7 >> 16) & 0x0F] +\n        HEX_CHARS[(h7 >> 12) & 0x0F] + HEX_CHARS[(h7 >> 8) & 0x0F] +\n        HEX_CHARS[(h7 >> 4) & 0x0F] + HEX_CHARS[h7 & 0x0F];\n    }\n    return hex;\n  };\n\n  Sha256.prototype.toString = Sha256.prototype.hex;\n\n  Sha256.prototype.digest = function () {\n    this.finalize();\n\n    var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4, h5 = this.h5,\n      h6 = this.h6, h7 = this.h7;\n\n    var arr = [\n      (h0 >> 24) & 0xFF, (h0 >> 16) & 0xFF, (h0 >> 8) & 0xFF, h0 & 0xFF,\n      (h1 >> 24) & 0xFF, (h1 >> 16) & 0xFF, (h1 >> 8) & 0xFF, h1 & 0xFF,\n      (h2 >> 24) & 0xFF, (h2 >> 16) & 0xFF, (h2 >> 8) & 0xFF, h2 & 0xFF,\n      (h3 >> 24) & 0xFF, (h3 >> 16) & 0xFF, (h3 >> 8) & 0xFF, h3 & 0xFF,\n      (h4 >> 24) & 0xFF, (h4 >> 16) & 0xFF, (h4 >> 8) & 0xFF, h4 & 0xFF,\n      (h5 >> 24) & 0xFF, (h5 >> 16) & 0xFF, (h5 >> 8) & 0xFF, h5 & 0xFF,\n      (h6 >> 24) & 0xFF, (h6 >> 16) & 0xFF, (h6 >> 8) & 0xFF, h6 & 0xFF\n    ];\n    if (!this.is224) {\n      arr.push((h7 >> 24) & 0xFF, (h7 >> 16) & 0xFF, (h7 >> 8) & 0xFF, h7 & 0xFF);\n    }\n    return arr;\n  };\n\n  Sha256.prototype.array = Sha256.prototype.digest;\n\n  Sha256.prototype.arrayBuffer = function () {\n    this.finalize();\n\n    var buffer = new ArrayBuffer(this.is224 ? 28 : 32);\n    var dataView = new DataView(buffer);\n    dataView.setUint32(0, this.h0);\n    dataView.setUint32(4, this.h1);\n    dataView.setUint32(8, this.h2);\n    dataView.setUint32(12, this.h3);\n    dataView.setUint32(16, this.h4);\n    dataView.setUint32(20, this.h5);\n    dataView.setUint32(24, this.h6);\n    if (!this.is224) {\n      dataView.setUint32(28, this.h7);\n    }\n    return buffer;\n  };\n\n  function HmacSha256(key, is224, sharedMemory) {\n    var i, type = typeof key;\n    if (type === 'string') {\n      var bytes = [], length = key.length, index = 0, code;\n      for (i = 0; i < length; ++i) {\n        code = key.charCodeAt(i);\n        if (code < 0x80) {\n          bytes[index++] = code;\n        } else if (code < 0x800) {\n          bytes[index++] = (0xc0 | (code >> 6));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        } else if (code < 0xd800 || code >= 0xe000) {\n          bytes[index++] = (0xe0 | (code >> 12));\n          bytes[index++] = (0x80 | ((code >> 6) & 0x3f));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        } else {\n          code = 0x10000 + (((code & 0x3ff) << 10) | (key.charCodeAt(++i) & 0x3ff));\n          bytes[index++] = (0xf0 | (code >> 18));\n          bytes[index++] = (0x80 | ((code >> 12) & 0x3f));\n          bytes[index++] = (0x80 | ((code >> 6) & 0x3f));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        }\n      }\n      key = bytes;\n    } else {\n      if (type === 'object') {\n        if (key === null) {\n          throw new Error(ERROR);\n        } else if (ARRAY_BUFFER && key.constructor === ArrayBuffer) {\n          key = new Uint8Array(key);\n        } else if (!Array.isArray(key)) {\n          if (!ARRAY_BUFFER || !ArrayBuffer.isView(key)) {\n            throw new Error(ERROR);\n          }\n        }\n      } else {\n        throw new Error(ERROR);\n      }\n    }\n\n    if (key.length > 64) {\n      key = (new Sha256(is224, true)).update(key).array();\n    }\n\n    var oKeyPad = [], iKeyPad = [];\n    for (i = 0; i < 64; ++i) {\n      var b = key[i] || 0;\n      oKeyPad[i] = 0x5c ^ b;\n      iKeyPad[i] = 0x36 ^ b;\n    }\n\n    Sha256.call(this, is224, sharedMemory);\n\n    this.update(iKeyPad);\n    this.oKeyPad = oKeyPad;\n    this.inner = true;\n    this.sharedMemory = sharedMemory;\n  }\n  HmacSha256.prototype = new Sha256();\n\n  HmacSha256.prototype.finalize = function () {\n    Sha256.prototype.finalize.call(this);\n    if (this.inner) {\n      this.inner = false;\n      var innerHash = this.array();\n      Sha256.call(this, this.is224, this.sharedMemory);\n      this.update(this.oKeyPad);\n      this.update(innerHash);\n      Sha256.prototype.finalize.call(this);\n    }\n  };\n\n  var exports = createMethod();\n  exports.sha256 = exports;\n  exports.sha224 = createMethod(true);\n  exports.sha256.hmac = createHmacMethod();\n  exports.sha224.hmac = createHmacMethod(true);\n\n  if (COMMON_JS) {\n    module.exports = exports;\n  } else {\n    root.sha256 = exports.sha256;\n    root.sha224 = exports.sha224;\n    if (AMD) {\n      !(__WEBPACK_AMD_DEFINE_RESULT__ = function () {\n        return exports;\n      }.call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    }\n  }\n})();\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(68), __webpack_require__(45)))\n\n/***/ }),\n\n/***/ 367:\n/***/ (function(module, exports, __webpack_require__) {\n\n// json5.js\n// Modern JSON. See README.md for details.\n//\n// This file is based directly off of Douglas Crockford's json_parse.js:\n// https://github.com/douglascrockford/JSON-js/blob/master/json_parse.js\n\nvar JSON5 = ( true ? exports : {});\n\nJSON5.parse = (function () {\n    \"use strict\";\n\n// This is a function that can parse a JSON5 text, producing a JavaScript\n// data structure. It is a simple, recursive descent parser. It does not use\n// eval or regular expressions, so it can be used as a model for implementing\n// a JSON5 parser in other languages.\n\n// We are defining the function inside of another function to avoid creating\n// global variables.\n\n    var at,           // The index of the current character\n        lineNumber,   // The current line number\n        columnNumber, // The current column number\n        ch,           // The current character\n        escapee = {\n            \"'\":  \"'\",\n            '\"':  '\"',\n            '\\\\': '\\\\',\n            '/':  '/',\n            '\\n': '',       // Replace escaped newlines in strings w/ empty string\n            b:    '\\b',\n            f:    '\\f',\n            n:    '\\n',\n            r:    '\\r',\n            t:    '\\t'\n        },\n        ws = [\n            ' ',\n            '\\t',\n            '\\r',\n            '\\n',\n            '\\v',\n            '\\f',\n            '\\xA0',\n            '\\uFEFF'\n        ],\n        text,\n\n        renderChar = function (chr) {\n            return chr === '' ? 'EOF' : \"'\" + chr + \"'\";\n        },\n\n        error = function (m) {\n\n// Call error when something is wrong.\n\n            var error = new SyntaxError();\n            // beginning of message suffix to agree with that provided by Gecko - see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse\n            error.message = m + \" at line \" + lineNumber + \" column \" + columnNumber + \" of the JSON5 data. Still to read: \" + JSON.stringify(text.substring(at - 1, at + 19));\n            error.at = at;\n            // These two property names have been chosen to agree with the ones in Gecko, the only popular\n            // environment which seems to supply this info on JSON.parse\n            error.lineNumber = lineNumber;\n            error.columnNumber = columnNumber;\n            throw error;\n        },\n\n        next = function (c) {\n\n// If a c parameter is provided, verify that it matches the current character.\n\n            if (c && c !== ch) {\n                error(\"Expected \" + renderChar(c) + \" instead of \" + renderChar(ch));\n            }\n\n// Get the next character. When there are no more characters,\n// return the empty string.\n\n            ch = text.charAt(at);\n            at++;\n            columnNumber++;\n            if (ch === '\\n' || ch === '\\r' && peek() !== '\\n') {\n                lineNumber++;\n                columnNumber = 0;\n            }\n            return ch;\n        },\n\n        peek = function () {\n\n// Get the next character without consuming it or\n// assigning it to the ch varaible.\n\n            return text.charAt(at);\n        },\n\n        identifier = function () {\n\n// Parse an identifier. Normally, reserved words are disallowed here, but we\n// only use this for unquoted object keys, where reserved words are allowed,\n// so we don't check for those here. References:\n// - http://es5.github.com/#x7.6\n// - https://developer.mozilla.org/en/Core_JavaScript_1.5_Guide/Core_Language_Features#Variables\n// - http://docstore.mik.ua/orelly/webprog/jscript/ch02_07.htm\n// TODO Identifiers can have Unicode \"letters\" in them; add support for those.\n\n            var key = ch;\n\n            // Identifiers must start with a letter, _ or $.\n            if ((ch !== '_' && ch !== '$') &&\n                    (ch < 'a' || ch > 'z') &&\n                    (ch < 'A' || ch > 'Z')) {\n                error(\"Bad identifier as unquoted key\");\n            }\n\n            // Subsequent characters can contain digits.\n            while (next() && (\n                    ch === '_' || ch === '$' ||\n                    (ch >= 'a' && ch <= 'z') ||\n                    (ch >= 'A' && ch <= 'Z') ||\n                    (ch >= '0' && ch <= '9'))) {\n                key += ch;\n            }\n\n            return key;\n        },\n\n        number = function () {\n\n// Parse a number value.\n\n            var number,\n                sign = '',\n                string = '',\n                base = 10;\n\n            if (ch === '-' || ch === '+') {\n                sign = ch;\n                next(ch);\n            }\n\n            // support for Infinity (could tweak to allow other words):\n            if (ch === 'I') {\n                number = word();\n                if (typeof number !== 'number' || isNaN(number)) {\n                    error('Unexpected word for number');\n                }\n                return (sign === '-') ? -number : number;\n            }\n\n            // support for NaN\n            if (ch === 'N' ) {\n              number = word();\n              if (!isNaN(number)) {\n                error('expected word to be NaN');\n              }\n              // ignore sign as -NaN also is NaN\n              return number;\n            }\n\n            if (ch === '0') {\n                string += ch;\n                next();\n                if (ch === 'x' || ch === 'X') {\n                    string += ch;\n                    next();\n                    base = 16;\n                } else if (ch >= '0' && ch <= '9') {\n                    error('Octal literal');\n                }\n            }\n\n            switch (base) {\n            case 10:\n                while (ch >= '0' && ch <= '9' ) {\n                    string += ch;\n                    next();\n                }\n                if (ch === '.') {\n                    string += '.';\n                    while (next() && ch >= '0' && ch <= '9') {\n                        string += ch;\n                    }\n                }\n                if (ch === 'e' || ch === 'E') {\n                    string += ch;\n                    next();\n                    if (ch === '-' || ch === '+') {\n                        string += ch;\n                        next();\n                    }\n                    while (ch >= '0' && ch <= '9') {\n                        string += ch;\n                        next();\n                    }\n                }\n                break;\n            case 16:\n                while (ch >= '0' && ch <= '9' || ch >= 'A' && ch <= 'F' || ch >= 'a' && ch <= 'f') {\n                    string += ch;\n                    next();\n                }\n                break;\n            }\n\n            if(sign === '-') {\n                number = -string;\n            } else {\n                number = +string;\n            }\n\n            if (!isFinite(number)) {\n                error(\"Bad number\");\n            } else {\n                return number;\n            }\n        },\n\n        string = function () {\n\n// Parse a string value.\n\n            var hex,\n                i,\n                string = '',\n                delim,      // double quote or single quote\n                uffff;\n\n// When parsing for string values, we must look for ' or \" and \\ characters.\n\n            if (ch === '\"' || ch === \"'\") {\n                delim = ch;\n                while (next()) {\n                    if (ch === delim) {\n                        next();\n                        return string;\n                    } else if (ch === '\\\\') {\n                        next();\n                        if (ch === 'u') {\n                            uffff = 0;\n                            for (i = 0; i < 4; i += 1) {\n                                hex = parseInt(next(), 16);\n                                if (!isFinite(hex)) {\n                                    break;\n                                }\n                                uffff = uffff * 16 + hex;\n                            }\n                            string += String.fromCharCode(uffff);\n                        } else if (ch === '\\r') {\n                            if (peek() === '\\n') {\n                                next();\n                            }\n                        } else if (typeof escapee[ch] === 'string') {\n                            string += escapee[ch];\n                        } else {\n                            break;\n                        }\n                    } else if (ch === '\\n') {\n                        // unescaped newlines are invalid; see:\n                        // https://github.com/aseemk/json5/issues/24\n                        // TODO this feels special-cased; are there other\n                        // invalid unescaped chars?\n                        break;\n                    } else {\n                        string += ch;\n                    }\n                }\n            }\n            error(\"Bad string\");\n        },\n\n        inlineComment = function () {\n\n// Skip an inline comment, assuming this is one. The current character should\n// be the second / character in the // pair that begins this inline comment.\n// To finish the inline comment, we look for a newline or the end of the text.\n\n            if (ch !== '/') {\n                error(\"Not an inline comment\");\n            }\n\n            do {\n                next();\n                if (ch === '\\n' || ch === '\\r') {\n                    next();\n                    return;\n                }\n            } while (ch);\n        },\n\n        blockComment = function () {\n\n// Skip a block comment, assuming this is one. The current character should be\n// the * character in the /* pair that begins this block comment.\n// To finish the block comment, we look for an ending */ pair of characters,\n// but we also watch for the end of text before the comment is terminated.\n\n            if (ch !== '*') {\n                error(\"Not a block comment\");\n            }\n\n            do {\n                next();\n                while (ch === '*') {\n                    next('*');\n                    if (ch === '/') {\n                        next('/');\n                        return;\n                    }\n                }\n            } while (ch);\n\n            error(\"Unterminated block comment\");\n        },\n\n        comment = function () {\n\n// Skip a comment, whether inline or block-level, assuming this is one.\n// Comments always begin with a / character.\n\n            if (ch !== '/') {\n                error(\"Not a comment\");\n            }\n\n            next('/');\n\n            if (ch === '/') {\n                inlineComment();\n            } else if (ch === '*') {\n                blockComment();\n            } else {\n                error(\"Unrecognized comment\");\n            }\n        },\n\n        white = function () {\n\n// Skip whitespace and comments.\n// Note that we're detecting comments by only a single / character.\n// This works since regular expressions are not valid JSON(5), but this will\n// break if there are other valid values that begin with a / character!\n\n            while (ch) {\n                if (ch === '/') {\n                    comment();\n                } else if (ws.indexOf(ch) >= 0) {\n                    next();\n                } else {\n                    return;\n                }\n            }\n        },\n\n        word = function () {\n\n// true, false, or null.\n\n            switch (ch) {\n            case 't':\n                next('t');\n                next('r');\n                next('u');\n                next('e');\n                return true;\n            case 'f':\n                next('f');\n                next('a');\n                next('l');\n                next('s');\n                next('e');\n                return false;\n            case 'n':\n                next('n');\n                next('u');\n                next('l');\n                next('l');\n                return null;\n            case 'I':\n                next('I');\n                next('n');\n                next('f');\n                next('i');\n                next('n');\n                next('i');\n                next('t');\n                next('y');\n                return Infinity;\n            case 'N':\n              next( 'N' );\n              next( 'a' );\n              next( 'N' );\n              return NaN;\n            }\n            error(\"Unexpected \" + renderChar(ch));\n        },\n\n        value,  // Place holder for the value function.\n\n        array = function () {\n\n// Parse an array value.\n\n            var array = [];\n\n            if (ch === '[') {\n                next('[');\n                white();\n                while (ch) {\n                    if (ch === ']') {\n                        next(']');\n                        return array;   // Potentially empty array\n                    }\n                    // ES5 allows omitting elements in arrays, e.g. [,] and\n                    // [,null]. We don't allow this in JSON5.\n                    if (ch === ',') {\n                        error(\"Missing array element\");\n                    } else {\n                        array.push(value());\n                    }\n                    white();\n                    // If there's no comma after this value, this needs to\n                    // be the end of the array.\n                    if (ch !== ',') {\n                        next(']');\n                        return array;\n                    }\n                    next(',');\n                    white();\n                }\n            }\n            error(\"Bad array\");\n        },\n\n        object = function () {\n\n// Parse an object value.\n\n            var key,\n                object = {};\n\n            if (ch === '{') {\n                next('{');\n                white();\n                while (ch) {\n                    if (ch === '}') {\n                        next('}');\n                        return object;   // Potentially empty object\n                    }\n\n                    // Keys can be unquoted. If they are, they need to be\n                    // valid JS identifiers.\n                    if (ch === '\"' || ch === \"'\") {\n                        key = string();\n                    } else {\n                        key = identifier();\n                    }\n\n                    white();\n                    next(':');\n                    object[key] = value();\n                    white();\n                    // If there's no comma after this pair, this needs to be\n                    // the end of the object.\n                    if (ch !== ',') {\n                        next('}');\n                        return object;\n                    }\n                    next(',');\n                    white();\n                }\n            }\n            error(\"Bad object\");\n        };\n\n    value = function () {\n\n// Parse a JSON value. It could be an object, an array, a string, a number,\n// or a word.\n\n        white();\n        switch (ch) {\n        case '{':\n            return object();\n        case '[':\n            return array();\n        case '\"':\n        case \"'\":\n            return string();\n        case '-':\n        case '+':\n        case '.':\n            return number();\n        default:\n            return ch >= '0' && ch <= '9' ? number() : word();\n        }\n    };\n\n// Return the json_parse function. It will have access to all of the above\n// functions and variables.\n\n    return function (source, reviver) {\n        var result;\n\n        text = String(source);\n        at = 0;\n        lineNumber = 1;\n        columnNumber = 1;\n        ch = ' ';\n        result = value();\n        white();\n        if (ch) {\n            error(\"Syntax error\");\n        }\n\n// If there is a reviver function, we recursively walk the new structure,\n// passing each name/value pair to the reviver function for possible\n// transformation, starting with a temporary root object that holds the result\n// in an empty key. If there is not a reviver function, we simply return the\n// result.\n\n        return typeof reviver === 'function' ? (function walk(holder, key) {\n            var k, v, value = holder[key];\n            if (value && typeof value === 'object') {\n                for (k in value) {\n                    if (Object.prototype.hasOwnProperty.call(value, k)) {\n                        v = walk(value, k);\n                        if (v !== undefined) {\n                            value[k] = v;\n                        } else {\n                            delete value[k];\n                        }\n                    }\n                }\n            }\n            return reviver.call(holder, key, value);\n        }({'': result}, '')) : result;\n    };\n}());\n\n// JSON5 stringify will not quote keys where appropriate\nJSON5.stringify = function (obj, replacer, space) {\n    if (replacer && (typeof(replacer) !== \"function\" && !isArray(replacer))) {\n        throw new Error('Replacer must be a function or an array');\n    }\n    var getReplacedValueOrUndefined = function(holder, key, isTopLevel) {\n        var value = holder[key];\n\n        // Replace the value with its toJSON value first, if possible\n        if (value && value.toJSON && typeof value.toJSON === \"function\") {\n            value = value.toJSON();\n        }\n\n        // If the user-supplied replacer if a function, call it. If it's an array, check objects' string keys for\n        // presence in the array (removing the key/value pair from the resulting JSON if the key is missing).\n        if (typeof(replacer) === \"function\") {\n            return replacer.call(holder, key, value);\n        } else if(replacer) {\n            if (isTopLevel || isArray(holder) || replacer.indexOf(key) >= 0) {\n                return value;\n            } else {\n                return undefined;\n            }\n        } else {\n            return value;\n        }\n    };\n\n    function isWordChar(c) {\n        return (c >= 'a' && c <= 'z') ||\n            (c >= 'A' && c <= 'Z') ||\n            (c >= '0' && c <= '9') ||\n            c === '_' || c === '$';\n    }\n\n    function isWordStart(c) {\n        return (c >= 'a' && c <= 'z') ||\n            (c >= 'A' && c <= 'Z') ||\n            c === '_' || c === '$';\n    }\n\n    function isWord(key) {\n        if (typeof key !== 'string') {\n            return false;\n        }\n        if (!isWordStart(key[0])) {\n            return false;\n        }\n        var i = 1, length = key.length;\n        while (i < length) {\n            if (!isWordChar(key[i])) {\n                return false;\n            }\n            i++;\n        }\n        return true;\n    }\n\n    // export for use in tests\n    JSON5.isWord = isWord;\n\n    // polyfills\n    function isArray(obj) {\n        if (Array.isArray) {\n            return Array.isArray(obj);\n        } else {\n            return Object.prototype.toString.call(obj) === '[object Array]';\n        }\n    }\n\n    function isDate(obj) {\n        return Object.prototype.toString.call(obj) === '[object Date]';\n    }\n\n    var objStack = [];\n    function checkForCircular(obj) {\n        for (var i = 0; i < objStack.length; i++) {\n            if (objStack[i] === obj) {\n                throw new TypeError(\"Converting circular structure to JSON\");\n            }\n        }\n    }\n\n    function makeIndent(str, num, noNewLine) {\n        if (!str) {\n            return \"\";\n        }\n        // indentation no more than 10 chars\n        if (str.length > 10) {\n            str = str.substring(0, 10);\n        }\n\n        var indent = noNewLine ? \"\" : \"\\n\";\n        for (var i = 0; i < num; i++) {\n            indent += str;\n        }\n\n        return indent;\n    }\n\n    var indentStr;\n    if (space) {\n        if (typeof space === \"string\") {\n            indentStr = space;\n        } else if (typeof space === \"number\" && space >= 0) {\n            indentStr = makeIndent(\" \", space, true);\n        } else {\n            // ignore space parameter\n        }\n    }\n\n    // Copied from Crokford's implementation of JSON\n    // See https://github.com/douglascrockford/JSON-js/blob/e39db4b7e6249f04a195e7dd0840e610cc9e941e/json2.js#L195\n    // Begin\n    var cx = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n        escapable = /[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n        meta = { // table of character substitutions\n        '\\b': '\\\\b',\n        '\\t': '\\\\t',\n        '\\n': '\\\\n',\n        '\\f': '\\\\f',\n        '\\r': '\\\\r',\n        '\"' : '\\\\\"',\n        '\\\\': '\\\\\\\\'\n    };\n    function escapeString(string) {\n\n// If the string contains no control characters, no quote characters, and no\n// backslash characters, then we can safely slap some quotes around it.\n// Otherwise we must also replace the offending characters with safe escape\n// sequences.\n        escapable.lastIndex = 0;\n        return escapable.test(string) ? '\"' + string.replace(escapable, function (a) {\n            var c = meta[a];\n            return typeof c === 'string' ?\n                c :\n                '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n        }) + '\"' : '\"' + string + '\"';\n    }\n    // End\n\n    function internalStringify(holder, key, isTopLevel) {\n        var buffer, res;\n\n        // Replace the value, if necessary\n        var obj_part = getReplacedValueOrUndefined(holder, key, isTopLevel);\n\n        if (obj_part && !isDate(obj_part)) {\n            // unbox objects\n            // don't unbox dates, since will turn it into number\n            obj_part = obj_part.valueOf();\n        }\n        switch(typeof obj_part) {\n            case \"boolean\":\n                return obj_part.toString();\n\n            case \"number\":\n                if (isNaN(obj_part) || !isFinite(obj_part)) {\n                    return \"null\";\n                }\n                return obj_part.toString();\n\n            case \"string\":\n                return escapeString(obj_part.toString());\n\n            case \"object\":\n                if (obj_part === null) {\n                    return \"null\";\n                } else if (isArray(obj_part)) {\n                    checkForCircular(obj_part);\n                    buffer = \"[\";\n                    objStack.push(obj_part);\n\n                    for (var i = 0; i < obj_part.length; i++) {\n                        res = internalStringify(obj_part, i, false);\n                        buffer += makeIndent(indentStr, objStack.length);\n                        if (res === null || typeof res === \"undefined\") {\n                            buffer += \"null\";\n                        } else {\n                            buffer += res;\n                        }\n                        if (i < obj_part.length-1) {\n                            buffer += \",\";\n                        } else if (indentStr) {\n                            buffer += \"\\n\";\n                        }\n                    }\n                    objStack.pop();\n                    if (obj_part.length) {\n                        buffer += makeIndent(indentStr, objStack.length, true)\n                    }\n                    buffer += \"]\";\n                } else {\n                    checkForCircular(obj_part);\n                    buffer = \"{\";\n                    var nonEmpty = false;\n                    objStack.push(obj_part);\n                    for (var prop in obj_part) {\n                        if (obj_part.hasOwnProperty(prop)) {\n                            var value = internalStringify(obj_part, prop, false);\n                            isTopLevel = false;\n                            if (typeof value !== \"undefined\" && value !== null) {\n                                buffer += makeIndent(indentStr, objStack.length);\n                                nonEmpty = true;\n                                key = isWord(prop) ? prop : escapeString(prop);\n                                buffer += key + \":\" + (indentStr ? ' ' : '') + value + \",\";\n                            }\n                        }\n                    }\n                    objStack.pop();\n                    if (nonEmpty) {\n                        buffer = buffer.substring(0, buffer.length-1) + makeIndent(indentStr, objStack.length) + \"}\";\n                    } else {\n                        buffer = '{}';\n                    }\n                }\n                return buffer;\n            default:\n                // functions and undefined should be ignored\n                return undefined;\n        }\n    }\n\n    // special case...when undefined is used inside of\n    // a compound object/array, return null.\n    // but when top-level, return undefined\n    var topLevelHolder = {\"\":obj};\n    if (obj === undefined) {\n        return getReplacedValueOrUndefined(topLevelHolder, '', true);\n    }\n    return internalStringify(topLevelHolder, '', true);\n};\n\n\n/***/ }),\n\n/***/ 368:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Keycloak; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_base64_js__ = __webpack_require__(331);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_base64_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_base64_js__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_js_sha256__ = __webpack_require__(366);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_js_sha256___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_js_sha256__);\n\n\n\n/*\n * Copyright 2016 Red Hat, Inc. and/or its affiliates\n * and other contributors as indicated by the @author tags.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nif (typeof Promise === 'undefined') {\n    throw Error('Keycloak requires an environment that supports Promises. Make sure that you include the appropriate polyfill.');\n}\n\nvar loggedPromiseDeprecation = false;\n\nfunction logPromiseDeprecation() {\n    if (!loggedPromiseDeprecation) {\n        loggedPromiseDeprecation = true;\n        console.warn('[KEYCLOAK] Usage of legacy style promise methods such as `.error()` and `.success()` has been deprecated and support will be removed in future versions. Use standard style promise methods such as `.then() and `.catch()` instead.');\n    }\n}\n\nfunction Keycloak (config) {\n    if (!(this instanceof Keycloak)) {\n        return new Keycloak(config);\n    }\n\n    var kc = this;\n    var adapter;\n    var refreshQueue = [];\n    var callbackStorage;\n\n    var loginIframe = {\n        enable: true,\n        callbackList: [],\n        interval: 5\n    };\n\n    var scripts = document.getElementsByTagName('script');\n    for (var i = 0; i < scripts.length; i++) {\n        if ((scripts[i].src.indexOf('keycloak.js') !== -1 || scripts[i].src.indexOf('keycloak.min.js') !== -1) && scripts[i].src.indexOf('version=') !== -1) {\n            kc.iframeVersion = scripts[i].src.substring(scripts[i].src.indexOf('version=') + 8).split('&')[0];\n        }\n    }\n\n    var useNonce = true;\n    var logInfo = createLogger(console.info);\n    var logWarn = createLogger(console.warn);\n\n    kc.init = function (initOptions) {\n        kc.authenticated = false;\n\n        callbackStorage = createCallbackStorage();\n        var adapters = ['default', 'cordova', 'cordova-native'];\n\n        if (initOptions && adapters.indexOf(initOptions.adapter) > -1) {\n            adapter = loadAdapter(initOptions.adapter);\n        } else if (initOptions && typeof initOptions.adapter === \"object\") {\n            adapter = initOptions.adapter;\n        } else {\n            if (window.Cordova || window.cordova) {\n                adapter = loadAdapter('cordova');\n            } else {\n                adapter = loadAdapter();\n            }\n        }\n\n        if (initOptions) {\n            if (typeof initOptions.useNonce !== 'undefined') {\n                useNonce = initOptions.useNonce;\n            }\n\n            if (typeof initOptions.checkLoginIframe !== 'undefined') {\n                loginIframe.enable = initOptions.checkLoginIframe;\n            }\n\n            if (initOptions.checkLoginIframeInterval) {\n                loginIframe.interval = initOptions.checkLoginIframeInterval;\n            }\n\n            if (initOptions.onLoad === 'login-required') {\n                kc.loginRequired = true;\n            }\n\n            if (initOptions.responseMode) {\n                if (initOptions.responseMode === 'query' || initOptions.responseMode === 'fragment') {\n                    kc.responseMode = initOptions.responseMode;\n                } else {\n                    throw 'Invalid value for responseMode';\n                }\n            }\n\n            if (initOptions.flow) {\n                switch (initOptions.flow) {\n                    case 'standard':\n                        kc.responseType = 'code';\n                        break;\n                    case 'implicit':\n                        kc.responseType = 'id_token token';\n                        break;\n                    case 'hybrid':\n                        kc.responseType = 'code id_token token';\n                        break;\n                    default:\n                        throw 'Invalid value for flow';\n                }\n                kc.flow = initOptions.flow;\n            }\n\n            if (initOptions.timeSkew != null) {\n                kc.timeSkew = initOptions.timeSkew;\n            }\n\n            if(initOptions.redirectUri) {\n                kc.redirectUri = initOptions.redirectUri;\n            }\n\n            if (initOptions.silentCheckSsoRedirectUri) {\n                kc.silentCheckSsoRedirectUri = initOptions.silentCheckSsoRedirectUri;\n            }\n\n            if (typeof initOptions.silentCheckSsoFallback === 'boolean') {\n                kc.silentCheckSsoFallback = initOptions.silentCheckSsoFallback;\n            } else {\n                kc.silentCheckSsoFallback = true;\n            }\n\n            if (initOptions.pkceMethod) {\n                if (initOptions.pkceMethod !== \"S256\") {\n                    throw 'Invalid value for pkceMethod';\n                }\n                kc.pkceMethod = initOptions.pkceMethod;\n            }\n\n            if (typeof initOptions.enableLogging === 'boolean') {\n                kc.enableLogging = initOptions.enableLogging;\n            } else {\n                kc.enableLogging = false;\n            }\n\n            if (typeof initOptions.scope === 'string') {\n                kc.scope = initOptions.scope;\n            }\n\n            if (typeof initOptions.messageReceiveTimeout === 'number' && initOptions.messageReceiveTimeout > 0) {\n                kc.messageReceiveTimeout = initOptions.messageReceiveTimeout;\n            } else {\n                kc.messageReceiveTimeout = 10000;\n            }\n        }\n\n        if (!kc.responseMode) {\n            kc.responseMode = 'fragment';\n        }\n        if (!kc.responseType) {\n            kc.responseType = 'code';\n            kc.flow = 'standard';\n        }\n\n        var promise = createPromise();\n\n        var initPromise = createPromise();\n        initPromise.promise.then(function() {\n            kc.onReady && kc.onReady(kc.authenticated);\n            promise.setSuccess(kc.authenticated);\n        }).catch(function(error) {\n            promise.setError(error);\n        });\n\n        var configPromise = loadConfig();\n\n        function onLoad() {\n            var doLogin = function(prompt) {\n                if (!prompt) {\n                    options.prompt = 'none';\n                }\n\n                kc.login(options).then(function () {\n                    initPromise.setSuccess();\n                }).catch(function (error) {\n                    initPromise.setError(error);\n                });\n            };\n\n            var checkSsoSilently = function() {\n                var ifrm = document.createElement(\"iframe\");\n                var src = kc.createLoginUrl({prompt: 'none', redirectUri: kc.silentCheckSsoRedirectUri});\n                ifrm.setAttribute(\"src\", src);\n                ifrm.setAttribute(\"title\", \"keycloak-silent-check-sso\");\n                ifrm.style.display = \"none\";\n                document.body.appendChild(ifrm);\n\n                var messageCallback = function(event) {\n                    if (event.origin !== window.location.origin || ifrm.contentWindow !== event.source) {\n                        return;\n                    }\n\n                    var oauth = parseCallback(event.data);\n                    processCallback(oauth, initPromise);\n\n                    document.body.removeChild(ifrm);\n                    window.removeEventListener(\"message\", messageCallback);\n                };\n\n                window.addEventListener(\"message\", messageCallback);\n            };\n\n            var options = {};\n            switch (initOptions.onLoad) {\n                case 'check-sso':\n                    if (loginIframe.enable) {\n                        setupCheckLoginIframe().then(function() {\n                            checkLoginIframe().then(function (unchanged) {\n                                if (!unchanged) {\n                                    kc.silentCheckSsoRedirectUri ? checkSsoSilently() : doLogin(false);\n                                } else {\n                                    initPromise.setSuccess();\n                                }\n                            }).catch(function (error) {\n                                initPromise.setError(error);\n                            });\n                        });\n                    } else {\n                        kc.silentCheckSsoRedirectUri ? checkSsoSilently() : doLogin(false);\n                    }\n                    break;\n                case 'login-required':\n                    doLogin(true);\n                    break;\n                default:\n                    throw 'Invalid value for onLoad';\n            }\n        }\n\n        function processInit() {\n            var callback = parseCallback(window.location.href);\n\n            if (callback) {\n                window.history.replaceState(window.history.state, null, callback.newUrl);\n            }\n\n            if (callback && callback.valid) {\n                return setupCheckLoginIframe().then(function() {\n                    processCallback(callback, initPromise);\n                }).catch(function (error) {\n                    initPromise.setError(error);\n                });\n            } else if (initOptions) {\n                if (initOptions.token && initOptions.refreshToken) {\n                    setToken(initOptions.token, initOptions.refreshToken, initOptions.idToken);\n\n                    if (loginIframe.enable) {\n                        setupCheckLoginIframe().then(function() {\n                            checkLoginIframe().then(function (unchanged) {\n                                if (unchanged) {\n                                    kc.onAuthSuccess && kc.onAuthSuccess();\n                                    initPromise.setSuccess();\n                                    scheduleCheckIframe();\n                                } else {\n                                    initPromise.setSuccess();\n                                }\n                            }).catch(function (error) {\n                                initPromise.setError(error);\n                            });\n                        });\n                    } else {\n                        kc.updateToken(-1).then(function() {\n                            kc.onAuthSuccess && kc.onAuthSuccess();\n                            initPromise.setSuccess();\n                        }).catch(function(error) {\n                            kc.onAuthError && kc.onAuthError();\n                            if (initOptions.onLoad) {\n                                onLoad();\n                            } else {\n                                initPromise.setError(error);\n                            }\n                        });\n                    }\n                } else if (initOptions.onLoad) {\n                    onLoad();\n                } else {\n                    initPromise.setSuccess();\n                }\n            } else {\n                initPromise.setSuccess();\n            }\n        }\n\n        function domReady() {\n            var promise = createPromise();\n\n            var checkReadyState = function () {\n                if (document.readyState === 'interactive' || document.readyState === 'complete') {\n                    document.removeEventListener('readystatechange', checkReadyState);\n                    promise.setSuccess();\n                }\n            };\n            document.addEventListener('readystatechange', checkReadyState);\n\n            checkReadyState(); // just in case the event was already fired and we missed it (in case the init is done later than at the load time, i.e. it's done from code)\n\n            return promise.promise;\n        }\n\n        configPromise.then(function () {\n            domReady()\n                .then(check3pCookiesSupported)\n                .then(processInit)\n                .catch(function (error) {\n                    promise.setError(error);\n                });\n        });\n        configPromise.catch(function (error) {\n            promise.setError(error);\n        });\n\n        return promise.promise;\n    };\n\n    kc.login = function (options) {\n        return adapter.login(options);\n    };\n\n    function generateRandomData(len) {\n        // use web crypto APIs if possible\n        var array = null;\n        var crypto = window.crypto || window.msCrypto;\n        if (crypto && crypto.getRandomValues && window.Uint8Array) {\n            array = new Uint8Array(len);\n            crypto.getRandomValues(array);\n            return array;\n        }\n\n        // fallback to Math random\n        array = new Array(len);\n        for (var j = 0; j < array.length; j++) {\n            array[j] = Math.floor(256 * Math.random());\n        }\n        return array;\n    }\n\n    function generateCodeVerifier(len) {\n        return generateRandomString(len, 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789');\n    }\n\n    function generateRandomString(len, alphabet){\n        var randomData = generateRandomData(len);\n        var chars = new Array(len);\n        for (var i = 0; i < len; i++) {\n            chars[i] = alphabet.charCodeAt(randomData[i] % alphabet.length);\n        }\n        return String.fromCharCode.apply(null, chars);\n    }\n\n    function generatePkceChallenge(pkceMethod, codeVerifier) {\n        switch (pkceMethod) {\n            // The use of the \"plain\" method is considered insecure and therefore not supported.\n            case \"S256\":\n                // hash codeVerifier, then encode as url-safe base64 without padding\n                var hashBytes = new Uint8Array(__WEBPACK_IMPORTED_MODULE_1_js_sha256___default.a.arrayBuffer(codeVerifier));\n                var encodedHash = __WEBPACK_IMPORTED_MODULE_0_base64_js___default.a.fromByteArray(hashBytes)\n                    .replace(/\\+/g, '-')\n                    .replace(/\\//g, '_')\n                    .replace(/\\=/g, '');\n                return encodedHash;\n            default:\n                throw 'Invalid value for pkceMethod';\n        }\n    }\n\n    function buildClaimsParameter(requestedAcr){\n        var claims = {\n            id_token: {\n                acr: requestedAcr\n            }\n        };\n        return JSON.stringify(claims);\n    }\n\n    kc.createLoginUrl = function(options) {\n        var state = createUUID();\n        var nonce = createUUID();\n\n        var redirectUri = adapter.redirectUri(options);\n\n        var callbackState = {\n            state: state,\n            nonce: nonce,\n            redirectUri: encodeURIComponent(redirectUri)\n        };\n\n        if (options && options.prompt) {\n            callbackState.prompt = options.prompt;\n        }\n\n        var baseUrl;\n        if (options && options.action == 'register') {\n            baseUrl = kc.endpoints.register();\n        } else {\n            baseUrl = kc.endpoints.authorize();\n        }\n\n        var scope = options && options.scope || kc.scope;\n        if (!scope) {\n            // if scope is not set, default to \"openid\"\n            scope = \"openid\";\n        } else if (scope.indexOf(\"openid\") === -1) {\n            // if openid scope is missing, prefix the given scopes with it\n            scope = \"openid \" + scope;\n        }\n\n        var url = baseUrl\n            + '?client_id=' + encodeURIComponent(kc.clientId)\n            + '&redirect_uri=' + encodeURIComponent(redirectUri)\n            + '&state=' + encodeURIComponent(state)\n            + '&response_mode=' + encodeURIComponent(kc.responseMode)\n            + '&response_type=' + encodeURIComponent(kc.responseType)\n            + '&scope=' + encodeURIComponent(scope);\n        if (useNonce) {\n            url = url + '&nonce=' + encodeURIComponent(nonce);\n        }\n\n        if (options && options.prompt) {\n            url += '&prompt=' + encodeURIComponent(options.prompt);\n        }\n\n        if (options && options.maxAge) {\n            url += '&max_age=' + encodeURIComponent(options.maxAge);\n        }\n\n        if (options && options.loginHint) {\n            url += '&login_hint=' + encodeURIComponent(options.loginHint);\n        }\n\n        if (options && options.idpHint) {\n            url += '&kc_idp_hint=' + encodeURIComponent(options.idpHint);\n        }\n\n        if (options && options.action && options.action != 'register') {\n            url += '&kc_action=' + encodeURIComponent(options.action);\n        }\n\n        if (options && options.locale) {\n            url += '&ui_locales=' + encodeURIComponent(options.locale);\n        }\n\n        if (options && options.acr) {\n            var claimsParameter = buildClaimsParameter(options.acr);\n            url += '&claims=' + encodeURIComponent(claimsParameter);\n        }\n\n        if (kc.pkceMethod) {\n            var codeVerifier = generateCodeVerifier(96);\n            callbackState.pkceCodeVerifier = codeVerifier;\n            var pkceChallenge = generatePkceChallenge(kc.pkceMethod, codeVerifier);\n            url += '&code_challenge=' + pkceChallenge;\n            url += '&code_challenge_method=' + kc.pkceMethod;\n        }\n\n        callbackStorage.add(callbackState);\n\n        return url;\n    };\n\n    kc.logout = function(options) {\n        return adapter.logout(options);\n    };\n\n    kc.createLogoutUrl = function(options) {\n        var url = kc.endpoints.logout()\n            + '?client_id=' + encodeURIComponent(kc.clientId)\n            + '&post_logout_redirect_uri=' + encodeURIComponent(adapter.redirectUri(options, false));\n\n        if (kc.idToken) {\n            url += '&id_token_hint=' + encodeURIComponent(kc.idToken);\n        }\n\n        return url;\n    };\n\n    kc.register = function (options) {\n        return adapter.register(options);\n    };\n\n    kc.createRegisterUrl = function(options) {\n        if (!options) {\n            options = {};\n        }\n        options.action = 'register';\n        return kc.createLoginUrl(options);\n    };\n\n    kc.createAccountUrl = function(options) {\n        var realm = getRealmUrl();\n        var url = undefined;\n        if (typeof realm !== 'undefined') {\n            url = realm\n            + '/account'\n            + '?referrer=' + encodeURIComponent(kc.clientId)\n            + '&referrer_uri=' + encodeURIComponent(adapter.redirectUri(options));\n        }\n        return url;\n    };\n\n    kc.accountManagement = function() {\n        return adapter.accountManagement();\n    };\n\n    kc.hasRealmRole = function (role) {\n        var access = kc.realmAccess;\n        return !!access && access.roles.indexOf(role) >= 0;\n    };\n\n    kc.hasResourceRole = function(role, resource) {\n        if (!kc.resourceAccess) {\n            return false;\n        }\n\n        var access = kc.resourceAccess[resource || kc.clientId];\n        return !!access && access.roles.indexOf(role) >= 0;\n    };\n\n    kc.loadUserProfile = function() {\n        var url = getRealmUrl() + '/account';\n        var req = new XMLHttpRequest();\n        req.open('GET', url, true);\n        req.setRequestHeader('Accept', 'application/json');\n        req.setRequestHeader('Authorization', 'bearer ' + kc.token);\n\n        var promise = createPromise();\n\n        req.onreadystatechange = function () {\n            if (req.readyState == 4) {\n                if (req.status == 200) {\n                    kc.profile = JSON.parse(req.responseText);\n                    promise.setSuccess(kc.profile);\n                } else {\n                    promise.setError();\n                }\n            }\n        };\n\n        req.send();\n\n        return promise.promise;\n    };\n\n    kc.loadUserInfo = function() {\n        var url = kc.endpoints.userinfo();\n        var req = new XMLHttpRequest();\n        req.open('GET', url, true);\n        req.setRequestHeader('Accept', 'application/json');\n        req.setRequestHeader('Authorization', 'bearer ' + kc.token);\n\n        var promise = createPromise();\n\n        req.onreadystatechange = function () {\n            if (req.readyState == 4) {\n                if (req.status == 200) {\n                    kc.userInfo = JSON.parse(req.responseText);\n                    promise.setSuccess(kc.userInfo);\n                } else {\n                    promise.setError();\n                }\n            }\n        };\n\n        req.send();\n\n        return promise.promise;\n    };\n\n    kc.isTokenExpired = function(minValidity) {\n        if (!kc.tokenParsed || (!kc.refreshToken && kc.flow != 'implicit' )) {\n            throw 'Not authenticated';\n        }\n\n        if (kc.timeSkew == null) {\n            logInfo('[KEYCLOAK] Unable to determine if token is expired as timeskew is not set');\n            return true;\n        }\n\n        var expiresIn = kc.tokenParsed['exp'] - Math.ceil(new Date().getTime() / 1000) + kc.timeSkew;\n        if (minValidity) {\n            if (isNaN(minValidity)) {\n                throw 'Invalid minValidity';\n            }\n            expiresIn -= minValidity;\n        }\n        return expiresIn < 0;\n    };\n\n    kc.updateToken = function(minValidity) {\n        var promise = createPromise();\n\n        if (!kc.refreshToken) {\n            promise.setError();\n            return promise.promise;\n        }\n\n        minValidity = minValidity || 5;\n\n        var exec = function() {\n            var refreshToken = false;\n            if (minValidity == -1) {\n                refreshToken = true;\n                logInfo('[KEYCLOAK] Refreshing token: forced refresh');\n            } else if (!kc.tokenParsed || kc.isTokenExpired(minValidity)) {\n                refreshToken = true;\n                logInfo('[KEYCLOAK] Refreshing token: token expired');\n            }\n\n            if (!refreshToken) {\n                promise.setSuccess(false);\n            } else {\n                var params = 'grant_type=refresh_token&' + 'refresh_token=' + kc.refreshToken;\n                var url = kc.endpoints.token();\n\n                refreshQueue.push(promise);\n\n                if (refreshQueue.length == 1) {\n                    var req = new XMLHttpRequest();\n                    req.open('POST', url, true);\n                    req.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n                    req.withCredentials = true;\n\n                    params += '&client_id=' + encodeURIComponent(kc.clientId);\n\n                    var timeLocal = new Date().getTime();\n\n                    req.onreadystatechange = function () {\n                        if (req.readyState == 4) {\n                            if (req.status == 200) {\n                                logInfo('[KEYCLOAK] Token refreshed');\n\n                                timeLocal = (timeLocal + new Date().getTime()) / 2;\n\n                                var tokenResponse = JSON.parse(req.responseText);\n\n                                setToken(tokenResponse['access_token'], tokenResponse['refresh_token'], tokenResponse['id_token'], timeLocal);\n\n                                kc.onAuthRefreshSuccess && kc.onAuthRefreshSuccess();\n                                for (var p = refreshQueue.pop(); p != null; p = refreshQueue.pop()) {\n                                    p.setSuccess(true);\n                                }\n                            } else {\n                                logWarn('[KEYCLOAK] Failed to refresh token');\n\n                                if (req.status == 400) {\n                                    kc.clearToken();\n                                }\n\n                                kc.onAuthRefreshError && kc.onAuthRefreshError();\n                                for (var p = refreshQueue.pop(); p != null; p = refreshQueue.pop()) {\n                                    p.setError(true);\n                                }\n                            }\n                        }\n                    };\n\n                    req.send(params);\n                }\n            }\n        };\n\n        if (loginIframe.enable) {\n            var iframePromise = checkLoginIframe();\n            iframePromise.then(function() {\n                exec();\n            }).catch(function(error) {\n                promise.setError(error);\n            });\n        } else {\n            exec();\n        }\n\n        return promise.promise;\n    };\n\n    kc.clearToken = function() {\n        if (kc.token) {\n            setToken(null, null, null);\n            kc.onAuthLogout && kc.onAuthLogout();\n            if (kc.loginRequired) {\n                kc.login();\n            }\n        }\n    };\n\n    function getRealmUrl() {\n        if (typeof kc.authServerUrl !== 'undefined') {\n            if (kc.authServerUrl.charAt(kc.authServerUrl.length - 1) == '/') {\n                return kc.authServerUrl + 'realms/' + encodeURIComponent(kc.realm);\n            } else {\n                return kc.authServerUrl + '/realms/' + encodeURIComponent(kc.realm);\n            }\n        } else {\n            return undefined;\n        }\n    }\n\n    function getOrigin() {\n        if (!window.location.origin) {\n            return window.location.protocol + \"//\" + window.location.hostname + (window.location.port ? ':' + window.location.port: '');\n        } else {\n            return window.location.origin;\n        }\n    }\n\n    function processCallback(oauth, promise) {\n        var code = oauth.code;\n        var error = oauth.error;\n        var prompt = oauth.prompt;\n\n        var timeLocal = new Date().getTime();\n\n        if (oauth['kc_action_status']) {\n            kc.onActionUpdate && kc.onActionUpdate(oauth['kc_action_status']);\n        }\n\n        if (error) {\n            if (prompt != 'none') {\n                var errorData = { error: error, error_description: oauth.error_description };\n                kc.onAuthError && kc.onAuthError(errorData);\n                promise && promise.setError(errorData);\n            } else {\n                promise && promise.setSuccess();\n            }\n            return;\n        } else if ((kc.flow != 'standard') && (oauth.access_token || oauth.id_token)) {\n            authSuccess(oauth.access_token, null, oauth.id_token, true);\n        }\n\n        if ((kc.flow != 'implicit') && code) {\n            var params = 'code=' + code + '&grant_type=authorization_code';\n            var url = kc.endpoints.token();\n\n            var req = new XMLHttpRequest();\n            req.open('POST', url, true);\n            req.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n\n            params += '&client_id=' + encodeURIComponent(kc.clientId);\n            params += '&redirect_uri=' + oauth.redirectUri;\n\n            if (oauth.pkceCodeVerifier) {\n                params += '&code_verifier=' + oauth.pkceCodeVerifier;\n            }\n\n            req.withCredentials = true;\n\n            req.onreadystatechange = function() {\n                if (req.readyState == 4) {\n                    if (req.status == 200) {\n\n                        var tokenResponse = JSON.parse(req.responseText);\n                        authSuccess(tokenResponse['access_token'], tokenResponse['refresh_token'], tokenResponse['id_token'], kc.flow === 'standard');\n                        scheduleCheckIframe();\n                    } else {\n                        kc.onAuthError && kc.onAuthError();\n                        promise && promise.setError();\n                    }\n                }\n            };\n\n            req.send(params);\n        }\n\n        function authSuccess(accessToken, refreshToken, idToken, fulfillPromise) {\n            timeLocal = (timeLocal + new Date().getTime()) / 2;\n\n            setToken(accessToken, refreshToken, idToken, timeLocal);\n\n            if (useNonce && ((kc.tokenParsed && kc.tokenParsed.nonce != oauth.storedNonce) ||\n                (kc.refreshTokenParsed && kc.refreshTokenParsed.nonce != oauth.storedNonce) ||\n                (kc.idTokenParsed && kc.idTokenParsed.nonce != oauth.storedNonce))) {\n\n                logInfo('[KEYCLOAK] Invalid nonce, clearing token');\n                kc.clearToken();\n                promise && promise.setError();\n            } else {\n                if (fulfillPromise) {\n                    kc.onAuthSuccess && kc.onAuthSuccess();\n                    promise && promise.setSuccess();\n                }\n            }\n        }\n\n    }\n\n    function loadConfig(url) {\n        var promise = createPromise();\n        var configUrl;\n\n        if (!config) {\n            configUrl = 'keycloak.json';\n        } else if (typeof config === 'string') {\n            configUrl = config;\n        }\n\n        function setupOidcEndoints(oidcConfiguration) {\n            if (! oidcConfiguration) {\n                kc.endpoints = {\n                    authorize: function() {\n                        return getRealmUrl() + '/protocol/openid-connect/auth';\n                    },\n                    token: function() {\n                        return getRealmUrl() + '/protocol/openid-connect/token';\n                    },\n                    logout: function() {\n                        return getRealmUrl() + '/protocol/openid-connect/logout';\n                    },\n                    checkSessionIframe: function() {\n                        var src = getRealmUrl() + '/protocol/openid-connect/login-status-iframe.html';\n                        if (kc.iframeVersion) {\n                            src = src + '?version=' + kc.iframeVersion;\n                        }\n                        return src;\n                    },\n                    thirdPartyCookiesIframe: function() {\n                        var src = getRealmUrl() + '/protocol/openid-connect/3p-cookies/step1.html';\n                        if (kc.iframeVersion) {\n                            src = src + '?version=' + kc.iframeVersion;\n                        }\n                        return src;\n                    },\n                    register: function() {\n                        return getRealmUrl() + '/protocol/openid-connect/registrations';\n                    },\n                    userinfo: function() {\n                        return getRealmUrl() + '/protocol/openid-connect/userinfo';\n                    }\n                };\n            } else {\n                kc.endpoints = {\n                    authorize: function() {\n                        return oidcConfiguration.authorization_endpoint;\n                    },\n                    token: function() {\n                        return oidcConfiguration.token_endpoint;\n                    },\n                    logout: function() {\n                        if (!oidcConfiguration.end_session_endpoint) {\n                            throw \"Not supported by the OIDC server\";\n                        }\n                        return oidcConfiguration.end_session_endpoint;\n                    },\n                    checkSessionIframe: function() {\n                        if (!oidcConfiguration.check_session_iframe) {\n                            throw \"Not supported by the OIDC server\";\n                        }\n                        return oidcConfiguration.check_session_iframe;\n                    },\n                    register: function() {\n                        throw 'Redirection to \"Register user\" page not supported in standard OIDC mode';\n                    },\n                    userinfo: function() {\n                        if (!oidcConfiguration.userinfo_endpoint) {\n                            throw \"Not supported by the OIDC server\";\n                        }\n                        return oidcConfiguration.userinfo_endpoint;\n                    }\n                };\n            }\n        }\n\n        if (configUrl) {\n            var req = new XMLHttpRequest();\n            req.open('GET', configUrl, true);\n            req.setRequestHeader('Accept', 'application/json');\n\n            req.onreadystatechange = function () {\n                if (req.readyState == 4) {\n                    if (req.status == 200 || fileLoaded(req)) {\n                        var config = JSON.parse(req.responseText);\n\n                        kc.authServerUrl = config['auth-server-url'];\n                        kc.realm = config['realm'];\n                        kc.clientId = config['resource'];\n                        setupOidcEndoints(null);\n                        promise.setSuccess();\n                    } else {\n                        promise.setError();\n                    }\n                }\n            };\n\n            req.send();\n        } else {\n            if (!config.clientId) {\n                throw 'clientId missing';\n            }\n\n            kc.clientId = config.clientId;\n\n            var oidcProvider = config['oidcProvider'];\n            if (!oidcProvider) {\n                if (!config['url']) {\n                    var scripts = document.getElementsByTagName('script');\n                    for (var i = 0; i < scripts.length; i++) {\n                        if (scripts[i].src.match(/.*keycloak\\.js/)) {\n                            config.url = scripts[i].src.substr(0, scripts[i].src.indexOf('/js/keycloak.js'));\n                            break;\n                        }\n                    }\n                }\n                if (!config.realm) {\n                    throw 'realm missing';\n                }\n\n                kc.authServerUrl = config.url;\n                kc.realm = config.realm;\n                setupOidcEndoints(null);\n                promise.setSuccess();\n            } else {\n                if (typeof oidcProvider === 'string') {\n                    var oidcProviderConfigUrl;\n                    if (oidcProvider.charAt(oidcProvider.length - 1) == '/') {\n                        oidcProviderConfigUrl = oidcProvider + '.well-known/openid-configuration';\n                    } else {\n                        oidcProviderConfigUrl = oidcProvider + '/.well-known/openid-configuration';\n                    }\n                    var req = new XMLHttpRequest();\n                    req.open('GET', oidcProviderConfigUrl, true);\n                    req.setRequestHeader('Accept', 'application/json');\n\n                    req.onreadystatechange = function () {\n                        if (req.readyState == 4) {\n                            if (req.status == 200 || fileLoaded(req)) {\n                                var oidcProviderConfig = JSON.parse(req.responseText);\n                                setupOidcEndoints(oidcProviderConfig);\n                                promise.setSuccess();\n                            } else {\n                                promise.setError();\n                            }\n                        }\n                    };\n\n                    req.send();\n                } else {\n                    setupOidcEndoints(oidcProvider);\n                    promise.setSuccess();\n                }\n            }\n        }\n\n        return promise.promise;\n    }\n\n    function fileLoaded(xhr) {\n        return xhr.status == 0 && xhr.responseText && xhr.responseURL.startsWith('file:');\n    }\n\n    function setToken(token, refreshToken, idToken, timeLocal) {\n        if (kc.tokenTimeoutHandle) {\n            clearTimeout(kc.tokenTimeoutHandle);\n            kc.tokenTimeoutHandle = null;\n        }\n\n        if (refreshToken) {\n            kc.refreshToken = refreshToken;\n            kc.refreshTokenParsed = decodeToken(refreshToken);\n        } else {\n            delete kc.refreshToken;\n            delete kc.refreshTokenParsed;\n        }\n\n        if (idToken) {\n            kc.idToken = idToken;\n            kc.idTokenParsed = decodeToken(idToken);\n        } else {\n            delete kc.idToken;\n            delete kc.idTokenParsed;\n        }\n\n        if (token) {\n            kc.token = token;\n            kc.tokenParsed = decodeToken(token);\n            kc.sessionId = kc.tokenParsed.session_state;\n            kc.authenticated = true;\n            kc.subject = kc.tokenParsed.sub;\n            kc.realmAccess = kc.tokenParsed.realm_access;\n            kc.resourceAccess = kc.tokenParsed.resource_access;\n\n            if (timeLocal) {\n                kc.timeSkew = Math.floor(timeLocal / 1000) - kc.tokenParsed.iat;\n            }\n\n            if (kc.timeSkew != null) {\n                logInfo('[KEYCLOAK] Estimated time difference between browser and server is ' + kc.timeSkew + ' seconds');\n\n                if (kc.onTokenExpired) {\n                    var expiresIn = (kc.tokenParsed['exp'] - (new Date().getTime() / 1000) + kc.timeSkew) * 1000;\n                    logInfo('[KEYCLOAK] Token expires in ' + Math.round(expiresIn / 1000) + ' s');\n                    if (expiresIn <= 0) {\n                        kc.onTokenExpired();\n                    } else {\n                        kc.tokenTimeoutHandle = setTimeout(kc.onTokenExpired, expiresIn);\n                    }\n                }\n            }\n        } else {\n            delete kc.token;\n            delete kc.tokenParsed;\n            delete kc.subject;\n            delete kc.realmAccess;\n            delete kc.resourceAccess;\n\n            kc.authenticated = false;\n        }\n    }\n\n    function decodeToken(str) {\n        str = str.split('.')[1];\n\n        str = str.replace(/-/g, '+');\n        str = str.replace(/_/g, '/');\n        switch (str.length % 4) {\n            case 0:\n                break;\n            case 2:\n                str += '==';\n                break;\n            case 3:\n                str += '=';\n                break;\n            default:\n                throw 'Invalid token';\n        }\n\n        str = decodeURIComponent(escape(atob(str)));\n\n        str = JSON.parse(str);\n        return str;\n    }\n\n    function createUUID() {\n        var hexDigits = '0123456789abcdef';\n        var s = generateRandomString(36, hexDigits).split(\"\");\n        s[14] = '4';\n        s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1);\n        s[8] = s[13] = s[18] = s[23] = '-';\n        var uuid = s.join('');\n        return uuid;\n    }\n\n    function parseCallback(url) {\n        var oauth = parseCallbackUrl(url);\n        if (!oauth) {\n            return;\n        }\n\n        var oauthState = callbackStorage.get(oauth.state);\n\n        if (oauthState) {\n            oauth.valid = true;\n            oauth.redirectUri = oauthState.redirectUri;\n            oauth.storedNonce = oauthState.nonce;\n            oauth.prompt = oauthState.prompt;\n            oauth.pkceCodeVerifier = oauthState.pkceCodeVerifier;\n        }\n\n        return oauth;\n    }\n\n    function parseCallbackUrl(url) {\n        var supportedParams;\n        switch (kc.flow) {\n            case 'standard':\n                supportedParams = ['code', 'state', 'session_state', 'kc_action_status'];\n                break;\n            case 'implicit':\n                supportedParams = ['access_token', 'token_type', 'id_token', 'state', 'session_state', 'expires_in', 'kc_action_status'];\n                break;\n            case 'hybrid':\n                supportedParams = ['access_token', 'token_type', 'id_token', 'code', 'state', 'session_state', 'expires_in', 'kc_action_status'];\n                break;\n        }\n\n        supportedParams.push('error');\n        supportedParams.push('error_description');\n        supportedParams.push('error_uri');\n\n        var queryIndex = url.indexOf('?');\n        var fragmentIndex = url.indexOf('#');\n\n        var newUrl;\n        var parsed;\n\n        if (kc.responseMode === 'query' && queryIndex !== -1) {\n            newUrl = url.substring(0, queryIndex);\n            parsed = parseCallbackParams(url.substring(queryIndex + 1, fragmentIndex !== -1 ? fragmentIndex : url.length), supportedParams);\n            if (parsed.paramsString !== '') {\n                newUrl += '?' + parsed.paramsString;\n            }\n            if (fragmentIndex !== -1) {\n                newUrl += url.substring(fragmentIndex);\n            }\n        } else if (kc.responseMode === 'fragment' && fragmentIndex !== -1) {\n            newUrl = url.substring(0, fragmentIndex);\n            parsed = parseCallbackParams(url.substring(fragmentIndex + 1), supportedParams);\n            if (parsed.paramsString !== '') {\n                newUrl += '#' + parsed.paramsString;\n            }\n        }\n\n        if (parsed && parsed.oauthParams) {\n            if (kc.flow === 'standard' || kc.flow === 'hybrid') {\n                if ((parsed.oauthParams.code || parsed.oauthParams.error) && parsed.oauthParams.state) {\n                    parsed.oauthParams.newUrl = newUrl;\n                    return parsed.oauthParams;\n                }\n            } else if (kc.flow === 'implicit') {\n                if ((parsed.oauthParams.access_token || parsed.oauthParams.error) && parsed.oauthParams.state) {\n                    parsed.oauthParams.newUrl = newUrl;\n                    return parsed.oauthParams;\n                }\n            }\n        }\n    }\n\n    function parseCallbackParams(paramsString, supportedParams) {\n        var p = paramsString.split('&');\n        var result = {\n            paramsString: '',\n            oauthParams: {}\n        };\n        for (var i = 0; i < p.length; i++) {\n            var split = p[i].indexOf(\"=\");\n            var key = p[i].slice(0, split);\n            if (supportedParams.indexOf(key) !== -1) {\n                result.oauthParams[key] = p[i].slice(split + 1);\n            } else {\n                if (result.paramsString !== '') {\n                    result.paramsString += '&';\n                }\n                result.paramsString += p[i];\n            }\n        }\n        return result;\n    }\n\n    function createPromise() {\n        // Need to create a native Promise which also preserves the\n        // interface of the custom promise type previously used by the API\n        var p = {\n            setSuccess: function(result) {\n                p.resolve(result);\n            },\n\n            setError: function(result) {\n                p.reject(result);\n            }\n        };\n        p.promise = new Promise(function(resolve, reject) {\n            p.resolve = resolve;\n            p.reject = reject;\n        });\n\n        p.promise.success = function(callback) {\n            logPromiseDeprecation();\n\n            this.then(function handleSuccess(value) {\n                callback(value);\n            });\n\n            return this;\n        };\n\n        p.promise.error = function(callback) {\n            logPromiseDeprecation();\n\n            this.catch(function handleError(error) {\n                callback(error);\n            });\n\n            return this;\n        };\n\n        return p;\n    }\n\n    // Function to extend existing native Promise with timeout\n    function applyTimeoutToPromise(promise, timeout, errorMessage) {\n        var timeoutHandle = null;\n        var timeoutPromise = new Promise(function (resolve, reject) {\n            timeoutHandle = setTimeout(function () {\n                reject({ \"error\": errorMessage || \"Promise is not settled within timeout of \" + timeout + \"ms\" });\n            }, timeout);\n        });\n\n        return Promise.race([promise, timeoutPromise]).finally(function () {\n            clearTimeout(timeoutHandle);\n        });\n    }\n\n    function setupCheckLoginIframe() {\n        var promise = createPromise();\n\n        if (!loginIframe.enable) {\n            promise.setSuccess();\n            return promise.promise;\n        }\n\n        if (loginIframe.iframe) {\n            promise.setSuccess();\n            return promise.promise;\n        }\n\n        var iframe = document.createElement('iframe');\n        loginIframe.iframe = iframe;\n\n        iframe.onload = function() {\n            var authUrl = kc.endpoints.authorize();\n            if (authUrl.charAt(0) === '/') {\n                loginIframe.iframeOrigin = getOrigin();\n            } else {\n                loginIframe.iframeOrigin = authUrl.substring(0, authUrl.indexOf('/', 8));\n            }\n            promise.setSuccess();\n        };\n\n        var src = kc.endpoints.checkSessionIframe();\n        iframe.setAttribute('src', src );\n        iframe.setAttribute('title', 'keycloak-session-iframe' );\n        iframe.style.display = 'none';\n        document.body.appendChild(iframe);\n\n        var messageCallback = function(event) {\n            if ((event.origin !== loginIframe.iframeOrigin) || (loginIframe.iframe.contentWindow !== event.source)) {\n                return;\n            }\n\n            if (!(event.data == 'unchanged' || event.data == 'changed' || event.data == 'error')) {\n                return;\n            }\n\n\n            if (event.data != 'unchanged') {\n                kc.clearToken();\n            }\n\n            var callbacks = loginIframe.callbackList.splice(0, loginIframe.callbackList.length);\n\n            for (var i = callbacks.length - 1; i >= 0; --i) {\n                var promise = callbacks[i];\n                if (event.data == 'error') {\n                    promise.setError();\n                } else {\n                    promise.setSuccess(event.data == 'unchanged');\n                }\n            }\n        };\n\n        window.addEventListener('message', messageCallback, false);\n\n        return promise.promise;\n    }\n\n    function scheduleCheckIframe() {\n        if (loginIframe.enable) {\n            if (kc.token) {\n                setTimeout(function() {\n                    checkLoginIframe().then(function(unchanged) {\n                        if (unchanged) {\n                            scheduleCheckIframe();\n                        }\n                    });\n                }, loginIframe.interval * 1000);\n            }\n        }\n    }\n\n    function checkLoginIframe() {\n        var promise = createPromise();\n\n        if (loginIframe.iframe && loginIframe.iframeOrigin ) {\n            var msg = kc.clientId + ' ' + (kc.sessionId ? kc.sessionId : '');\n            loginIframe.callbackList.push(promise);\n            var origin = loginIframe.iframeOrigin;\n            if (loginIframe.callbackList.length == 1) {\n                loginIframe.iframe.contentWindow.postMessage(msg, origin);\n            }\n        } else {\n            promise.setSuccess();\n        }\n\n        return promise.promise;\n    }\n\n    function check3pCookiesSupported() {\n        var promise = createPromise();\n\n        if (loginIframe.enable || kc.silentCheckSsoRedirectUri) {\n            var iframe = document.createElement('iframe');\n            iframe.setAttribute('src', kc.endpoints.thirdPartyCookiesIframe());\n            iframe.setAttribute('title', 'keycloak-3p-check-iframe' );\n            iframe.style.display = 'none';\n            document.body.appendChild(iframe);\n\n            var messageCallback = function(event) {\n                if (iframe.contentWindow !== event.source) {\n                    return;\n                }\n\n                if (event.data !== \"supported\" && event.data !== \"unsupported\") {\n                    return;\n                } else if (event.data === \"unsupported\") {\n                    loginIframe.enable = false;\n                    if (kc.silentCheckSsoFallback) {\n                        kc.silentCheckSsoRedirectUri = false;\n                    }\n                    logWarn(\"[KEYCLOAK] 3rd party cookies aren't supported by this browser. checkLoginIframe and \" +\n                        \"silent check-sso are not available.\");\n                }\n\n                document.body.removeChild(iframe);\n                window.removeEventListener(\"message\", messageCallback);\n                promise.setSuccess();\n            };\n\n            window.addEventListener('message', messageCallback, false);\n        } else {\n            promise.setSuccess();\n        }\n\n        return applyTimeoutToPromise(promise.promise, kc.messageReceiveTimeout, \"Timeout when waiting for 3rd party check iframe message.\");\n    }\n\n    function loadAdapter(type) {\n        if (!type || type == 'default') {\n            return {\n                login: function(options) {\n                    window.location.replace(kc.createLoginUrl(options));\n                    return createPromise().promise;\n                },\n\n                logout: function(options) {\n                    window.location.replace(kc.createLogoutUrl(options));\n                    return createPromise().promise;\n                },\n\n                register: function(options) {\n                    window.location.replace(kc.createRegisterUrl(options));\n                    return createPromise().promise;\n                },\n\n                accountManagement : function() {\n                    var accountUrl = kc.createAccountUrl();\n                    if (typeof accountUrl !== 'undefined') {\n                        window.location.href = accountUrl;\n                    } else {\n                        throw \"Not supported by the OIDC server\";\n                    }\n                    return createPromise().promise;\n                },\n\n                redirectUri: function(options, encodeHash) {\n\n                    if (options && options.redirectUri) {\n                        return options.redirectUri;\n                    } else if (kc.redirectUri) {\n                        return kc.redirectUri;\n                    } else {\n                        return location.href;\n                    }\n                }\n            };\n        }\n\n        if (type == 'cordova') {\n            loginIframe.enable = false;\n            var cordovaOpenWindowWrapper = function(loginUrl, target, options) {\n                if (window.cordova && window.cordova.InAppBrowser) {\n                    // Use inappbrowser for IOS and Android if available\n                    return window.cordova.InAppBrowser.open(loginUrl, target, options);\n                } else {\n                    return window.open(loginUrl, target, options);\n                }\n            };\n\n            var shallowCloneCordovaOptions = function (userOptions) {\n                if (userOptions && userOptions.cordovaOptions) {\n                    return Object.keys(userOptions.cordovaOptions).reduce(function (options, optionName) {\n                        options[optionName] = userOptions.cordovaOptions[optionName];\n                        return options;\n                    }, {});\n                } else {\n                    return {};\n                }\n            };\n\n            var formatCordovaOptions = function (cordovaOptions) {\n                return Object.keys(cordovaOptions).reduce(function (options, optionName) {\n                    options.push(optionName+\"=\"+cordovaOptions[optionName]);\n                    return options;\n                }, []).join(\",\");\n            };\n\n            var createCordovaOptions = function (userOptions) {\n                var cordovaOptions = shallowCloneCordovaOptions(userOptions);\n                cordovaOptions.location = 'no';\n                if (userOptions && userOptions.prompt == 'none') {\n                    cordovaOptions.hidden = 'yes';\n                }\n                return formatCordovaOptions(cordovaOptions);\n            };\n\n            return {\n                login: function(options) {\n                    var promise = createPromise();\n\n                    var cordovaOptions = createCordovaOptions(options);\n                    var loginUrl = kc.createLoginUrl(options);\n                    var ref = cordovaOpenWindowWrapper(loginUrl, '_blank', cordovaOptions);\n                    var completed = false;\n\n                    var closed = false;\n                    var closeBrowser = function() {\n                        closed = true;\n                        ref.close();\n                    };\n\n                    ref.addEventListener('loadstart', function(event) {\n                        if (event.url.indexOf('http://localhost') == 0) {\n                            var callback = parseCallback(event.url);\n                            processCallback(callback, promise);\n                            closeBrowser();\n                            completed = true;\n                        }\n                    });\n\n                    ref.addEventListener('loaderror', function(event) {\n                        if (!completed) {\n                            if (event.url.indexOf('http://localhost') == 0) {\n                                var callback = parseCallback(event.url);\n                                processCallback(callback, promise);\n                                closeBrowser();\n                                completed = true;\n                            } else {\n                                promise.setError();\n                                closeBrowser();\n                            }\n                        }\n                    });\n\n                    ref.addEventListener('exit', function(event) {\n                        if (!closed) {\n                            promise.setError({\n                                reason: \"closed_by_user\"\n                            });\n                        }\n                    });\n\n                    return promise.promise;\n                },\n\n                logout: function(options) {\n                    var promise = createPromise();\n\n                    var logoutUrl = kc.createLogoutUrl(options);\n                    var ref = cordovaOpenWindowWrapper(logoutUrl, '_blank', 'location=no,hidden=yes,clearcache=yes');\n\n                    var error;\n\n                    ref.addEventListener('loadstart', function(event) {\n                        if (event.url.indexOf('http://localhost') == 0) {\n                            ref.close();\n                        }\n                    });\n\n                    ref.addEventListener('loaderror', function(event) {\n                        if (event.url.indexOf('http://localhost') == 0) {\n                            ref.close();\n                        } else {\n                            error = true;\n                            ref.close();\n                        }\n                    });\n\n                    ref.addEventListener('exit', function(event) {\n                        if (error) {\n                            promise.setError();\n                        } else {\n                            kc.clearToken();\n                            promise.setSuccess();\n                        }\n                    });\n\n                    return promise.promise;\n                },\n\n                register : function(options) {\n                    var promise = createPromise();\n                    var registerUrl = kc.createRegisterUrl();\n                    var cordovaOptions = createCordovaOptions(options);\n                    var ref = cordovaOpenWindowWrapper(registerUrl, '_blank', cordovaOptions);\n                    ref.addEventListener('loadstart', function(event) {\n                        if (event.url.indexOf('http://localhost') == 0) {\n                            ref.close();\n                            var oauth = parseCallback(event.url);\n                            processCallback(oauth, promise);\n                        }\n                    });\n                    return promise.promise;\n                },\n\n                accountManagement : function() {\n                    var accountUrl = kc.createAccountUrl();\n                    if (typeof accountUrl !== 'undefined') {\n                        var ref = cordovaOpenWindowWrapper(accountUrl, '_blank', 'location=no');\n                        ref.addEventListener('loadstart', function(event) {\n                            if (event.url.indexOf('http://localhost') == 0) {\n                                ref.close();\n                            }\n                        });\n                    } else {\n                        throw \"Not supported by the OIDC server\";\n                    }\n                },\n\n                redirectUri: function(options) {\n                    return 'http://localhost';\n                }\n            }\n        }\n\n        if (type == 'cordova-native') {\n            loginIframe.enable = false;\n\n            return {\n                login: function(options) {\n                    var promise = createPromise();\n                    var loginUrl = kc.createLoginUrl(options);\n\n                    universalLinks.subscribe('keycloak', function(event) {\n                        universalLinks.unsubscribe('keycloak');\n                        window.cordova.plugins.browsertab.close();\n                        var oauth = parseCallback(event.url);\n                        processCallback(oauth, promise);\n                    });\n\n                    window.cordova.plugins.browsertab.openUrl(loginUrl);\n                    return promise.promise;\n                },\n\n                logout: function(options) {\n                    var promise = createPromise();\n                    var logoutUrl = kc.createLogoutUrl(options);\n\n                    universalLinks.subscribe('keycloak', function(event) {\n                        universalLinks.unsubscribe('keycloak');\n                        window.cordova.plugins.browsertab.close();\n                        kc.clearToken();\n                        promise.setSuccess();\n                    });\n\n                    window.cordova.plugins.browsertab.openUrl(logoutUrl);\n                    return promise.promise;\n                },\n\n                register : function(options) {\n                    var promise = createPromise();\n                    var registerUrl = kc.createRegisterUrl(options);\n                    universalLinks.subscribe('keycloak' , function(event) {\n                        universalLinks.unsubscribe('keycloak');\n                        window.cordova.plugins.browsertab.close();\n                        var oauth = parseCallback(event.url);\n                        processCallback(oauth, promise);\n                    });\n                    window.cordova.plugins.browsertab.openUrl(registerUrl);\n                    return promise.promise;\n\n                },\n\n                accountManagement : function() {\n                    var accountUrl = kc.createAccountUrl();\n                    if (typeof accountUrl !== 'undefined') {\n                        window.cordova.plugins.browsertab.openUrl(accountUrl);\n                    } else {\n                        throw \"Not supported by the OIDC server\";\n                    }\n                },\n\n                redirectUri: function(options) {\n                    if (options && options.redirectUri) {\n                        return options.redirectUri;\n                    } else if (kc.redirectUri) {\n                        return kc.redirectUri;\n                    } else {\n                        return \"http://localhost\";\n                    }\n                }\n            }\n        }\n\n        throw 'invalid adapter type: ' + type;\n    }\n\n    var LocalStorage = function() {\n        if (!(this instanceof LocalStorage)) {\n            return new LocalStorage();\n        }\n\n        localStorage.setItem('kc-test', 'test');\n        localStorage.removeItem('kc-test');\n\n        var cs = this;\n\n        function clearExpired() {\n            var time = new Date().getTime();\n            for (var i = 0; i < localStorage.length; i++)  {\n                var key = localStorage.key(i);\n                if (key && key.indexOf('kc-callback-') == 0) {\n                    var value = localStorage.getItem(key);\n                    if (value) {\n                        try {\n                            var expires = JSON.parse(value).expires;\n                            if (!expires || expires < time) {\n                                localStorage.removeItem(key);\n                            }\n                        } catch (err) {\n                            localStorage.removeItem(key);\n                        }\n                    }\n                }\n            }\n        }\n\n        cs.get = function(state) {\n            if (!state) {\n                return;\n            }\n\n            var key = 'kc-callback-' + state;\n            var value = localStorage.getItem(key);\n            if (value) {\n                localStorage.removeItem(key);\n                value = JSON.parse(value);\n            }\n\n            clearExpired();\n            return value;\n        };\n\n        cs.add = function(state) {\n            clearExpired();\n\n            var key = 'kc-callback-' + state.state;\n            state.expires = new Date().getTime() + (60 * 60 * 1000);\n            localStorage.setItem(key, JSON.stringify(state));\n        };\n    };\n\n    var CookieStorage = function() {\n        if (!(this instanceof CookieStorage)) {\n            return new CookieStorage();\n        }\n\n        var cs = this;\n\n        cs.get = function(state) {\n            if (!state) {\n                return;\n            }\n\n            var value = getCookie('kc-callback-' + state);\n            setCookie('kc-callback-' + state, '', cookieExpiration(-100));\n            if (value) {\n                return JSON.parse(value);\n            }\n        };\n\n        cs.add = function(state) {\n            setCookie('kc-callback-' + state.state, JSON.stringify(state), cookieExpiration(60));\n        };\n\n        cs.removeItem = function(key) {\n            setCookie(key, '', cookieExpiration(-100));\n        };\n\n        var cookieExpiration = function (minutes) {\n            var exp = new Date();\n            exp.setTime(exp.getTime() + (minutes*60*1000));\n            return exp;\n        };\n\n        var getCookie = function (key) {\n            var name = key + '=';\n            var ca = document.cookie.split(';');\n            for (var i = 0; i < ca.length; i++) {\n                var c = ca[i];\n                while (c.charAt(0) == ' ') {\n                    c = c.substring(1);\n                }\n                if (c.indexOf(name) == 0) {\n                    return c.substring(name.length, c.length);\n                }\n            }\n            return '';\n        };\n\n        var setCookie = function (key, value, expirationDate) {\n            var cookie = key + '=' + value + '; '\n                + 'expires=' + expirationDate.toUTCString() + '; ';\n            document.cookie = cookie;\n        };\n    };\n\n    function createCallbackStorage() {\n        try {\n            return new LocalStorage();\n        } catch (err) {\n        }\n\n        return new CookieStorage();\n    }\n\n    function createLogger(fn) {\n        return function() {\n            if (kc.enableLogging) {\n                fn.apply(console, Array.prototype.slice.call(arguments));\n            }\n        };\n    }\n}\n\n\n\n\n/***/ }),\n\n/***/ 377:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar isExtendable = __webpack_require__(379);\nvar forIn = __webpack_require__(378);\n\nfunction mixinDeep(target, objects) {\n  var len = arguments.length, i = 0;\n  while (++i < len) {\n    var obj = arguments[i];\n    if (isObject(obj)) {\n      forIn(obj, copy, target);\n    }\n  }\n  return target;\n}\n\n/**\n * Copy properties from the source object to the\n * target object.\n *\n * @param  {*} `val`\n * @param  {String} `key`\n */\n\nfunction copy(val, key) {\n  if (key === '__proto__') {\n    return;\n  }\n\n  var obj = this[key];\n  if (isObject(val) && isObject(obj)) {\n    mixinDeep(obj, val);\n  } else {\n    this[key] = val;\n  }\n}\n\n/**\n * Returns true if `val` is an object or function.\n *\n * @param  {any} val\n * @return {Boolean}\n */\n\nfunction isObject(val) {\n  return isExtendable(val) && !Array.isArray(val);\n}\n\n/**\n * Expose `mixinDeep`\n */\n\nmodule.exports = mixinDeep;\n\n\n/***/ }),\n\n/***/ 378:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*!\n * for-in <https://github.com/jonschlinkert/for-in>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n\n\nmodule.exports = function forIn(obj, fn, thisArg) {\n  for (var key in obj) {\n    if (fn.call(thisArg, obj[key], key, obj) === false) {\n      break;\n    }\n  }\n};\n\n\n/***/ }),\n\n/***/ 379:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*!\n * is-extendable <https://github.com/jonschlinkert/is-extendable>\n *\n * Copyright (c) 2015-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n\n\nvar isPlainObject = __webpack_require__(364);\n\nmodule.exports = function isExtendable(val) {\n  return isPlainObject(val) || typeof val === 'function' || Array.isArray(val);\n};\n\n\n/***/ }),\n\n/***/ 48:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = Period;\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction Period(period) {\n    var from = period.start || \"\";\n    var to = period.end || \"\";\n\n    if (from && to) {\n        from = (0, _moment2.default)(from);\n        to = (0, _moment2.default)(to);\n\n        if (from.isSame(to, \"day\")) {\n            return _react2.default.createElement(\n                \"span\",\n                null,\n                from.format(\"MM/DD/YYYY\"),\n                from.isSame(to, \"hour\") ? null : _react2.default.createElement(\n                    \"span\",\n                    null,\n                    _react2.default.createElement(\n                        \"small\",\n                        { className: \"text-muted\" },\n                        \" from \"\n                    ),\n                    from.format(\"HH:mm\"),\n                    _react2.default.createElement(\n                        \"small\",\n                        { className: \"text-muted\" },\n                        \" to \"\n                    ),\n                    to.format(\"HH:mm\")\n                )\n            );\n        } else {\n            return _react2.default.createElement(\n                \"span\",\n                null,\n                _react2.default.createElement(\n                    \"small\",\n                    { className: \"text-muted\" },\n                    \" from \"\n                ),\n                from.format(\"MM/DD/YYYY\"),\n                _react2.default.createElement(\n                    \"small\",\n                    { className: \"text-muted\" },\n                    \" to \"\n                ),\n                to.format(\"MM/DD/YYYY\")\n            );\n        }\n    } else {\n        if (from) {\n            from = (0, _moment2.default)(from);\n            return _react2.default.createElement(\n                \"span\",\n                null,\n                _react2.default.createElement(\n                    \"small\",\n                    { className: \"text-muted\" },\n                    \" from \"\n                ),\n                from.format(\"MM/DD/YYYY\")\n            );\n        } else if (to) {\n            to = (0, _moment2.default)(to);\n            return _react2.default.createElement(\n                \"span\",\n                null,\n                _react2.default.createElement(\n                    \"small\",\n                    { className: \"text-muted\" },\n                    \" to \"\n                ),\n                to.format(\"MM/DD/YYYY\")\n            );\n        }\n    }\n    return _react2.default.createElement(\n        \"small\",\n        { className: \"text-muted\" },\n        \"N/A\"\n    );\n}\n\n/***/ }),\n\n/***/ 49:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _redux = __webpack_require__(63);\n\nvar _reduxThunk = __webpack_require__(99);\n\nvar _reduxThunk2 = _interopRequireDefault(_reduxThunk);\n\nvar _selection = __webpack_require__(50);\n\nvar _selection2 = _interopRequireDefault(_selection);\n\nvar _query = __webpack_require__(21);\n\nvar _query2 = _interopRequireDefault(_query);\n\nvar _settings = __webpack_require__(51);\n\nvar _settings2 = _interopRequireDefault(_settings);\n\nvar _urlParams = __webpack_require__(330);\n\nvar _urlParams2 = _interopRequireDefault(_urlParams);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * The purpose of this file is to combine reducers and create the single store.\n * One should use it simply like so:\n *\n * ```import STORE from \"./redux\"```\n */\nvar middleWares = [_reduxThunk2.default];\n\n// Create logger middleware that will log all redux action but only\n// use that in development env.\nif (false) {\n    var logger = function logger(_store) {\n        return function (next) {\n            return function (action) {\n                var result = void 0;\n                if (!action.__no_log) {\n                    console.groupCollapsed(action.type);\n                    console.info(\"dispatching\", action);\n                    result = next(action);\n                    console.log(\"next state\", _store.getState());\n                    console.groupEnd(action.type);\n                } else {\n                    result = next(action);\n                }\n                return result;\n            };\n        };\n    };\n\n    middleWares.push(logger);\n}\n\nexports.default = (0, _redux.createStore)((0, _redux.combineReducers)({\n    selection: _selection2.default,\n    query: _query2.default,\n    settings: _settings2.default,\n    urlParams: _urlParams2.default\n}), _redux.applyMiddleware.apply(undefined, middleWares));\n\n/***/ }),\n\n/***/ 50:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.setSelectionCleared = exports.setAll = exports.toggle = undefined;\n\nvar _handleActions;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _reduxActions = __webpack_require__(47);\n\nvar _lib = __webpack_require__(6);\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar PARAMS = (0, _lib.parseQueryString)(location.hash);\nvar SINGLE = (0, _lib.boolVal)(PARAMS[\"single-selection\"]);\n\n/**\n * For the initial selection state parse the query portion of the URL hash (if\n * any). Note that this is not enough! The hash query can provide list of\n * patient IDs but we initialize them as true. Later they should be updated to\n * contain actual patient objects instead of true!\n */\nvar initialSelection = {};\n(PARAMS._selection || \"\").split(/\\s*,\\s*/).forEach(function (k) {\n    if (k) {\n\n        // In single mode the last id will become the selected one!\n        if (SINGLE) {\n            initialSelection = _defineProperty({}, k, true);\n        } else {\n            initialSelection[k] = true;\n        }\n    }\n});\n\n/**\n * The initial state is just an empty object that will be filled\n * with patient IDs as keys and booleans as values to indicate if\n * that patient is selected.\n */\nvar INITIAL_STATE = _extends({}, initialSelection, {\n    selectionCleared: false\n\n    // Private action constants\n});var TOGGLE = \"app/selection/TOGGLE\";\nvar SET_ALL = \"app/selection/SET_ALL\";\nvar SELECTION_CLEARED = \"app/selection/SELECTION_CLEARED\";\n\n// Create (and export) the redux actions\nvar toggle = exports.toggle = (0, _reduxActions.createAction)(TOGGLE);\nvar setAll = exports.setAll = (0, _reduxActions.createAction)(SET_ALL);\nvar setSelectionCleared = exports.setSelectionCleared = (0, _reduxActions.createAction)(SELECTION_CLEARED);\n\n/**\n * Update the \"_selection\" hash parameter whenever the selection changes\n * @param {Object} selection The selection to set\n */\nfunction setHashSelection(selection) {\n    (0, _lib.setHashParam)(\"_selection\", Object.keys(selection).filter(function (k) {\n        return selection.hasOwnProperty(k) && !!selection[k];\n    }).join(\",\"));\n}\n\n// Export the reducer as default\nexports.default = (0, _reduxActions.handleActions)((_handleActions = {}, _defineProperty(_handleActions, TOGGLE, function (state, action) {\n    var _newState;\n\n    var id = String(action.payload.id);\n    var newState = (_newState = {}, _defineProperty(_newState, id, state[id] ? false : action.payload), _defineProperty(_newState, \"selectionCleared\", false), _newState);\n\n    if (!SINGLE) {\n        newState = _extends({}, state, newState);\n    }\n    setHashSelection(newState);\n    return newState;\n}), _defineProperty(_handleActions, SELECTION_CLEARED, function (state, action) {\n    return _extends({}, state, { selectionCleared: true });\n}), _defineProperty(_handleActions, SET_ALL, function (_, action) {\n    var newState = _extends({}, action.payload, { selectionCleared: false });\n    setHashSelection(newState);\n    return newState;\n}), _handleActions), INITIAL_STATE);\n\n/***/ }),\n\n/***/ 51:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.showSelectedOnly = exports.replace = exports.merge = undefined;\n\nvar _handleActions;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _reduxActions = __webpack_require__(47);\n\nvar _configDefault = __webpack_require__(328);\n\nvar _configDefault2 = _interopRequireDefault(_configDefault);\n\nvar _mixinDeep = __webpack_require__(377);\n\nvar _mixinDeep2 = _interopRequireDefault(_mixinDeep);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// Private action constants\nvar MERGE = \"app/settings/MERGE\";\nvar REPLACE = \"app/settings/REPLACE\";\nvar RENDER_SELECTED_ONLY = \"app/settings/RENDER_SELECTED_ONLY\";\n\n// Create (and export) the redux actions\nvar merge = exports.merge = (0, _reduxActions.createAction)(MERGE);\nvar replace = exports.replace = (0, _reduxActions.createAction)(REPLACE);\nvar showSelectedOnly = exports.showSelectedOnly = (0, _reduxActions.createAction)(RENDER_SELECTED_ONLY);\n\n// Export the reducer as default\nexports.default = (0, _reduxActions.handleActions)((_handleActions = {}, _defineProperty(_handleActions, MERGE, function (state, action) {\n    return (0, _mixinDeep2.default)(state, action.payload, { loaded: true });\n}), _defineProperty(_handleActions, RENDER_SELECTED_ONLY, function (state, action) {\n    return _extends({}, state, {\n        renderSelectedOnly: !!action.payload\n    });\n}), _defineProperty(_handleActions, REPLACE, function (_, action) {\n    return _extends({}, action.payload);\n}), _handleActions), _configDefault2.default);\n\n/***/ }),\n\n/***/ 537:\n/***/ (function(module, exports) {\n\n\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n\n\n/***/ }),\n\n/***/ 538:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(334);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(13)(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./AgeSelector.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./AgeSelector.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ 539:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(335);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(13)(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./App.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./App.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ 540:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(336);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(13)(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./DialogFooter.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./DialogFooter.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ 541:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(337);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(13)(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./Footer.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./Footer.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ 542:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(338);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(13)(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./Header.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./Header.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ 543:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(339);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(13)(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./Loader.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./Loader.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ 544:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(340);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(13)(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./PatientAlert.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./PatientAlert.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ 545:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(341);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(13)(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./PatientDetail.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./PatientDetail.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ 546:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(342);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(13)(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./PatientImage.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./PatientImage.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ 547:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(343);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(13)(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./PatientList.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./PatientList.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ 548:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(344);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(13)(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./SortWidget.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./SortWidget.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ 549:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(345);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(13)(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./TagSelector.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./TagSelector.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ 553:\n/***/ (function(module, exports) {\n\n/* WEBPACK VAR INJECTION */(function(__webpack_amd_options__) {/* globals __webpack_amd_options__ */\r\nmodule.exports = __webpack_amd_options__;\r\n\n/* WEBPACK VAR INJECTION */}.call(exports, {}))\n\n/***/ }),\n\n/***/ 554:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(304);\n\n\n/***/ }),\n\n/***/ 6:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.intVal = intVal;\nexports.boolVal = boolVal;\nexports.getErrorMessage = getErrorMessage;\nexports.getPath = getPath;\nexports.compileQueryString = compileQueryString;\nexports.parseQueryString = parseQueryString;\nexports.setHashParam = setHashParam;\nexports.findMRNCoding = findMRNCoding;\nexports.findMRNIdentifier = findMRNIdentifier;\nexports.getPatientMRN = getPatientMRN;\nexports.getPatientName = getPatientName;\nexports.getPatientPhone = getPatientPhone;\nexports.getPatientEmail = getPatientEmail;\nexports.getPatientHomeAddress = getPatientHomeAddress;\nexports.getPatientAge = getPatientAge;\nexports.getPatientImageUri = getPatientImageUri;\nexports.getCodeableConcept = getCodeableConcept;\nexports.getCodeOrConcept = getCodeOrConcept;\nexports.searchHighlight = searchHighlight;\nexports.renderSearchHighlight = renderSearchHighlight;\nexports.getBundleURL = getBundleURL;\nexports.request = request;\nexports.getAllPages = getAllPages;\n\nvar _react = __webpack_require__(1);\n\nvar React = _interopRequireWildcard(_react);\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _jquery = __webpack_require__(26);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _UserService = __webpack_require__(22);\n\nvar _UserService2 = _interopRequireDefault(_UserService);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/**\n * Returns the int representation of the first argument or the\n * \"defaultValue\" if the int conversion is not possible.\n * @param {number|string} x The argument to convert\n * @param {number} defaultValue The fall-back return value. This will be\n *                              converted to integer too.\n * @return {Number} The resulting integer.\n */\nfunction intVal(x) {\n    var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n    var out = parseInt(x + \"\", 10);\n    if (isNaN(out) || !isFinite(out)) {\n        out = intVal(defaultValue);\n    }\n    return out;\n}\n\n/**\n * Converts the argument to boolean value. \"0\" and \"no\" are recognized as false.\n * \"1\" and \"yes\" are recognized as true. Everything else is just !!var\n * @param {*} x The argument to convert\n * @returns {Boolean} The argument converted to boolean\n */\nfunction boolVal(x) {\n    return (/^(false|0|no)$/i.test(String(x)) ? false : /^(true|1|yes)$/i.test(String(x)) ? true : !!x\n    );\n}\n\n/**\n * Given some input argument, this function tries to treat it like an error and\n * extract an error message out of it. Supported input types are:\n * - String\n * - Error\n * - AJAX JSON response\n * - FHIR JSON response\n * - Object map of error messages\n * @param {*} input The input to analyse\n * @param {String|JSX.Element} error(s)\n */\nfunction getErrorMessage(input) {\n    if (input && typeof input == \"string\") {\n        return input;\n    }\n\n    var out = \"Unknown error\";\n\n    if (input && input instanceof Error) {\n        out = String(input);\n    } else if (input && input.responseJSON) {\n        if (Array.isArray(input.responseJSON.issue) && input.responseJSON.issue.length) {\n            out = input.responseJSON.issue.map(function (o) {\n                return o.diagnostics || \"-\";\n            }).join(\"\\n\");\n        } else {\n            out = input.responseJSON.message || input.responseJSON.error || \"Unknown error\";\n        }\n    } else if (input && input.responseText) {\n        out = input.responseText + \" - \" + input.statusText || \"Unknown error\";\n    } else if (input && input.statusText) {\n        if (input.statusText == \"timeout\") {\n            out = \"The server failed to respond in the desired number of seconds\";\n        } else {\n            out = input.statusText || \"Unknown error\";\n        }\n    }\n\n    if (out && (typeof out === \"undefined\" ? \"undefined\" : _typeof(out)) == \"object\") {\n        var out2 = [];\n        for (var key in out) {\n            out2.push(React.createElement(\"li\", { key: key }, out[key]));\n        }\n        return React.createElement(\"div\", null, [\"Multiple errors\", React.createElement(\"ul\", null, out2)]);\n    }\n\n    return String(out).replace(/(Error\\:\\s)+/, \"Error: \");\n}\n\n/**\n * Walks thru an object (ar array) and returns the value found at the provided\n * path. This function is very simple so it intentionally does not support any\n * argument polymorphism, meaning that the path can only be a dot-separated\n * string. If the path is invalid returns undefined.\n * @param {Object} obj The object (or Array) to walk through\n * @param {String} path The path (eg. \"a.b.4.c\")\n * @returns {*} Whatever is found in the path or undefined\n */\nfunction getPath(obj) {\n    var path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n\n    return path.split(\".\").reduce(function (out, key) {\n        return out ? out[key] : undefined;\n    }, obj);\n}\n\nfunction compileQueryString(params) {\n    var query = [];\n\n    var _loop = function _loop(key) {\n        var p = params[key];\n\n        // If the parameter value is falsy (and other than 0) just don't include\n        // it in the query\n        if (!p && p !== 0) {\n            return \"continue\";\n        }\n\n        // if the value is an array then include that parameter multiple times\n        // with different values\n        if (Array.isArray(p)) {\n            p.forEach(function (v) {\n\n                // skip falsy not 0 values same as above\n                if (v || v === 0) {\n                    query.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(v));\n                }\n            });\n        }\n\n        // Add normal param to the query string\n        else {\n                query.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(p));\n            }\n    };\n\n    for (var key in params) {\n        var _ret = _loop(key);\n\n        if (_ret === \"continue\") continue;\n    }\n\n    return query.join(\"&\");\n}\n\nfunction parseQueryString(str) {\n    var out = {};\n    str = String(str || \"\").trim().split(\"?\").pop();\n    str.split(/&/).forEach(function (pair) {\n        var tokens = pair.split(\"=\");\n        var key = decodeURIComponent(tokens[0]);\n        if (key) {\n            var value = decodeURIComponent(tokens[1] || \"true\");\n            if (out.hasOwnProperty(key)) {\n                if (!Array.isArray(out[key])) {\n                    out[key] = [out[key]];\n                }\n                out[key].push(value);\n            } else {\n                out[key] = value;\n            }\n        }\n    });\n    return out;\n}\n\nfunction setHashParam(name, value) {\n    var query = location.hash.split(\"?\")[1] || \"\";\n    var hash = location.hash.replace(/\\?.*/, \"\");\n    // console.warn(query)\n    query = parseQueryString(query || \"\");\n    if (value === undefined) {\n        if (query.hasOwnProperty(name)) {\n            delete query[name];\n        }\n    } else {\n        query[name] = value;\n    }\n\n    query = compileQueryString(query);\n    location.hash = hash + (query ? \"?\" + query : \"\");\n}\n\n// Fhir parsing helpers --------------------------------------------------------\n\n/**\n * Given an array of Coding objects finds and returns the one that contains\n * an MRN (using a code == \"MR\" check)\n * @export\n * @param {Object[]} codings Fhir.Coding[]\n * @returns {Object} Fhir.Coding | undefined\n */\nfunction findMRNCoding(codings) {\n    if (Array.isArray(codings)) {\n        return codings.find(function (coding) {\n            return coding.code == \"MR\";\n        });\n    }\n}\n\n/**\n * Given an array of identifier objects finds and returns the one that contains an MRN\n * @export\n * @param {Object[]} identifiers\n * @returns {Object}\n */\nfunction findMRNIdentifier(identifiers) {\n    return identifiers.find(function (identifier) {\n        return !!findMRNCoding(getPath(identifier, \"type.coding\"));\n    });\n}\n\n/**\n * Given a patient returns his MRN\n * @export\n * @param {Object} patient\n * @returns {string}\n */\nfunction getPatientMRN(patient) {\n    var mrn = null;\n\n    if (Array.isArray(patient.identifier) && patient.identifier.length) {\n        mrn = findMRNIdentifier(patient.identifier);\n        if (mrn) {\n            return mrn.value;\n        }\n    }\n\n    return mrn;\n}\n\n/**\n * Extracts and returns a human-readable name string from FHIR patient object.\n * @param {Object} patient FHIR patient object\n * @returns {String} Patient's name or an empty string\n */\nfunction getPatientName(patient) {\n    if (!patient) {\n        return \"\";\n    }\n\n    var name = patient.name;\n    if (!Array.isArray(name)) {\n        name = [name];\n    }\n    name = name[0];\n    if (!name) {\n        return \"\";\n    }\n\n    var family = Array.isArray(name.family) ? name.family : [name.family];\n    var given = Array.isArray(name.given) ? name.given : [name.given];\n    var prefix = Array.isArray(name.prefix) ? name.prefix : [name.prefix];\n    var suffix = Array.isArray(name.suffix) ? name.suffix : [name.suffix];\n\n    return [prefix.map(function (t) {\n        return String(t || \"\").trim();\n    }).join(\" \"), given.map(function (t) {\n        return String(t || \"\").trim();\n    }).join(\" \"), family.map(function (t) {\n        return String(t || \"\").trim();\n    }).join(\" \"), suffix.map(function (t) {\n        return String(t || \"\").trim();\n    }).join(\" \")].filter(Boolean).join(\" \");\n}\n\n/**\n * Given a FHIR patient object, returns the patient's phone number (or empty string).\n * Note that if the patient have multiple phones this will only return the first one.\n * @param {Object} patient FHIR patient object\n * @returns {String} Patient's phone or an empty string\n */\nfunction getPatientPhone() {\n    var patient = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var phone = (patient.telecom || []).find(function (c) {\n        return c.system == \"phone\";\n    });\n    return phone ? phone.value : \"\";\n}\n\n/**\n * Given a FHIR patient object, returns the patient's email (or an empty string).\n * Note that if the patient have multiple emails this will only return the first one.\n * @param {Object} patient FHIR patient object\n * @returns {String} Patient's email address or an empty string\n */\nfunction getPatientEmail() {\n    var patient = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var phone = (patient.telecom || []).find(function (c) {\n        return c.system == \"email\";\n    });\n    return phone ? phone.value || \"\" : \"\";\n}\n\n/**\n * Extracts and returns a human-readable address string from FHIR patient object.\n * @param {Object} patient FHIR patient object\n * @returns {String} Patient's address or an empty string\n */\nfunction getPatientHomeAddress() {\n    var patient = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var a = patient.address || [];\n    a = a.find(function (c) {\n        return c.use == \"home\";\n    }) || a[0] || {};\n    var l = [a.line, a.postalCode, a.city, a.country].map(function (x) {\n        return String(x || \"\").trim();\n    }).filter(Boolean).join(\" \");\n    return l ? l : a.text || \"\";\n}\n\n/**\n * Extracts and returns a human-readable age string from FHIR patient object.\n * @param {Object} patient FHIR patient object\n * @returns {String} Patient's age\n */\nfunction getPatientAge(patient) {\n    var from = (0, _moment2.default)(patient.birthDate);\n    var to = (0, _moment2.default)(patient.deceasedDateTime || undefined);\n    var age = to - from;\n\n    var seconds = Math.round(age / 1000);\n    if (seconds < 60) {\n        return seconds + \" second\";\n    }\n\n    var minutes = Math.round(seconds / 60);\n    if (minutes < 60) {\n        return minutes + \" minute\";\n    }\n\n    var hours = Math.round(minutes / 60);\n    if (hours < 24) {\n        return hours + \" hour\";\n    }\n\n    var days = Math.round(hours / 24);\n    if (days < 30) {\n        return days + \" day\";\n    }\n\n    var months = Math.round(days / 30);\n    if (months < 24) {\n        return months + \" month\";\n    }\n\n    var years = Math.round(days / 365);\n    return years + \" year\";\n}\n\n/**\n * Extracts and returns an URL pointing to the patient photo (or an empty string)\n * @param {Object} patient FHIR patient object\n * @returns {String} Patient's image URL\n */\nfunction getPatientImageUri(patient) {\n    var base = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n\n    var data = getPath(patient, \"photo.0.data\") || \"\";\n    var url = getPath(patient, \"photo.0.url\") || \"\";\n    var type = getPath(patient, \"photo.0.contentType\") || \"\";\n    if (url.indexOf(\"/\") === 0) {\n        url = base + \"\" + url;\n    }\n    var http = url && url.match(/^https?:\\/\\//);\n    if (!http && data) {\n        if (type && data.indexOf(\"data:\") !== 0) {\n            data = \"data:\" + type + \";base64,\" + data;\n        }\n        url = data;\n    } else if (type && !http) {\n        url = \"data:\" + type + \";base64,\" + url;\n    }\n    return url;\n}\n\n/**\n * Return the display text for the given CodeableConcept\n * @param {Object} concept CodeableConcept\n * @returns {String}\n */\nfunction getCodeableConcept(concept) {\n    var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"-\";\n\n    return String(getPath(concept, \"coding.0.display\") || getPath(concept, \"coding.0.code\") || concept.text || defaultValue);\n}\n\n/**\n * Some elements are of type `code` in older FHIR versions, but have been\n * converted to CodeableConcept in later versions\n * @param {String|Object} data Code or CodeableConcept\n * @returns {String}\n */\nfunction getCodeOrConcept(data) {\n    var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"-\";\n\n    if (data === undefined) return defaultValue;\n    if (typeof data == \"string\") return data || defaultValue;\n    return getCodeableConcept(data, defaultValue);\n}\n\n/**\n * Given some input string (@input) and a string to search for (@query), this\n * function will highlight all the occurrences by wrapping them in\n * \"<span class=\"search-match\"></span>\" tag.\n * @param {String} input The input string\n * @param {String} query The string to search for\n * @param {Boolean} caseSensitive Defaults to false\n * @returns {String} The input string with the matches highlighted\n */\nfunction searchHighlight(input, query) {\n    var caseSensitive = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    var s = String(input);\n    var q = String(query);\n    var x = s;\n\n    if (!caseSensitive) {\n        x = x.toLowerCase();\n        q = q.toLowerCase();\n    }\n\n    var i = x.indexOf(q);\n\n    if (i > -1) {\n        return s.substr(0, i) + \"<span class=\\\"search-match\\\">\" + s.substr(i, q.length) + \"</span>\" + s.substr(i + q.length);\n    }\n\n    return input;\n}\n\n/**\n * Uses searchHighlight() to generate and return a JSX.span element containing\n * the @html string with @search highlighted\n * @param {String} html The input string\n * @param {String} search The string to search for\n * @returns {JSX.span} SPAN element with the matches highlighted\n */\nfunction renderSearchHighlight(html, search) {\n    return React.createElement(\"span\", { dangerouslySetInnerHTML: {\n            __html: search ? searchHighlight(html, search) : html\n        } });\n}\n\n/**\n * Given a fhir bundle fins it's link having the given rel attribute.\n * @param {Object} bundle FHIR JSON Bundle object\n * @param {String} rel The rel attribute to look for: prev|next|self... (see\n * http://www.iana.org/assignments/link-relations/link-relations.xhtml#link-relations-1)\n * @returns {String|null} Returns the url of the link or null if the link was\n *                        not found.\n */\nfunction getBundleURL(bundle, rel) {\n    var nextLink = bundle.link;\n    if (nextLink) {\n        nextLink = nextLink.find(function (l) {\n            return l.relation === rel;\n        });\n        return nextLink && nextLink.url ? nextLink.url : null;\n    }\n    return null;\n}\n\nfunction request(options) {\n    options = typeof options == \"string\" ? { url: options } : options || {};\n    var cfg = _jquery2.default.extend(true, options, {\n        headers: {\n            Accept: \"application/json+fhir\",\n            \"Authorization\": \"Bearer \" + _UserService2.default.getToken()\n        }\n    });\n\n    console.log(cfg);\n\n    return new Promise(function (resolve, reject) {\n        console.info(\"Requesting \" + decodeURIComponent(cfg.url));\n        console.info(\"Headers \" + cfg.headers);\n        _jquery2.default.ajax(cfg).then(resolve, function (xhr) {\n            var message = getErrorMessage(xhr);\n            if (message && typeof message == \"string\") {\n                return reject(new Error(message));\n            } else {\n                return reject({ message: message });\n            }\n        });\n    });\n}\n\nfunction getAllPages(options) {\n    var result = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    console.log(\"getAllPages : \" + options);\n    return request(options).then(function (bundle) {\n        (bundle.entry || []).forEach(function (item) {\n            if (item.fullUrl && result.findIndex(function (o) {\n                return o.fullUrl === item.fullUrl;\n            }) == -1) {\n                result.push(item);\n            }\n        });\n        var nextUrl = getBundleURL(bundle, \"next\");\n        if (nextUrl) {\n            return getAllPages(_extends({}, options, { url: nextUrl }), result);\n        }\n        return result;\n    });\n}\n\n/***/ })\n\n},[554]);\n\n\n// WEBPACK FOOTER //\n// index.js","import React     from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst ICONS = {\n    info   : \"fa fa-info-circle\",\n    warning: \"fa fa-exclamation-circle\",\n    danger : \"fa fa-exclamation-triangle\",\n    success: \"fa fa-thumbs-up\"\n};\n\nexport default class Alert extends React.Component\n{\n    static propTypes = {\n        type    : PropTypes.oneOf([\"info\", \"warning\", \"danger\", \"success\"]),\n        close   : PropTypes.bool,\n        icon    : PropTypes.bool,\n        children: PropTypes.any\n    };\n\n    static defaultProps = {\n        type : \"info\",\n        close: true,\n        icon : true\n    };\n\n    render() {\n        return (\n            <div className=\"container-fluid\" style={{ width: \"100%\" }}>\n                <div className=\"row\">\n                    <div className=\"col-xs-12\">\n                        <br/>\n                        <div className={ \"alert alert-\" + this.props.type }>\n                            {\n                                this.props.close ?\n                                <span\n                                    aria-hidden=\"true\"\n                                    data-dismiss=\"alert\"\n                                    className=\"close\"\n                                    style={{ lineHeight: \"1.2rem\" }}\n                                >&times;</span> :\n                                null\n                            }\n                            {\n                                this.props.icon ?\n                                <i className={ICONS[this.props.type]} style={{\n                                    marginRight: \"1ex\"\n                                }}/> :\n                                null\n                            }\n                            { this.props.children }\n                        </div>\n                        <br/>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./components/Alert/index.js","import React                from \"react\"\nimport PropTypes            from \"prop-types\"\nimport { connect }          from \"react-redux\"\nimport { showSelectedOnly } from \"../../redux/settings\"\nimport { setParam, fetch }  from \"../../redux/query\"\nimport { setAll, setSelectionCleared } from \"../../redux/selection\"\nimport \"./DialogFooter.less\"\n\nconst IS_POPUP  = window.opener && window.name;\nconst IS_FRAME  = parent !== self;\n\nclass SelectionUI extends React.Component {\n\n    static propTypes = {\n        settings        : PropTypes.object.isRequired,\n        selection       : PropTypes.object.isRequired,\n        onToggleSelectionVisibility: PropTypes.func.isRequired,\n        onResetSelection: PropTypes.func.isRequired,\n        canShowSelected : PropTypes.bool\n    };\n\n    render() {\n        let len = Object.keys(this.props.selection).filter(key => !!this.props.selection[key] && key !== \"selectionCleared\").length;\n        let viewClass = [\"btn\"];\n        let resetClass = [\"btn\"];\n\n        if (len === 0) {\n            viewClass.push(\"disabled\");\n            resetClass.push(\"disabled\");\n        }\n\n        if (this.props.settings.renderSelectedOnly) {\n            viewClass.push(\"active\");\n        }\n\n        const hasSelection = this.props.canShowSelected && len > 0\n        return (\n            <label disabled={ len === 0 }>\n                <span>\n                    { `${len} patient${len === 1 ? \"\" : \"s\"} selected${hasSelection ? ':' : ''}` }\n                </span>\n                { hasSelection ? (\n                    <div className=\"btn-group\">\n                        <div className={ viewClass.join(\" \") } onClick={\n                            () => {\n                                this.props.onToggleSelectionVisibility(\n                                    !this.props.settings.renderSelectedOnly\n                                );\n                            }\n                        }>View Selected</div>\n                        <div className={ resetClass.join(\" \") } onClick={\n                            () => { this.props.onResetSelection(); }\n                        }>Clear Selected</div>\n                    </div>\n                ) : null }\n            </label>\n        );\n    }\n}\n\nexport class DialogFooter extends React.Component\n{\n    static propTypes = {\n        selection       : PropTypes.object.isRequired,\n        settings        : PropTypes.object.isRequired,\n        showSelectedOnly: PropTypes.func.isRequired,\n        resetSelection  : PropTypes.func.isRequired,\n        setParam        : PropTypes.func.isRequired,\n        fetch           : PropTypes.func.isRequired,\n        canShowSelected : PropTypes.bool\n    };\n\n    /**\n     * Generates and returns the object that will be sent back to the client\n     * when the OK button is clicked\n     */\n    export() {\n        // debugger;\n        const selection = this.props.selection;\n\n        switch (this.props.settings.outputMode) {\n\n        case \"id-array\": // array of patient IDs\n            return Object.keys(selection).filter(k => !!selection[k] && k !== \"selectionCleared\");\n\n        case \"transactions\": // array of JSON transactions objects for each patient\n            return Object.keys(selection).filter(k => !!selection[k] && k !== \"selectionCleared\").map(\n                k => this.createPatientTransaction(selection[k])\n            );\n\n        case \"patients\": // array of patient JSON objects\n            return Object.keys(selection).filter(k => !!selection[k] && k !== \"selectionCleared\").map(\n                k => selection[k]\n            );\n\n        case \"id-list\": // comma-separated list of patient IDs (default)\n            return Object.keys(selection).filter(k => !!selection[k] && k !== \"selectionCleared\").join(\",\")\n        }\n    }\n\n    createPatientTransaction() {\n        throw new Error(\"No implemented\");\n    }\n\n    showSelectedOnly(bOn) {\n        if (bOn) {\n            const selection = this.props.selection;\n            this.props.setParam({\n                name : \"_id\",\n                value: Object.keys(selection).filter(k => !!selection[k]).join(\",\")\n            })\n        }\n        else {\n            this.props.setParam({\n                name : \"_id\",\n                value: undefined\n            })\n        }\n        this.props.showSelectedOnly(bOn)\n    }\n\n    renderDialogButtons() {\n        if (!IS_POPUP && !IS_FRAME) {\n            return null\n        }\n\n        const OWNER = window.opener || window.parent\n        let selectionCount = Object.keys(this.props.selection).filter(key => !!this.props.selection[key]).length;\n\n\n        return (\n            <div className=\"col-xs-6 text-right\">\n                <button className=\"btn btn-default\" onClick={ () => {\n                    OWNER.postMessage({ type: \"close\" }, \"*\")\n                }}>\n                    Cancel\n                </button>\n                <button className=\"btn btn-primary\" onClick={ () => {\n                    let confirmClose = true;\n                    if (selectionCount <= 0 && !this.props.selection.selectionCleared) {\n                        confirmClose = window.confirm(\"No patients have been selected. Choose 'Cancel' to return to making a selection or 'OK' to close without selecting\")\n                    }\n                    if (confirmClose) {\n                        OWNER.postMessage(\n                            {\n                                type: \"result\",\n                                data: this.export()\n                            },\n                            \"*\"\n                        );\n                    }\n                }}>\n                    OK\n                </button>\n            </div>\n        );\n    }\n\n    render() {\n        let selection = this.props.selection;\n        selection = Object.keys(selection).filter(k => !!selection[k])\n        return (\n            <div className=\"row dialog-buttons\">\n                <div className=\"col-xs-6 text-left\">\n                    <SelectionUI\n                        selection={ this.props.selection }\n                        settings={ this.props.settings }\n                        onToggleSelectionVisibility={ this.showSelectedOnly.bind(this) }\n                        onResetSelection={ this.props.resetSelection }\n                        canShowSelected={ this.props.canShowSelected }\n                    />\n                </div>\n                { this.renderDialogButtons() }\n            </div>\n        )\n    }\n}\n\nexport default connect(\n    state => ({\n        selection: state.selection,\n        settings : state.settings,\n        query    : state.query\n    }),\n    dispatch => ({\n        showSelectedOnly: bValue => {\n            dispatch(showSelectedOnly(bValue))\n            dispatch(fetch())\n        },\n        resetSelection  : () => {\n            dispatch(setAll({}))\n            dispatch(showSelectedOnly(false))\n            dispatch(setParam({ name: \"_id\", value: undefined }))\n            dispatch(fetch())\n            dispatch(setSelectionCleared())\n        },\n        setParam: (name, value) => dispatch(setParam(name, value)),\n        fetch: () => dispatch(fetch())\n    })\n)(DialogFooter)\n\n\n\n// WEBPACK FOOTER //\n// ./components/DialogFooter/index.js","import React               from \"react\"\nimport PropTypes           from \"prop-types\"\nimport { getErrorMessage } from \"../../lib\"\nimport Alert               from \"../Alert\"\n\nexport default class ErrorMessage extends React.Component\n{\n    static propTypes = {\n        error: PropTypes.oneOfType([PropTypes.string, PropTypes.object])\n    };\n\n    static defaultProps = {\n        error: \"Unknown Error\"\n    };\n\n    render() {\n        return (\n            <Alert type=\"danger\">\n                { getErrorMessage(this.props.error) }\n            </Alert>\n        )\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./components/ErrorMessage/index.js","import React from \"react\"\nimport \"./Loader.less\"\n\nexport default class Loader extends React.Component\n{\n    render() {\n        return (\n            <div className=\"loader\">\n                <div>\n                    <i className=\"fa fa-spinner spin\" /> Loading...\n                </div>\n            </div>\n        )\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./components/Loader/index.js","/* global jdenticon */\nimport React     from \"react\"\nimport PropTypes from \"prop-types\"\nimport {\n    getPatientImageUri,\n    getPatientName\n} from \"../../lib\"\n\nimport \"./PatientImage.less\"\n\nfunction hash(input) {\n    let out = String(input).toLowerCase().trim().split(\"\")\n        .reduce((sum, c) => sum + c.charCodeAt(0).toString(16), \"\");\n    while (out.length < 11) {\n        out += out.length ? out : \"000000000000\"\n    }\n    return out;\n}\n\nexport default class PatientImage extends React.Component\n{\n    static propTypes = {\n        patient  : PropTypes.object.isRequired,\n        className: PropTypes.string,\n        style    : PropTypes.object,\n        base     : PropTypes.string\n    };\n\n    static defaultProps = {\n        base: \"\"\n    };\n\n    componentDidMount() {\n        this.renderCanvas()\n    }\n\n    componentDidUpdate() {\n        this.renderCanvas()\n    }\n\n    renderCanvas() {\n        let url = getPatientImageUri(this.props.patient, this.props.base)\n        if (!url) {\n            let hex = hash(getPatientName(this.props.patient));\n            jdenticon.update(\"#img-\" + this.props.patient.id, hex, 0.1)\n        }\n    }\n\n    render() {\n        let { className, style, patient, base, ...rest } = this.props;\n        let url = getPatientImageUri(patient, this.props.base);\n        className = \"patient-image-wrap \" + (className || \"\")\n\n        style = { ...(style || {}) }\n\n        if (url) {\n            style.backgroundImage = `url('${url}')`\n            style.backgroundColor = 'rgba(255, 255, 255, 0.6)'\n        }\n\n        return (\n            <div className={className} style={style} {...rest}>\n                {\n                    url ?\n                    null :\n                    <canvas\n                        width=\"480\"\n                        height=\"480\"\n                        style={{ width: \"100%\", height: \"100%\" }}\n                        id={\"img-\" + patient.id}\n                    />\n                }\n            </div>\n        )\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./components/PatientImage/index.js","\nexport const CODE_SYSTEMS = {\n    'LOINC'     : { url: 'http://loinc.org'                            },\n    'SNOMED-CT' : { url: 'http://snomed.info/sct'                      },\n    'RxNorm'    : { url: 'http://www.nlm.nih.gov/research/umls/rxnorm' },\n    'CVX'       : { url: 'http://hl7.org/fhir/sid/cvx'                 },\n    'NUBC'      : { url: 'http://www.nubc.org/patient-discharge'       },\n    'UMLS'      : { url: 'http://uts.nlm.nih.gov/metathesaurus'        }\n};\n\n\n// WEBPACK FOOTER //\n// ./lib/constants.js","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/css-loader/lib/css-base.js\n// module id = 11\n// module chunks = 0","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\nvar stylesInDom = {},\n\tmemoize = function(fn) {\n\t\tvar memo;\n\t\treturn function () {\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\t\treturn memo;\n\t\t};\n\t},\n\tisOldIE = memoize(function() {\n\t\t// Test for IE <= 9 as proposed by Browserhacks\n\t\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t\t// Tests for existence of standard globals is to allow style-loader \n\t\t// to operate correctly into non-standard environments\n\t\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\t\treturn window && document && document.all && !window.atob;\n\t}),\n\tgetElement = (function(fn) {\n\t\tvar memo = {};\n\t\treturn function(selector) {\n\t\t\tif (typeof memo[selector] === \"undefined\") {\n\t\t\t\tmemo[selector] = fn.call(this, selector);\n\t\t\t}\n\t\t\treturn memo[selector]\n\t\t};\n\t})(function (styleTarget) {\n\t\treturn document.querySelector(styleTarget)\n\t}),\n\tsingletonElement = null,\n\tsingletonCounter = 0,\n\tstyleElementsInsertedAtTop = [],\n\tfixUrls = require(\"./fixUrls\");\n\nmodule.exports = function(list, options) {\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n\tif (typeof options.insertInto === \"undefined\") options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list);\n\taddStylesToDom(styles, options);\n\n\treturn function update(newList) {\n\t\tvar mayRemove = [];\n\t\tfor(var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\n\t\t\t\t\tdomStyle.parts[j]();\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom(styles, options) {\n\tfor(var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles(list) {\n\tvar styles = [];\n\tvar newStyles = {};\n\tfor(var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\t\tif(!newStyles[id])\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse\n\t\t\tnewStyles[id].parts.push(part);\n\t}\n\treturn styles;\n}\n\nfunction insertStyleElement(options, styleElement) {\n\tvar styleTarget = getElement(options.insertInto)\n\tif (!styleTarget) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\n\tif (options.insertAt === \"top\") {\n\t\tif(!lastStyleElementInsertedAtTop) {\n\t\t\tstyleTarget.insertBefore(styleElement, styleTarget.firstChild);\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\tstyleTarget.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\tstyleTarget.appendChild(styleElement);\n\t\t}\n\t\tstyleElementsInsertedAtTop.push(styleElement);\n\t} else if (options.insertAt === \"bottom\") {\n\t\tstyleTarget.appendChild(styleElement);\n\t} else {\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\n\t}\n}\n\nfunction removeStyleElement(styleElement) {\n\tstyleElement.parentNode.removeChild(styleElement);\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\n\tif(idx >= 0) {\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement(options) {\n\tvar styleElement = document.createElement(\"style\");\n\toptions.attrs.type = \"text/css\";\n\n\tattachTagAttrs(styleElement, options.attrs);\n\tinsertStyleElement(options, styleElement);\n\treturn styleElement;\n}\n\nfunction createLinkElement(options) {\n\tvar linkElement = document.createElement(\"link\");\n\toptions.attrs.type = \"text/css\";\n\toptions.attrs.rel = \"stylesheet\";\n\n\tattachTagAttrs(linkElement, options.attrs);\n\tinsertStyleElement(options, linkElement);\n\treturn linkElement;\n}\n\nfunction attachTagAttrs(element, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\telement.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle(obj, options) {\n\tvar styleElement, update, remove;\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\n\t} else if(obj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\") {\n\t\tstyleElement = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, styleElement, options);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t\tif(styleElement.href)\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\n\t\t};\n\t} else {\n\t\tstyleElement = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle(newObj) {\n\t\tif(newObj) {\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\n\t\t\t\treturn;\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = styleElement.childNodes;\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\n\t\tif (childNodes.length) {\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyleElement.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag(styleElement, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyleElement.setAttribute(\"media\", media)\n\t}\n\n\tif(styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = css;\n\t} else {\n\t\twhile(styleElement.firstChild) {\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\n\t\t}\n\t\tstyleElement.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink(linkElement, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/* If convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls){\n\t\tcss = fixUrls(css);\n\t}\n\n\tif(sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = linkElement.href;\n\n\tlinkElement.href = URL.createObjectURL(blob);\n\n\tif(oldSrc)\n\t\tURL.revokeObjectURL(oldSrc);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/style-loader/addStyles.js\n// module id = 13\n// module chunks = 0","import React       from \"react\"\nimport PropTypes   from \"prop-types\"\nimport { getPath } from \"../../../lib\"\nimport { connect } from \"react-redux\"\n\n/**\n * Renders group of resources in a grid (table) where each component represents\n * one row...\n */\nexport class Grid extends React.Component\n{\n    static propTypes = {\n        rows      : PropTypes.arrayOf(PropTypes.object).isRequired,\n        cols      : PropTypes.arrayOf(PropTypes.object).isRequired,\n        settings  : PropTypes.object.isRequired,\n        title     : PropTypes.string,\n        groupBy   : PropTypes.string,\n        comparator: PropTypes.func\n    };\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            __rows: this.sortRows(this.props.rows, this.props.comparator)\n        }\n    }\n\n    componentWillReceiveProps(newProps) {\n        if (Array.isArray(newProps.rows)) {\n            this.setState({\n                __rows: this.sortRows(newProps.rows, newProps.comparator)\n            });\n        }\n    }\n\n    sortRows(rows, comparator) {\n        if (!comparator) {\n            return rows\n        }\n        return rows.sort(comparator)\n    }\n\n    renderResource(res, i)\n    {\n        let url = `${this.props.settings.server.url}/${res.resourceType}/${res.id}`;\n        if (this.props.settings.fhirViewer.enabled) {\n            url = this.props.settings.fhirViewer.url +\n                (this.props.settings.fhirViewer.url.indexOf(\"?\") > -1 ? \"&\" : \"?\") +\n                this.props.settings.fhirViewer.param + \"=\" +\n                encodeURIComponent(url);\n        }\n\n        return (\n            <tr\n                key={i}\n                onClick={ () => window.open(url, \"_blank\") }\n                style={{ cursor: \"pointer\" }}\n            >\n                {\n                    this.props.cols.map((col, i) => {\n                        let { render, path, cellProps, defaultValue } = col\n                        cellProps = { ...cellProps, key: i }\n                        if (typeof render == \"function\") {\n                            return (\n                                <td {...cellProps}>\n                                    { render(res) }\n                                </td>\n                            )\n                        }\n                        return (\n                            <td {...cellProps}>\n                                {\n                                    getPath(res, path) ||\n                                    <small className=\"text-muted\">{ defaultValue || \"-\" }</small>\n                                }\n                            </td>\n                        )\n                    })\n                }\n            </tr>\n        )\n    }\n\n    renderRows() {\n        if (!this.state.__enableGrouping) {\n            return this.state.__rows.map(this.renderResource, this);\n        }\n\n        let groupColIndex = this.props.groupBy ?\n            this.props.cols.findIndex(c => c.name === this.props.groupBy || c.label === this.props.groupBy) :\n            -1;\n        let groupPath = groupColIndex > -1 ? this.props.cols[groupColIndex].path : null;\n\n        if (!groupPath) {\n            return this.state.__rows.map(this.renderResource, this);\n        }\n\n        const groups = {};\n        this.state.__rows.forEach((rec, i) => {\n            let groupValue = typeof groupPath == \"function\" ? groupPath(rec) : getPath(rec, groupPath);\n            groupValue = groupValue || \"Empty Group\";\n            if (!groups.hasOwnProperty(groupValue)) {\n                groups[groupValue] = []\n            }\n            groups[groupValue].push(this.renderResource(rec, i));\n        });\n\n        let out = [];\n        for (let group in groups) {\n            if (groups[group].length > 1) {\n                out.push(\n                    <tr className=\"group-header\" key={group}>\n                        <th colSpan={this.props.cols.length} onClick={() => this.setState({[group] : this.state[group] === false ? true : false })}>\n                        <i className={\"glyphicon glyphicon-triangle-\" + (\n                            this.state[group] !== false ? \"bottom\" : \"right\")\n                        }/> {group} <small className=\"badge\">{groups[group].length}</small>\n                        </th>\n                    </tr>\n                );\n                if (this.state[group] !== false) {\n                    out = out.concat(groups[group])\n                }\n            }\n            else {\n                out.push(<tr className=\"group-clear\" key={group}/>)\n                out = out.concat(groups[group])\n            }\n        }\n        return out;\n    }\n\n    render()\n    {\n        return (\n            <div className={\"panel panel-default\" + (this.state.__enableGrouping ? \" grouped\" : \"\")}>\n                {\n                    this.props.title ?\n                    <div className=\"panel-heading\">\n                        {\n                            this.props.groupBy && this.state.__rows.length > 1 &&\n                            <label className=\"pull-right\">\n                                Group by {this.props.groupBy\n                                } <input\n                                    type=\"checkbox\"\n                                    checked={!!this.state.__enableGrouping}\n                                    onChange={e => this.setState({\n                                        __enableGrouping: e.target.checked\n                                    })}\n                                />\n                            </label>\n                        }\n                        <b className=\"text-primary\">\n                            <i className=\"fa fa-address-card-o\"/> { this.props.title }\n                        </b>\n                    </div> :\n                    null\n                }\n                <div className=\"table-responsive\">\n                    <table className=\"table table-condensed table-hover table-striped table-bordered\" style={{\n                        minWidth: this.props.cols.length * 200\n                    }}>\n                        <thead>\n                            <tr>\n                                {\n                                    this.props.cols.map((col, i) => {\n                                        let { headerProps, label } = col\n                                        headerProps = { ...headerProps, key: i }\n                                        return (\n                                            <th {...headerProps}>\n                                                { label || \"\" }\n                                            </th>\n                                        )\n                                    })\n                                }\n                            </tr>\n                        </thead>\n                        <tbody>\n                            { this.renderRows() }\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default connect(state => ({\n    settings: state.settings\n}))(Grid);\n\n\n\n// WEBPACK FOOTER //\n// ./components/Fhir/Grid/index.js","import { createAction, handleActions } from \"redux-actions\"\nimport PatientSearch from \"../lib/PatientSearch\"\nimport {\n    parseQueryString,\n    getBundleURL\n} from \"../lib\"\n\nexport const queryBuilder = new PatientSearch(\n    parseQueryString(window.location.hash.split(\"?\")[1] || \"\")\n);\n\n/**\n * The initial state is just an empty object that will be filled\n * with query parameters.\n */\nconst INITIAL_STATE = {\n    ...queryBuilder.getState(),\n    loading: false,\n    error  : null,\n    bundle : null\n}\n\n// Private action constants\nconst SET_LOADING      = \"app/search/SET_LOADING\"\nconst SET_ERROR        = \"app/search/SET_ERROR\"\nconst SET_DATA         = \"app/search/SET_DATA\"\nconst SET_MIN_AGE      = \"app/search/SET_MIN_AGE\"\nconst SET_MAX_AGE      = \"app/search/SET_MAX_AGE\"\nconst SET_AGE_GROUP    = \"app/search/SET_AGE_GROUP\"\nconst ADD_CONDITION    = \"app/search/ADD_CONDITION\"\nconst DEL_CONDITION    = \"app/search/DEL_CONDITION\"\nconst ADD_TAG          = \"app/search/ADD_TAG\"\nconst DEL_TAG          = \"app/search/DEL_TAG\"\nconst SET_CONDITIONS   = \"app/search/SET_CONDITIONS\"\nconst SET_GENDER       = \"app/search/SET_GENDER\"\nconst SET_PARAM        = \"app/search/SET_PARAM\"\nconst SET_QUERY_STRING = \"app/search/SET_QUERY_STRING\"\nconst SET_QUERY_TYPE   = \"app/search/SET_QUERY_TYPE\"\nconst SET_SORT         = \"app/search/SET_SORT\"\nconst SET_TAGS         = \"app/search/SET_TAGS\"\nconst SET_LIMIT        = \"app/search/SET_LIMIT\"\n\n\n// Create (and export) the redux actions ---------------------------------------\nexport const setLoading     = createAction(SET_LOADING)\nexport const setError       = createAction(SET_ERROR)\nexport const setData        = createAction(SET_DATA)\nexport const setMinAge      = createAction(SET_MIN_AGE)\nexport const setMaxAge      = createAction(SET_MAX_AGE)\nexport const setAgeGroup    = createAction(SET_AGE_GROUP)\nexport const addCondition   = createAction(ADD_CONDITION)\nexport const delCondition   = createAction(DEL_CONDITION)\nexport const setConditions  = createAction(SET_CONDITIONS)\nexport const setGender      = createAction(SET_GENDER)\nexport const setParam       = createAction(SET_PARAM)\nexport const setQueryString = createAction(SET_QUERY_STRING)\nexport const setQueryType   = createAction(SET_QUERY_TYPE)\nexport const setSort        = createAction(SET_SORT)\nexport const addTag         = createAction(ADD_TAG)\nexport const delTag         = createAction(DEL_TAG)\nexport const setTags        = createAction(SET_TAGS)\nexport const setLimit       = createAction(SET_LIMIT)\n\n\nexport const fetch = function() {\n    return (dispatch, getState) => {\n        dispatch(setLoading(true))\n        dispatch(setError(null))\n        const { settings } = getState()\n        queryBuilder.fetch(settings.server).then(\n            bundle => {\n                dispatch(setData(bundle))\n                dispatch(setLoading(false))\n            },\n            function(error) {\n                dispatch(setError(error))\n                dispatch(setLoading(false))\n            }\n        )\n    }\n}\n\nexport const goNext = function() {\n    return (dispatch, getState) => {\n        const { bundle } = getState().query;\n        let url = getBundleURL(bundle, \"next\");\n        if (url) {\n            url = parseQueryString(url);\n            queryBuilder.setOffset(url._getpages, +url._getpagesoffset);\n            dispatch(fetch());\n        }\n    }\n}\n\nexport const goPrev = function() {\n    return (dispatch, getState) => {\n        const { bundle } = getState().query;\n        let url = getBundleURL(bundle, \"previous\");\n        if (url) {\n            url = parseQueryString(url);\n            queryBuilder.setOffset(url._getpages, +url._getpagesoffset);\n            dispatch(fetch());\n        }\n    }\n}\n\n\n\n\n// Export the reducer as default\nexport default handleActions({\n\n    [SET_SORT]: (state, action) => {\n        queryBuilder.setSort(action.payload)\n        return { ...state, ...queryBuilder.getState() }\n    },\n\n    [SET_QUERY_STRING]: (state, action) => {\n        queryBuilder.setQueryString(action.payload)\n        return { ...state, ...queryBuilder.getState() }\n    },\n\n    [SET_QUERY_TYPE]: (state, action) => {\n        queryBuilder.setQueryType(action.payload)\n        return { ...state, ...queryBuilder.getState() }\n    },\n\n    [SET_PARAM]: (state, action) => {\n        queryBuilder.setParam(action.payload.name, action.payload.value)\n        return { ...state, ...queryBuilder.getState() }\n    },\n\n    [SET_MIN_AGE]: (state, action) => {\n        queryBuilder.setMinAge(action.payload)\n        return { ...state, ...queryBuilder.getState() }\n    },\n\n    [SET_MAX_AGE]: (state, action) => {\n        queryBuilder.setMaxAge(action.payload)\n        return { ...state, ...queryBuilder.getState() }\n    },\n\n    [SET_AGE_GROUP]: (state, action) => {\n        queryBuilder.setAgeGroup(action.payload)\n        return { ...state, ...queryBuilder.getState() }\n    },\n\n    [ADD_CONDITION]: (state, action) => {\n        queryBuilder.addCondition(action.payload.key, action.payload.value)\n        return { ...state, ...queryBuilder.getState() }\n    },\n\n    [SET_CONDITIONS]: (state, action) => {\n        queryBuilder.setConditions(action.payload)\n        return { ...state, ...queryBuilder.getState() }\n    },\n\n    [DEL_CONDITION]: (state, action) => {\n        queryBuilder.removeCondition(action.payload)\n        return { ...state, ...queryBuilder.getState() }\n    },\n\n    [ADD_TAG]: (state, action) => {\n        queryBuilder.addTag(action.payload)\n        return { ...state, ...queryBuilder.getState() }\n    },\n\n    [DEL_TAG]: (state, action) => {\n        queryBuilder.removeTag(action.payload)\n        return { ...state, ...queryBuilder.getState() }\n    },\n\n    [SET_TAGS]: (state, action) => {\n        queryBuilder.setTags(action.payload)\n        return { ...state, ...queryBuilder.getState() }\n    },\n\n    [SET_GENDER]: (state, action) => {\n        queryBuilder.setGender(action.payload)\n        return { ...state, ...queryBuilder.getState() }\n    },\n\n    [SET_LIMIT]: (state, action) => {\n        queryBuilder.setLimit(action.payload)\n        return { ...state, ...queryBuilder.getState() }\n    },\n\n    /**\n     * Sets the loading state of the query\n     */\n    [SET_LOADING]: (state, action) => ({\n        ...state,\n        ...queryBuilder.getState(),\n        loading: !!action.payload\n    }),\n\n    /**\n     * Sets the error state of the query\n     */\n    [SET_ERROR]: (state, action) => ({\n        ...state,\n        ...queryBuilder.getState(),\n        error: action.payload\n    }),\n\n    /**\n     * Sets the data fetched by the query\n     */\n    [SET_DATA]: (state, action) => ({\n        ...state,\n        ...queryBuilder.getState(),\n        bundle: action.payload\n    })\n\n}, INITIAL_STATE)\n\n\n\n// WEBPACK FOOTER //\n// ./redux/query.js","import Keycloak from \"keycloak-js\";\n\nconst _kc = new Keycloak('/keycloak.json');\n\n/**\n * Initializes Keycloak instance and calls the provided callback function if successfully authenticated.\n *\n * @param onAuthenticatedCallback\n */\nconst initKeycloak = (onAuthenticatedCallback) => {\n  _kc.init({\n    onLoad: 'login-required',\n    silentCheckSsoRedirectUri: window.location.origin + '/silent-check-sso.html',\n    pkceMethod: 'S256',\n  })\n    .then((authenticated) => {\n      if (!authenticated) {\n        console.log(\"user is not authenticated..!\");\n      }\n      onAuthenticatedCallback();\n    })\n    .catch(() => { console.error(); });\n};\n\nconst doLogin = _kc.login;\n\nconst doLogout = _kc.logout;\n\nconst getToken = () => _kc.token;\n\nconst isLoggedIn = () => !!_kc.token;\n\nconst updateToken = (successCallback) =>\n  _kc.updateToken(5)\n    .then(successCallback)\n    .catch(doLogin);\n\nconst getUsername = () => _kc.tokenParsed ? _kc.tokenParsed.preferred_username : \"\";\n\nconst hasRole = (roles) => roles.some((role) => _kc.hasRealmRole(role));\n\nconst UserService = {\n  initKeycloak,\n  doLogin,\n  doLogout,\n  isLoggedIn,\n  getToken,\n  updateToken,\n  getUsername,\n  hasRole,\n};\n\nexport default UserService;\n\n\n\n// WEBPACK FOOTER //\n// ./services/UserService.js","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport UserService from \"./services/UserService\"\n//import HttpService from \"./services/HttpService\"\n\nimport RootPage from \"./components/RootPage\"\n\n\nvar callback = () => {\n    console.log(\" Callback Invoked  :  \" + UserService.isLoggedIn());\n    ReactDOM.render(\n        <RootPage/>,\n        document.getElementById(\"main\")\n    )\n}\n\n/* $(function () {\n    $(\"body\").tooltip({\n        selector: \".patient-detail-page [title]\"\n    })\n})\n */\nUserService.initKeycloak(callback);\n//HttpService.configure();\n\n\n// WEBPACK FOOTER //\n// ./index.js","import React  from \"react\"\nimport moment from \"moment\"\nimport PropTypes from \"prop-types\"\nimport \"./AgeSelector.less\"\n\nexport default class AgeSelector extends React.Component\n{\n    static propTypes = {\n        min: PropTypes.shape({\n            value: PropTypes.number,\n            units: PropTypes.oneOf([\"years\", \"months\", \"days\"])\n        }),\n        max: PropTypes.shape({\n            value: PropTypes.number,\n            units: PropTypes.oneOf([\"years\", \"months\", \"days\"])\n        }),\n        group: PropTypes.string,\n        onMinChange  : PropTypes.func,\n        onMaxChange  : PropTypes.func,\n        onGroupChange: PropTypes.func,\n        update       : PropTypes.func\n    };\n\n    static defaultProps = {\n        min: {\n            value: 0,\n            units: \"years\"\n        },\n        max: {\n            value: 100,\n            units: \"years\"\n        },\n        group: \"\",\n        update: () => alert(\"No update function provided!\")\n    };\n\n    constructor(...args) {\n        super(...args)\n        this.onChangeMinValue = this.onChangeMinValue.bind(this)\n        this.onChangeMinUnits = this.onChangeMinUnits.bind(this)\n        this.onChangeMaxValue = this.onChangeMaxValue.bind(this)\n        this.onChangeMaxUnits = this.onChangeMaxUnits.bind(this)\n        this.onGroupChange    = this.onGroupChange   .bind(this)\n        this.state = this._propsToState(this.props);\n    }\n\n    _propsToState(props) {\n        let state = {}\n        if (props.min && typeof props.min == \"object\") {\n            if (props.min.hasOwnProperty(\"value\")) {\n                state.minValue = isNaN(props.min.value) ? \"\" : props.min.value;\n            }\n            if (props.min.hasOwnProperty(\"units\")) {\n                state.minUnits = props.min.units;\n            }\n        }\n        if (props.max && typeof props.max == \"object\") {\n            if (props.max.hasOwnProperty(\"value\")) {\n                state.maxValue = isNaN(props.max.value) ? \"\" : props.max.value;\n            }\n            if (props.max.hasOwnProperty(\"units\")) {\n                state.maxUnits = props.max.units;\n            }\n        }\n\n        return state;\n    }\n\n    componentWillReceiveProps(newProps) {\n        let newState = this._propsToState(newProps);\n        if (Object.keys(newState).length) {\n            this.setState(newState);\n        }\n    }\n\n    // Event handlers ----------------------------------------------------------\n\n    /**\n     * When the numeric value of the min-age changes\n     * @param {Event} e\n     */\n    onChangeMinValue(e) {\n        if (this.props.onMinChange) {\n            let min = {\n                value: e.target.valueAsNumber || parseFloat(e.target.value || \"0\"),\n                units: this.props.min.units\n            }\n\n            if (this.canSet(min, this.props.max)) {\n                this.props.onMinChange(min)\n            }\n            else {\n                this.setState(this._propsToState({ min }));\n            }\n        }\n    }\n\n    /**\n     * When the units of the min-age change\n     * @param {Event} e\n     */\n    onChangeMinUnits(e) {\n        if (this.props.onMinChange) {\n            let min = {\n                value: this.props.min.value,\n                units: e.target.value\n            };\n            if (this.canSet(min, this.props.max)) {\n                this.props.onMinChange(min)\n            }\n            else {\n                this.setState(this._propsToState({ min }));\n            }\n        }\n    }\n\n    /**\n     * When the numeric value of the max-age changes\n     * @param {Event} e\n     */\n    onChangeMaxValue(e) {\n        if (this.props.onMaxChange) {\n            let max = {\n                value: e.target.valueAsNumber || parseFloat(e.target.value || \"0\"),\n                units: this.props.max.units\n            };\n            if (this.canSet(this.props.min, max)) {\n                this.props.onMaxChange(max)\n            }\n            else {\n                this.setState(this._propsToState({ max }));\n            }\n        }\n    }\n\n    /**\n     * When the units of the max-age change\n     * @param {Event} e\n     */\n    onChangeMaxUnits(e) {\n        if (this.props.onMaxChange) {\n            let max = {\n                value: this.props.max.value,\n                units: e.target.value\n            };\n            if (this.canSet(this.props.min, max)) {\n                this.props.onMaxChange(max)\n            }\n            else {\n                this.setState(this._propsToState({ max }));\n            }\n        }\n    }\n\n    /**\n     * When the selected age group changes\n     * @param {Event} e\n     */\n    onGroupChange(e) {\n        if (this.props.onGroupChange) {\n            this.props.onGroupChange(e.target.value)\n        }\n    }\n\n    // Validators and helper methods -------------------------------------------\n\n    /**\n     * Given two dates (as value and units) returns true if min is before max.\n     * This is used to validate inputs and prevent the user from entering\n     * invalid ranges\n     * @param {Object} min The min date as { value: number, units: string }\n     * @param {Object} max The max date as { value: number, units: string }\n     * @returns {Boolean}\n     */\n    canSet(min, max) {\n        let maxDuration = moment.duration(max.value, max.units);\n        let minDuration = moment.duration(min.value, min.units);\n        return minDuration < maxDuration;\n    }\n\n    // Rendering methods -------------------------------------------------------\n\n    render() {\n        let valid = this.canSet({\n            value: this.state.minValue,\n            units: this.state.minUnits\n        }, {\n            value: this.state.maxValue,\n            units: this.state.maxUnits\n        });\n        return (\n            <div className={ \"age-widget-wrap form-control input-sm\" + (this.props.group == \"**custom**\" ? \" custom\" : \"\")}>\n                <select\n                    onChange={ this.onGroupChange }\n                    value={ this.props.group || \"\" }\n                >\n                    <option value=\"\">Any Age</option>\n                    <option value=\"infant\">Infants (0 - 12 months, Alive only)</option>\n                    <option value=\"child\">Children (1 - 18 years, Alive only)</option>\n                    <option value=\"adult\">Adults (18 - 65 years, Alive only)</option>\n                    <option value=\"elderly\">Elderly (65+ years, Alive only)</option>\n                    <option value=\"**custom**\">\n                        {\n                            this.props.group == \"**custom**\" ?\n                            \"Custom Age, Alive only:\" :\n                            \"Custom Age, Alive only\"\n                        }\n                    </option>\n                </select>\n                {\n                    this.props.group == \"**custom**\" ?\n                    <div className={ \"age-widget\" + (valid ? \"\" : \" invalid\") }>\n                        <span>Min:</span>\n                        <input\n                            type=\"number\"\n                            value={ this.state.minValue }\n                            onChange={ this.onChangeMinValue }\n                            min={0}\n                            step={1}\n                        /><select\n                            value={ this.state.minUnits }\n                            onChange={ this.onChangeMinUnits }\n                        >\n                            <option value=\"years\">Years</option>\n                            <option value=\"months\">Months</option>\n                            <option value=\"days\">Days</option>\n                        </select>\n                    </div> : null\n                }\n                {\n                    this.props.group == \"**custom**\" ?\n                    <div className={ \"age-widget\" + (valid ? \"\" : \" invalid\") }>\n                        <span>Max:</span>\n                        <input\n                            type=\"number\"\n                            value={ this.state.maxValue }\n                            onChange={ this.onChangeMaxValue }\n                            min={0}\n                            step={1}\n                        /><select\n                            value={ this.state.maxUnits }\n                            onChange={ this.onChangeMaxUnits }\n                        >\n                            <option value=\"years\">Years</option>\n                            <option value=\"months\">Months</option>\n                            <option value=\"days\">Days</option>\n                        </select>\n                    </div> : null\n                }\n            </div>\n        )\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./components/AgeSelector/index.js","import React         from \"react\"\nimport PropTypes     from \"prop-types\";\nimport $             from \"jquery\"\nimport JSON5         from \"json5\"\nimport { connect }   from \"react-redux\"\nimport Loader        from \"../Loader\"\nimport ErrorMessage  from \"../ErrorMessage\"\nimport { fetch, setLimit } from \"../../redux/query\"\nimport { merge }     from \"../../redux/settings\"\nimport { parseQueryString } from \"../../lib\"\nimport                    \"./App.less\"\n\nconst OWNER = window.opener || (window.parent === self ? null : window.parent);\nconst DEFAULT_CONFIG = \"default\";\n\n\n\nexport class App extends React.Component\n{\n    static propTypes = {\n        children : PropTypes.any,\n        settings : PropTypes.object.isRequired,\n        dispatch : PropTypes.func.isRequired\n    };\n\n    constructor(...args) {\n        super(...args)\n        this.state = {\n            error: null\n        };\n    }\n\n    handleUiBlocking() {\n        let runningRequests = 0, hideDelay;\n\n        const handle = () => {\n            if (hideDelay) {\n                clearTimeout(hideDelay)\n            }\n            if (runningRequests > 0) {\n                $(\"#overlay\").show();\n            }\n            else {\n                hideDelay = setTimeout(() => {\n                    $(\"#overlay\").hide();\n                }, 200)\n            }\n        };\n\n        $(document).ajaxStart(() => {\n            runningRequests++;\n            handle();\n        });\n\n        $(document).ajaxComplete(() => {\n            runningRequests = Math.max(--runningRequests, 0);\n            handle();\n        })\n    }\n\n    componentDidMount() {\n\n        this.handleUiBlocking();\n\n        let { config, ...params } = parseQueryString(window.location.search);\n\n        let settings = {};\n        $.ajax({\n            url     : `./config/${config || DEFAULT_CONFIG}.json5`,\n            dataType: \"text\",\n            cache   : false\n        }).then(\n            json => {\n                json = JSON5.parse(json);\n                $.ajaxSetup({ timeout: json.timeout || 20000 });\n                settings = { ...json, ...params }\n            },\n            errorXHR => {\n                console.warn(\"Loading custom config: \" + errorXHR.statusText);\n            }\n        ).always(() => {\n            let settingReceived = false;\n\n            const onMessage = e => {\n                if (e.data.type == 'config' &&\n                    e.data.data &&\n                    typeof e.data.data == \"object\")\n                {\n                    settingReceived = true;\n                    this.props.dispatch(merge(e.data.data));\n                    this.props.dispatch(fetch());\n                }\n            };\n\n            this.props.dispatch(merge(settings));\n            this.props.dispatch(setLimit(settings.patientsPerPage));\n\n            if (OWNER) {\n\n                window.addEventListener(\"unload\", function() {\n                    OWNER.postMessage({ type: \"close\" }, \"*\")\n                });\n\n                window.addEventListener(\"message\", onMessage);\n\n                setTimeout(() => {\n                    window.removeEventListener(\"message\", onMessage);\n                    if (!settingReceived) {\n                        this.props.dispatch(fetch());\n                    }\n                }, 1000);\n\n                OWNER.postMessage({ type: \"ready\" }, \"*\");\n            }\n            else {\n                this.props.dispatch(fetch());\n            }\n        })\n    }\n\n    render() {\n        if (this.state.error) {\n            return <ErrorMessage error={this.state.error}/>\n        }\n        if (!this.props.settings || !this.props.settings.loaded) {\n            return <div className=\"app\"><Loader/></div>\n        }\n        return <div className=\"app\">{this.props.children}</div>\n    }\n}\n\nexport default connect(state => ({...state}))(App)\n\n\n\n// WEBPACK FOOTER //\n// ./components/App/index.js","import React       from \"react\"\nimport PropTypes   from \"prop-types\"\nimport Grid        from \"./Grid\"\nimport { getPath } from \"../../lib\"\nimport Period      from \"./Period\"\nimport moment      from \"moment\"\n\nexport default class CarePlan extends React.Component\n{\n    static propTypes = {\n        resources: PropTypes.arrayOf(PropTypes.object)\n    };\n\n    render()\n    {\n        return (\n            <Grid\n                rows={ (this.props.resources || []).map(o => o.resource) }\n                title=\"CarePlan\"\n                groupBy=\"Category\"\n                comparator={(a,b) => {\n                    let dA = getPath(a, \"period.start\");\n                    let dB = getPath(b, \"period.start\");\n                    dA = dA ? +moment(dA) : 0;\n                    dB = dB ? +moment(dB) : 0;\n                    return dB - dA;\n                }}\n                cols={[\n                    {\n                        label: \"Category\",\n                        path: \"category.0.coding.0.display\",\n                        render: rec => (\n                            <b>\n                                { getPath(rec, \"category.0.coding.0.display\") }\n                            </b>\n                        )\n                    },\n                    {\n                        label: \"Reason\",\n                        render: rec => (rec.activity || []).map((a, i) => {\n                            let reason = getPath(a, \"detail.code.coding.0.display\") || \"\"\n                            return reason ? (\n                                <div key={i}>\n                                    { reason }\n                                    <span> - </span>\n                                    <span className=\"text-muted\">{\n                                        getPath(a, \"detail.status\") || \"no data\"\n                                    }</span>\n                                </div>\n                            ) : \"\"\n                        })\n                    },\n                    {\n                        label: \"Period\",\n                        render: o => Period(o.period)\n                    },\n                    {\n                        label: \"Status\",\n                        path : \"status\"\n                    }\n                ]}\n            />\n        )\n    }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./components/Fhir/CarePlan.js","import React            from \"react\"\nimport PropTypes        from \"prop-types\"\nimport { CODE_SYSTEMS } from \"../../lib/constants\"\nimport Grid             from \"./Grid\"\nimport Date             from \"./Date\"\nimport { getPath, getCodeOrConcept } from \"../../lib\"\nimport moment           from \"moment\"\n\nexport default class ConditionList extends React.Component\n{\n    static propTypes = {\n        resources: PropTypes.arrayOf(PropTypes.object)\n    };\n\n    render()\n    {\n        let recs   = this.props.resources || []\n        let length = recs.length;\n        return (\n            <Grid\n                rows={(recs || []).map(o => o.resource)}\n                title={`${length} Condition${length === 1 ? \"\" : \"s\"}`}\n                comparator={(a,b) => {\n                    let dA = getPath(a, \"onsetDateTime\");\n                    let dB = getPath(b, \"onsetDateTime\");\n                    dA = dA ? +moment(dA) : 0;\n                    dB = dB ? +moment(dB) : 0;\n                    return dB - dA;\n                }}\n                cols={[\n                    {\n                        label: \"Condition\",\n                        render: o => {\n                            let name   = \"-\";\n                            let code   = \"-\";\n                            let system = \"\";\n\n                            if (o.code) {\n                                if (o.code.text) {\n                                    name = o.code.text;\n                                }\n                                if (Array.isArray(o.code.coding) && o.code.coding.length) {\n                                    let c = o.code.coding[0]\n\n                                    system = c.system\n                                    for (let key in CODE_SYSTEMS) {\n                                        if (CODE_SYSTEMS[key].url === c.system) {\n                                            system = `(${key})`;\n                                            break;\n                                        }\n                                    }\n\n                                    if (c.display) {\n                                        name = c.display\n                                    }\n                                    if (c.code) {\n                                        code = c.code\n                                    }\n                                }\n                            }\n                            return (\n                                <div>\n                                    <b>{ name }</b>\n                                    <small className=\"text-muted pull-right\">\n                                        { code } {system}\n                                    </small>\n                                </div>\n                            )\n                        }\n                    },\n                    {\n                        label: <div className=\"text-center\">Clinical Status</div>,\n                        render: o => <div className=\"text-center\">{ getCodeOrConcept(o.clinicalStatus) }</div>\n                    },\n                    {\n                        label : <div className=\"text-center\">Verification Status</div>,\n                        render: o => <div className=\"text-center\">{ getCodeOrConcept(o.verificationStatus) }</div>\n                    },\n                    {\n                        label: <div className=\"text-center\">Onset Date</div>,\n                        render : o => {\n                            let onset = o.onsetDateTime || \"\";\n                            return (\n                                <div className=\"text-center\">\n                                    {\n                                        onset ?\n                                        <Date moment={o.onsetDateTime}/> :\n                                        \"-\"\n                                    }\n                                </div>\n                            );\n                        }\n                    }\n                ]}\n            />\n        )\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./components/Fhir/ConditionList.js","import React       from \"react\"\nimport PropTypes   from \"prop-types\"\nimport moment      from \"moment\"\nimport Grid        from \"./Grid\"\nimport { getPath } from \"../../lib\"\nimport Period      from \"./Period\"\n\nfunction getEncounterClass(encounter) {\n    return encounter.class && typeof encounter.class == \"object\" ?\n        getPath(encounter, \"class.type.0.text\") :\n        encounter.class;\n}\n\nfunction getEncounterLabel(encounter) {\n    let result = getPath(encounter, \"type.0.text\");\n    if (result) {\n        return result;\n    }\n    let _class = getEncounterClass(encounter);\n    if (_class) {\n        return _class + \" encounter\";\n    }\n    return \"\";\n}\n\nexport default class Encounter extends React.Component\n{\n    static propTypes = {\n        resources: PropTypes.arrayOf(PropTypes.object)\n    };\n\n    render()\n    {\n        return (\n            <Grid\n                rows={ (this.props.resources || []).map(o => o.resource) }\n                title={ `Encounter${this.props.resources.length === 1 ? \"\" : \"s\"}` }\n                groupBy=\"Type\"\n                comparator={(a,b) => {\n                    let dA = getPath(a, \"period.start\");\n                    let dB = getPath(b, \"period.start\");\n                    dA = dA ? +moment(dA) : 0;\n                    dB = dB ? +moment(dB) : 0;\n                    return dB - dA;\n                }}\n                cols={[\n                    {\n                        label: \"Type\",\n                        path: rec => getEncounterLabel(rec),\n                        render: rec => {\n                            let result = getPath(rec, \"type.0.text\");\n                            if (result) {\n                                return <b>{ result }</b>;\n                            }\n                            let _class = getEncounterClass(rec);\n                            if (_class) {\n                                return (\n                                    <span className=\"text-muted\">{_class + \" encounter\"}</span>\n                                );\n                            }\n                            return <small className=\"text-muted\">N/A</small>;\n                        }\n                    },\n                    {\n                        label: \"Reason\",\n                        path : \"reason.0.coding.0.display\",\n                        defaultValue: \"N/A\"\n                    },\n                    {\n                        label: \"Class\",\n                        render: rec => {\n                            let result = getEncounterClass(rec);\n                            return result ?\n                                <b>{ result }</b> :\n                                <small className=\"text-muted\">N/A</small>;\n                        }\n                    },\n                    {\n                        label: \"Status\",\n                        path : \"status\",\n                        defaultValue: \"N/A\"\n                    },\n                    {\n                        label: \"Time\",\n                        path : \"period\",\n                        render: o => Period(o.period || {})\n                    }\n                ]}\n            />\n        )\n    }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./components/Fhir/Encounter.js","import React       from \"react\"\nimport PropTypes   from \"prop-types\"\nimport moment      from \"moment\"\nimport Grid        from \"./Grid\"\nimport Date        from \"./Date\"\nimport { getPath } from \"../../lib\"\n\nexport default class ImmunizationList extends React.Component\n{\n    static propTypes = {\n        resources: PropTypes.arrayOf(PropTypes.object)\n    };\n\n    render()\n    {\n        return (\n            <Grid\n                rows={ (this.props.resources || []).map(o => o.resource) }\n                title=\"Immunizations\"\n                groupBy=\"Type\"\n                comparator={(a,b) => {\n                    let dA = getPath(a, \"date\");\n                    let dB = getPath(b, \"date\");\n                    dA = dA ? +moment(dA) : 0;\n                    dB = dB ? +moment(dB) : 0;\n                    return dB - dA;\n                }}\n                cols={[\n                    {\n                        label: \"Type\",\n                        path : \"vaccineCode.coding.0.display\"\n                    },\n                    {\n                        label: \"Status\",\n                        render: o => o.status || \"-\"\n                    },\n                    {\n                        label: \"Date\",\n                        render: o => (\n                            o.date ?\n                                <Date moment={o.date}/> :\n                                o.occurrenceDateTime ?\n                                    <Date moment={o.occurrenceDateTime}/> :\n                                    o.occurrenceString || \"-\"\n                        )\n                    }\n                ]}\n            />\n        );\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./components/Fhir/ImmunizationList.js","import React       from \"react\"\nimport PropTypes   from \"prop-types\"\nimport moment      from \"moment\"\nimport { getPath } from \"../../lib\"\nimport Grid        from \"./Grid\"\nimport ValueRange  from \"./ValueRange\"\nimport Time        from \"./Time\"\nimport Period      from \"./Period\"\nimport Date        from \"./Date\"\n\nexport default class Observations extends React.Component\n{\n    static propTypes = {\n        resources: PropTypes.arrayOf(PropTypes.object)\n    };\n\n    getObservationLabel(o) {\n        return (\n            getPath(o, \"code.coding.0.display\") ||\n            getPath(o, \"code.text\") ||\n            getPath(o, \"valueQuantity.code\")\n        );\n    }\n\n    renderObservation(o, includeLabel = false) {\n        if (Array.isArray(o.component)) {\n            return o.component.map((c, i) => {\n                let result = this.renderObservation(c, true);\n                return (\n                    <span key={i}>\n                        { i > 0 && <span>,&nbsp;</span> }\n                        {result}\n                    </span>\n                );\n            });\n        }\n\n        const returnResult = result => {\n            return (\n                <span>\n                    {includeLabel && <label className=\"text-muted\">{\n                        this.getObservationLabel(o)\n                        .replace(/^\\s*(Systolic|Diastolic)\\s+blood\\s+pressure\\s*$/gi, \"$1\")\n                    }:&nbsp;</label>}\n                    {result}\n                </span>\n            );\n        };\n\n        // valueBoolean\n        if (o.hasOwnProperty(\"valueBoolean\")) {\n            return returnResult(\n                !o.valueBoolean || o.valueBoolean == \"false\" ?\n                \"Negative\" :\n                \"Positive\"\n            );\n        }\n\n        // valueString\n        if (o.hasOwnProperty(\"valueString\")) {\n            return returnResult(String(o.valueString));\n        }\n\n        // valueRange\n        if (o.hasOwnProperty(\"valueRange\")) {\n            return returnResult(<ValueRange range={o.valueRange}/>)\n        }\n\n        // valueTime\n        if (o.hasOwnProperty(\"valueTime\")) {\n            return returnResult(<Time moment={o.valueTime}/>)\n        }\n\n        // valueDateTime\n        if (o.hasOwnProperty(\"valueDateTime\")) {\n            return returnResult(<Date moment={o.valueDateTime}/>)\n        }\n\n        // valuePeriod\n        if (o.hasOwnProperty(\"valuePeriod\")) {\n            return returnResult(Period(o.valuePeriod));\n        }\n\n        // valueCodeableConcept\n        if (o.hasOwnProperty(\"valueCodeableConcept\")) {\n            return returnResult(getPath(o, \"valueCodeableConcept.coding.0.display\"));\n        }\n\n        // valueQuantity\n        if (o.hasOwnProperty(\"valueQuantity\")) {\n            let value = getPath(o, \"valueQuantity.value\");\n            let units = getPath(o, \"valueQuantity.unit\");\n\n            if (!isNaN(parseFloat(value))) {\n                value = Math.round(value * 100) / 100;\n            }\n\n            return returnResult(\n                <span>{value} <span className=\"text-muted\">{units}</span></span>\n            );\n        }\n\n        /* TODO:\n        valueRatio      : Ratio\n        valueSampledData: SampledData\n        valueAttachment : Attachment\n        */\n\n        return returnResult(<span className=\"text-muted\">N/A</span>)\n    }\n\n    render()\n    {\n        return (\n            <Grid\n                rows={ (this.props.resources || []).map(o => o.resource) }\n                title=\"Observations\"\n                groupBy=\"Name\"\n                comparator={(a,b) => {\n                    let dA = getPath(a, \"effectiveDateTime\") || getPath(a, \"meta.lastUpdated\");\n                    let dB = getPath(b, \"effectiveDateTime\") || getPath(b, \"meta.lastUpdated\");\n                    dA = dA ? +moment(dA) : 0;\n                    dB = dB ? +moment(dB) : 0;\n                    return dB - dA;\n                }}\n                cols={[\n                    {\n                        label : \"Name\",\n                        path  : o => this.getObservationLabel(o),\n                        render: o => <b>{this.getObservationLabel(o)}</b>\n                    },\n                    {\n                        label : \"Value\",\n                        render: o => this.renderObservation(o)\n                    },\n                    {\n                        label: \"Date\",\n                        render: o => {\n                            let date = getPath(o, \"effectiveDateTime\") || getPath(o, \"meta.lastUpdated\");\n                            if (date) date = moment(date).format(\"MM/DD/YYYY\");\n                            return <div className=\"text-muted\">{ date || \"-\" }</div>\n                        }\n                    }\n                ]}\n            />\n        )\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/Fhir/Observation.js","import React     from \"react\"\nimport PropTypes from \"prop-types\"\nimport moment    from \"moment\"\nimport Grid      from \"./Grid\"\nimport Date      from \"./Date\"\nimport {\n    getPath,\n    getPatientName\n} from \"../../lib\"\n\nexport default class Person extends React.Component\n{\n    static propTypes = {\n        resources: PropTypes.arrayOf(PropTypes.object),\n        title    : PropTypes.string\n    };\n\n    static defaultProps = {\n        title: \"Person\"\n    };\n\n    render()\n    {\n        return (\n            <Grid\n                rows={ (this.props.resources || []).map(o => o.resource) }\n                title={ this.props.title }\n                comparator={(a,b) => {\n                    let dA = getPath(a, \"birthDate\");\n                    let dB = getPath(b, \"birthDate\");\n                    dA = dA ? +moment(dA) : 0;\n                    dB = dB ? +moment(dB) : 0;\n                    return dB - dA;\n                }}\n                cols={[\n                    {\n                        label: \"Identifier\",\n                        render: rec => {\n                            let rows = [\n                                <tr key=\"id\">\n                                    <td className=\"label-cell\">ID</td>\n                                    <td>{rec.id}</td>\n                                </tr>\n                            ]\n\n                            if (Array.isArray(rec.identifier)) {\n                                rows = rows.concat(rec.identifier.map(o => {\n                                    let code = getPath(o, \"type.coding.0.display\") ||\n                                               getPath(o, \"type.text\") ||\n                                               getPath(o, \"type.coding.0.code\") ||\n                                               String(getPath(o, \"system\") || \"\").split(/\\b/).pop();\n                                    if (!code) return null;\n                                    return (\n                                        <tr key={code}>\n                                            <td className=\"label-cell\">{code}</td>\n                                            <td>{o.value}</td>\n                                        </tr>\n                                    )\n                                }).filter(Boolean))\n                            }\n\n                            return (\n                                <table>\n                                    <tbody>{ rows }</tbody>\n                                </table>\n                            );\n                        }\n                    },\n                    {\n                        label: \"Name\",\n                        render: getPatientName,\n                        defaultValue: \"N/A\"\n                    },\n                    {\n                        label: \"Gender\",\n                        path: \"gender\",\n                        defaultValue: \"N/A\"\n                    },\n                    {\n                        label: \"Birth Date\",\n                        path: \"birthDate\",\n                        defaultValue: \"N/A\",\n                        render: o => <Date moment={o.birthDate}/>\n                    }\n                ]}\n            />\n        );\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./components/Fhir/Person.js","import React       from \"react\"\nimport PropTypes   from \"prop-types\"\nimport Grid        from \"./Grid\"\nimport { getPath, getCodeOrConcept } from \"../../lib\"\nimport Period      from \"./Period\"\nimport Date        from \"./Date\"\nimport moment      from \"moment\"\n\nfunction renderCell(record, allOf, oneOf) {\n\n    const entries = [];\n\n    const visit = meta => {\n        let propValue = getPath(record, meta.path);\n        if (propValue !== undefined) {\n            let value = meta.render ? meta.render(record) : propValue;\n            let raw   = meta.raw ? meta.raw(record) : value;\n            let label = typeof meta.label == \"function\" ? meta.label(record) : meta.label;\n            let existing = entries.find(o => o.value === raw);\n            if (existing) {\n                existing.label += \", \" + label\n            }\n            else {\n                entries.push({ label, value });\n            }\n            return true;\n        }\n        return false;\n    };\n\n    allOf.forEach(visit);\n\n    if (!entries.length) {\n        oneOf.some(visit);\n    }\n\n    if (entries.length) {\n        return (\n            <table>\n                <tbody>\n                    {\n                        entries.map((o, i) => (\n                            <tr key={i}>\n                                <td className=\"label-cell\">{ o.label }</td>\n                                <td>{ o.value }</td>\n                            </tr>\n                        ))\n                    }\n                </tbody>\n            </table>\n        );\n    }\n\n    return \"-\"\n}\n\nfunction getSortValue(rec) {\n    const paths = [\n        \"authoredOn\",\n        \"dateWritten\",\n        \"performedDateTime\",\n        \"recorded\",\n        \"performedPeriod.start\",\n        \"availableTime.0.availableStartTime\",\n        \"whenHandedOver\",\n        \"issued\",\n        \"effectiveDateTime\",\n        \"assertedDate\",\n        \"meta.lastUpdated\"\n    ];\n\n    for (let i = 0, l = paths.length; i < l; i++) {\n        let v = getPath(rec, paths[i]);\n        if (v !== undefined) {\n            return v\n        }\n    }\n\n    return 0;\n}\n\nfunction DataLink({settings, path, children}) {\n    let url = `${settings.server.url}/${path}`;\n    if (settings.fhirViewer.enabled) {\n        url = settings.fhirViewer.url +\n            (settings.fhirViewer.url.indexOf(\"?\") > -1 ? \"&\" : \"?\") +\n            settings.fhirViewer.param + \"=\" +\n            encodeURIComponent(url);\n    }\n    return <a onClick={ () => {\n        window.open(url, \"_blank\");\n        return false;\n    }}>{ children }</a>\n}\n\nDataLink.propTypes = {\n    settings: PropTypes.object.isRequired,\n    path    : PropTypes.string.isRequired,\n    children: PropTypes.any\n}\n\nexport default class ResourceList extends React.Component\n{\n    static propTypes = {\n        type     : PropTypes.string,\n        resources: PropTypes.arrayOf(PropTypes.object).isRequired,\n        settings : PropTypes.object.isRequired\n    };\n\n    /**\n     * The idea is to have 3 columns by default:\n     * 1. Identifier - something like a name, type, id etc.\n     * 2. Details - the important part that will describe the resource\n     * 3. Timing - time period, time, age etc.\n     * @returns {Array} The generated schema\n     */\n    determineSchema(sampleResource) {\n        const out = [];\n\n        if (!sampleResource) {\n            return out;\n        }\n\n        // 1. Identifier -------------------------------------------------------\n        out.push({\n            label: \"Identifier\",\n            render: o => renderCell(o, [\n                {\n                    path: \"id\",\n                    label: \"ID\",\n                    ellipsis: 15\n                },\n                {\n                    path: \"name\",\n                    label: \"Name\"\n                },\n                {\n                    path: \"identifier.0.type.coding.0.code\",\n                    label: \"Identifiers\",\n                    render: rec => {\n                        if (Array.isArray(rec.identifier)) {\n                            return rec.identifier.map(id => {\n                                let code = getPath(id, \"type.coding.0.code\");\n                                if (!code) return null;\n                                return code + \": \" + id.value;\n                            }).filter(Boolean).join(\", \")\n                        }\n                        return \"-\"\n                    }\n                }\n            ])\n        });\n\n        // 2. Details ----------------------------------------------------------\n        out.push({\n            label: \"Details\",\n            render: o => renderCell(o, [\n                {\n                    path: \"description.text\",\n                    label: \"Description\"\n                },\n                {\n                    path: \"code.text\",\n                    label: \"Code\"\n                },\n                {\n                    path: \"code.coding.0.display\",\n                    label: \"Display\"\n                },\n                {\n                    path: \"medicationCodeableConcept.coding.0.display\",\n                    label: \"Medication\"\n                },\n                {\n                    path: \"medicationCodeableConcept.coding.0.code\",\n                    label: rec => (getPath(rec, \"medicationCodeableConcept.coding.0.system\") || \"\").split(/\\b/).pop()\n                },\n                {\n                    path: \"code.coding.0.code\",\n                    label: rec => ((getPath(rec, \"code.coding.0.system\") || \"\")\n                        .replace(/\\/$/, \"\").split(/\\//).pop() + \" code\")\n                },\n                {\n                    path: \"result.0.display\",\n                    label: \"Result\",\n                    render: rec => rec.result.map(r => r.display || 0).filter(Boolean).join(\", \")\n                },\n                {\n                    label: \"Status\",\n                    render: rec => getCodeOrConcept(rec.status)\n                },\n                {\n                    label: \"Clinical Status\",\n                    render: rec => getCodeOrConcept(rec.clinicalStatus)\n                },\n                {\n                    label: \"Verification Status\",\n                    render: rec => getCodeOrConcept(rec.verificationStatus)\n                },\n                {\n                    label: \"Value as String\",\n                    path: \"valueString\"\n                },\n                {\n                    label: \"Comment\",\n                    path: \"comment\"\n                },\n                {\n                    label: \"Extra Details\",\n                    path: \"extraDetails\"\n                },\n                {\n                    label: \"Type\",\n                    path: \"type\",\n                    render: rec => {\n                        if (Array.isArray(rec.type)) {\n                            return rec.type.map(t => {\n                                return t.text || getPath(t, \"coding.0.display\") || \"\";\n                            }).filter(Boolean).join(\", \")\n                        }\n                        return String(getPath(rec, \"type.coding.0.display\") || getPath(rec, \"type.text\") || rec.type);\n                    }\n                },\n                {\n                    label: \"Criticality\",\n                    path: \"criticality\"\n                },\n                {\n                    label: \"Category\",\n                    path: \"category\",\n                    render: rec => {\n                        function renderCategory(c) {\n                            if (!c) {\n                                return \"N/A\";\n                            }\n\n                            if (typeof c == \"string\") {\n                                return c;\n                            }\n\n                            if (Array.isArray(c)) {\n                                return c.map(renderCategory).join(\", \");\n                            }\n\n                            if (typeof c != \"object\") {\n                                return \"N/A\";\n                            }\n\n                            return c.text || c.display || c.code || renderCategory(c.coding);\n                        }\n\n                        return renderCategory(rec.category);\n                    }\n                },\n                {\n                    label: \"Quantity\",\n                    path: \"quantity.value\",\n                    render: rec => (\n                        <span>\n                            {rec.quantity.value}\n                            <span className=\"text-muted\"> {\n                                rec.quantity.unit || rec.quantity.units || \"\"\n                            }</span>\n                        </span>\n                    )\n                },\n                {\n                    label: \"Days Supply\",\n                    path: \"daysSupply.value\",\n                    render: rec => (\n                        <span>\n                            {rec.daysSupply.value}\n                            <span className=\"text-muted\">&nbsp;{\n                                rec.daysSupply.unit || rec.daysSupply.units || \"\"\n                            }</span>\n                        </span>\n                    )\n                },\n                {\n                    label: \"Medication\",\n                    path: \"medicationReference.reference\",\n                    render: rec => (\n                        <DataLink\n                            settings={this.props.settings}\n                            path={rec.medicationReference.reference}\n                        >{ rec.medicationReference.reference }</DataLink>\n                    )\n                }\n            ], [\n                {\n                    path: \"text.div\",\n                    label: \"Text\",\n                    render: rec => <span dangerouslySetInnerHTML={{ __html: rec.text.div }}/>\n                }\n            ])\n        });\n\n        // 2. Timings ----------------------------------------------------------\n        out.push({\n            label: \"Date\",\n            render: o => renderCell(o, [\n                {\n                    path: \"authoredOn\",\n                    label: \"Authored On\",\n                    render: rec => <Date moment={rec.authoredOn}/>\n                },\n                {\n                    path: \"dateWritten\",\n                    label: \"Date Written\",\n                    render: rec => <Date moment={rec.dateWritten}/>\n                },\n                {\n                    path: \"performedDateTime\",\n                    label: \"Performed At\",\n                    render: rec => <Date moment={rec.performedDateTime}/>\n                },\n                {\n                    path: \"recorded\",\n                    label: \"Recorded\",\n                    render: rec => <Date moment={rec.recorded}/>\n                },\n                {\n                    path: \"performedPeriod\",\n                    label: \"Performed\",\n                    render: rec => Period(rec.performedPeriod)\n                },\n                {\n                    path: \"availableTime\",\n                    label: \"Available Time\",\n                    render: rec => {\n                        if (Array.isArray(rec.availableTime)) {\n                            return rec.availableTime.map((t, i) => (\n                                <div key={i}>\n                                    { t.availableStartTime && (<span>\n                                        <label>from:&nbsp;</label>\n                                        <span>{ t.availableStartTime }&nbsp;</span>\n                                    </span>) }\n                                    { t.availableEndTime && (<span>\n                                        <label>to:&nbsp;</label>\n                                        <span>{ t.availableEndTime }</span>\n                                    </span>) }\n                                </div>\n                            ));\n                        }\n                    }\n                },\n                {\n                    path: \"whenHandedOver\",\n                    label: \"Handed Over\",\n                    render: rec => <Date moment={rec.whenHandedOver}/>\n                },\n                {\n                    path: \"issued\",\n                    label: \"Issued\",\n                    raw   : rec => moment(rec.issued).format(\"MM/DD/YYYY\"),\n                    render: rec =><Date moment={rec.issued}/>\n                },\n                {\n                    path: \"effectiveDateTime\",\n                    label: \"Effective\",\n                    raw   : rec => moment(rec.effectiveDateTime).format(\"MM/DD/YYYY\"),\n                    render: rec => <Date moment={rec.effectiveDateTime}/>\n                },\n                {\n                    path: \"assertedDate\",\n                    label: \"Asserted\",\n                    raw   : rec => rec.assertedDate,\n                    render: rec => <Date moment={rec.assertedDate}/>\n                }\n            ], [\n                {\n                    path: \"meta.lastUpdated\",\n                    label: \"Last Updated\",\n                    raw   : rec => rec.meta.lastUpdated,\n                    render: rec => <Date moment={rec.meta.lastUpdated}/>\n                }\n            ])\n        });\n\n        return out;\n    }\n\n    render()\n    {\n        let recs   = this.props.resources || []\n        let length = recs.length;\n        return (\n            <Grid\n                rows={recs.map(o => o.resource)}\n                title={`${length} resource${length === 1 ? \"\" : \"s\"} of type ${this.props.type}`}\n                cols={this.determineSchema(recs[0].resource)}\n                comparator={(a,b) => {\n                    let dA = getSortValue(a);\n                    let dB = getSortValue(b);\n                    dA = dA ? +moment(dA) : 0;\n                    dB = dB ? +moment(dB) : 0;\n                    return dB - dA;\n                }}\n            />\n        )\n    }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./components/Fhir/ResourceList.js","import React     from \"react\"\nimport PropTypes from \"prop-types\"\nimport Moment    from \"moment\"\n\nexport default function Time({ moment, format=\"HH:mm\", ...rest }) {\n    return <span {...rest}>{ Moment(moment).format(format) }</span>;\n}\n\nTime.propTypes = {\n    format: PropTypes.string,\n    moment: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.instanceOf(Date),\n        PropTypes.object // moment\n    ]).isRequired\n};\n\n\n// WEBPACK FOOTER //\n// ./components/Fhir/Time.js","import React     from \"react\"\nimport PropTypes from \"prop-types\"\n\nexport default function ValueRange({ range }) {\n    let low = range.low;\n    let high = range.high;\n    return (\n        <span>\n            {\n                low !== undefined &&\n                <span>\n                    <span className=\"text-muted\">low: </span>\n                    <span>{ low }</span>\n                </span>\n            }\n            {\n                high !== undefined &&\n                <span>\n                    { low !== undefined && <span>&nbsp;</span> }\n                    <span className=\"text-muted\">high: </span>\n                    <span>{ high }</span>\n                </span>\n            }\n            {\n                high === undefined  && low === undefined &&\n                <small className=\"text-muted\">N/A</small>\n            }\n        </span>\n    );\n}\n\nValueRange.propTypes = {\n    range: PropTypes.object.isRequired\n};\n\n\n// WEBPACK FOOTER //\n// ./components/Fhir/ValueRange.js","import React               from \"react\"\nimport PropTypes           from \"prop-types\"\nimport { goNext, goPrev }  from \"../../redux/query\"\nimport { getBundleURL }    from \"../../lib\"\nimport DialogFooter        from \"../DialogFooter\"\nimport                          \"./Footer.less\"\n\n\nexport default class Footer extends React.Component\n{\n    static propTypes = {\n        bundle   : PropTypes.object,\n        query    : PropTypes.object.isRequired,\n        dispatch : PropTypes.func.isRequired,\n        selection: PropTypes.object.isRequired,\n        canShowSelected : PropTypes.bool\n    };\n\n    render() {\n        let msg     = this.props.query.error ? \" Error! \" : \" Loading... \";\n        let bundle  = this.props.bundle;\n        let hasPrev = bundle && getBundleURL(bundle, \"previous\");\n        let hasNext = bundle && getBundleURL(bundle, \"next\");\n\n        if (bundle && !this.props.query.error) {\n            if (this.props.query.params._id) {\n                msg = \"Showing the selected patients only\"\n            }\n            else {\n                let len = bundle && bundle.entry ? bundle.entry.length : 0\n                if (len) {\n                    let startRec = +(this.props.query.offset || 0) + 1\n                    let endRec   = startRec + len - 1;\n\n                    msg = ` patient ${startRec} to ${ endRec } `\n\n                    if (\"total\" in bundle) {\n                        msg += ` of ${bundle.total} `\n                    }\n                }\n                else {\n                    msg = ` No Records! `\n                }\n            }\n        }\n\n        return (\n            <div className=\"app-footer\">\n                <div className=\"container-fluid\" style={{ width: \"100%\" }}>\n                    <div className=\"row\">\n                        <div className=\"col-xs-3 col-sm-4 text-right\">\n                            <a\n                                href=\"#prev\"\n                                onClick={ e => { e.preventDefault(); this.props.dispatch(goPrev()) }}\n                                disabled={ !hasPrev }\n                            >\n                                <i className=\"fa fa-arrow-left\"/> Prev\n                            </a>\n                        </div>\n                        <div className=\"col-xs-6 col-sm-4 text-center\">\n                            { msg }\n                        </div>\n                        <div className=\"col-xs-3 col-sm-4 text-left\">\n                            <a\n                                href=\"#next\"\n                                onClick={ e => { e.preventDefault(); this.props.dispatch(goNext()) }}\n                                disabled={!hasNext}\n                            >\n                                Next <i className=\"fa fa-arrow-right\"/>\n                            </a>\n                        </div>\n                    </div>\n                    <DialogFooter canShowSelected={this.props.canShowSelected}/>\n                </div>\n            </div>\n        )\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/Footer/index.js","\nimport React     from \"react\"\nimport PropTypes from \"prop-types\"\nimport            \"./Header.less\"\nimport {\n    fetch,\n    setGender,\n    setAgeGroup,\n    setMinAge,\n    setMaxAge,\n    setConditions,\n    setTags,\n    setParam,\n    setQueryString,\n    setQueryType,\n    setSort\n} from \"../../redux/query\"\nimport store       from \"../../redux\"\nimport TagSelector from \"../TagSelector\"\nimport AgeSelector from \"../AgeSelector\"\nimport SortWidget  from \"../SortWidget\"\nimport {\n    parseQueryString,\n    setHashParam\n} from \"../../lib\"\n\nexport default class Header extends React.Component\n{\n    static propTypes = {\n        settings : PropTypes.object.isRequired,\n        query    : PropTypes.object.isRequired,\n        location : PropTypes.object.isRequired,\n        urlParams: PropTypes.object.isRequired\n    };\n\n    fetch(delay=500) {\n        if (this.props.settings.submitStrategy == \"automatic\") {\n            if (this.fetchDelay) {\n                clearTimeout(this.fetchDelay);\n            }\n            this.fetchDelay = setTimeout(() => {\n                store.dispatch(fetch())\n            }, delay)\n        }\n        // else {\n        //     store.dispatch(fetch())\n        // }\n    }\n\n    renderAdvancedTabContents() {\n        return (\n            <div className=\"form-group\">\n                <p className=\"text-warning\" style={{ padding: \"0 5px 5px\", margin: 0 }}>\n                    <i className=\"fa fa-info-circle\" /> In advanced mode, provide a\n                    query string to browse and select from a list of matching\n                    patients. <a target=\"_blank\" href=\"http://hl7.org/fhir/patient.html#search\">More Info...</a>\n                </p>\n                <form onSubmit={ e => {\n                    e.preventDefault()\n                    store.dispatch(fetch())\n                }}>\n                    <div className=\"input-group input-group-sm\">\n                        <span className=\"input-group-addon\">/Patient?</span>\n                        <input\n                            type=\"text\"\n                            className=\"form-control\"\n                            placeholder=\"Patient Search Query String\"\n                            name=\"query\"\n                            onChange={ e => store.dispatch(setQueryString(e.target.value)) }\n                            value={ this.props.query.queryString }\n                        />\n                        <span className=\"input-group-btn\">\n                            <button className=\"btn btn-warning\" type=\"submit\">Go</button>\n                        </span>\n                    </div>\n                </form>\n            </div>\n        )\n    }\n\n    renderDemographicsTabContents() {\n        return (\n            <form onSubmit={ e => {\n                e.preventDefault()\n                store.dispatch(fetch())\n            }}>\n                <div className=\"row\">\n                    <div className={ \"**custom**\" === this.props.query.ageGroup ? \"col-sm-6\" : \"col-sm-12\" }>\n                        <div className=\"form-group\">\n                            {/*<label>Name:</label>*/}\n                            <div className=\"input-group\">\n                                <span className=\"input-group-addon\"><small>Name:</small></span>\n                                <input\n                                    type=\"text\"\n                                    className=\"form-control input-sm\"\n                                    placeholder=\"Search by name...\"\n                                    value={ this.props.query.params.name || \"\" }\n                                    onChange={e => {\n                                        store.dispatch(setParam({\n                                            name : \"name\",\n                                            value: e.target.value\n                                        }))\n                                        this.fetch()\n                                    }}\n                                />\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"col-sm-6\">\n                        <div className=\"form-group\">\n                            {/*<label>Gender:</label>*/}\n                            <select\n                                className=\"form-control input-sm\"\n                                onChange={ e => {\n                                    store.dispatch(setGender(e.target.value))\n                                    this.fetch()\n                                }}\n                                value={ this.props.query.gender || \"\" }\n                            >\n                                <option value=\"male\">Males</option>\n                                <option value=\"female\">Females</option>\n                                <option value=\"\">Any Gender</option>\n                            </select>\n                        </div>\n                    </div>\n                    <div className={ \"**custom**\" === this.props.query.ageGroup ? \"col-sm-12\" : \"col-sm-6\" }>\n                        <div className=\"form-group\">\n                            {/*<label>Age:</label>*/}\n                            <AgeSelector\n                                min={ this.props.query.minAge || { value: 0  , units: \"years\" } }\n                                max={ this.props.query.maxAge || { value: 100, units: \"years\" } }\n                                onMinChange={ age => {\n                                    store.dispatch(setMinAge(age))\n                                    //if (\"**custom**\" != this.props.query.ageGroup) {\n                                    this.fetch()\n                                    //}\n                                }}\n                                onMaxChange={ age => {\n                                    store.dispatch(setMaxAge(age))\n                                    //if (\"**custom**\" != this.props.query.ageGroup) {\n                                    this.fetch()\n                                    //}\n                                }}\n                                onGroupChange={ group => {\n                                    store.dispatch(setAgeGroup(group))\n                                    //if (\"**custom**\" != this.props.query.ageGroup) {\n                                    this.fetch()\n                                    //}\n                                }}\n                                //update={ () => this.fetch() }\n                                group={ this.props.query.ageGroup }\n                            />\n                        </div>\n                    </div>\n                </div>\n            </form>\n        )\n    }\n\n    renderConditionsTabContents() {\n        return (\n            <div className=\"row\">\n                <div className=\"col-sm-12\">\n                    <div className=\"form-group\">\n                        <TagSelector\n                            tags={\n                                Object.keys(this.props.settings.server.conditions).map(key => {\n                                    let condition = this.props.settings.server.conditions[key];\n                                    return {\n                                        key,\n                                        label: condition.description,\n                                        data : condition\n                                    }\n                                })\n                            }\n                            onChange={\n                                selection => {\n                                    let conditions = {}\n                                    selection.forEach(tag => {\n                                        conditions[tag.key] = tag.data\n                                    })\n                                    store.dispatch(setConditions(conditions))\n                                    this.fetch()\n                                }\n                            }\n                            label=\"condition code\"\n                            selected={ Object.keys(this.props.query.conditions) }\n                        />\n                    </div>\n                </div>\n            </div>\n        )\n    }\n\n    renderTagsTabContents() {\n        let selected = this.props.query.tags || this.props.settings.server.tags.filter(\n            tag => !!tag.selected\n        ).map(tag => !!tag.key);\n        return (\n            <div className=\"row\">\n                <div className=\"col-sm-12\">\n                    <div className=\"form-group\">\n                        <TagSelector\n                            tags={ this.props.settings.server.tags }\n                            selected={ selected }\n                            onChange={\n                                sel => {\n                                    let tags = Object.keys(sel).map(k => sel[k].key)\n                                    store.dispatch(setTags(tags))\n                                    this.fetch()\n                                }\n                            }\n                            label=\"tag\"\n                        />\n                    </div>\n                </div>\n            </div>\n        )\n    }\n\n    render() {\n        let _query    = parseQueryString(this.props.location.search);\n        let _advanced = this.props.query.queryType == \"advanced\";\n        let conditionsCount   = Object.keys(this.props.query.conditions).length;\n        let demographicsCount = 0;\n        let tagsCount         = Object.keys(this.props.query.tags).length;\n\n        // Compute which the active tab should be\n        let tabs = [\"demographics\", \"conditions\"];\n        if (!this.props.settings.hideTagSelector) {\n            tabs.push(\"tags\");\n        }\n        let _tab = _query._tab || \"\";\n        if (tabs.indexOf(_tab) == -1) {\n            _tab = \"demographics\";\n        }\n\n        // Manually increment the value for the demographics badge depending on\n        // the state of the app\n\n        if (this.props.query.gender) {\n            demographicsCount += 1;\n        }\n\n        if (this.props.query.params.name) {\n            demographicsCount += 1;\n        }\n\n        if (this.props.query.maxAge !== null || this.props.query.minAge !== null) {\n            demographicsCount += 1;\n        }\n\n        return (\n            <div className=\"app-header\">\n                <div style={{ flexDirection: \"row\" }}>\n                    <label className=\"pull-right advanced-label text-warning\">\n                        Advanced <span className=\"hidden-xs\">Mode </span> <input\n                            type=\"checkbox\"\n                            checked={ _advanced }\n                            onChange={ e => {\n                                store.dispatch(setQueryType(e.target.checked ? \"advanced\" : \"basic\"))\n                            }}\n                        />\n                    </label>\n                {\n                    _advanced ?\n                    <ul className=\"nav nav-tabs\"/> :\n                    <ul className=\"nav nav-tabs\">\n                        <li className={ !_advanced && _tab == \"demographics\" ? \"active\" : null }>\n                            <a href=\"\" onClick={ e => {e.preventDefault(); setHashParam(\"_tab\", \"demographics\")}}>\n                                <b>Demographics</b>\n                                {\n                                    demographicsCount ?\n                                    <span className=\"hidden-xs\"> <small className=\"badge\">{ demographicsCount }</small></span> :\n                                    null\n                                }\n                            </a>\n                        </li>\n                        <li className={ !_advanced && _tab == \"conditions\" ? \"active\" : null }>\n                            <a href=\"\" onClick={ e => {e.preventDefault(); setHashParam(\"_tab\", \"conditions\")}}>\n                                <b>Conditions</b>\n                                {\n                                    conditionsCount ?\n                                    <span className=\"hidden-xs\"> <small className=\"badge\">{ conditionsCount }</small></span> :\n                                    null\n                                }\n                            </a>\n                        </li>\n                        {\n                            (this.props.settings.hideTagSelector ||\n                            this.props.query.params._id) ?\n                            null :\n                            <li className={ !_advanced && _tab == \"tags\" ? \"active\" : null }>\n                                <a href=\"\" onClick={ e => {e.preventDefault(); setHashParam(\"_tab\", \"tags\")}}>\n                                    <b>Tags</b>\n                                    {\n                                        tagsCount ?\n                                        <span className=\"hidden-xs\"> <small className=\"badge\">{ tagsCount }</small></span> :\n                                        null\n                                    }\n                                </a>\n                            </li>\n                        }\n                    </ul>\n                }\n                </div>\n                <div className=\"tab-content\">\n                    <div className={ \"tab-pane \" + (_advanced ? \"active\" : \"\") }>\n                        { this.renderAdvancedTabContents() }\n                    </div>\n                    <div className={ \"tab-pane \" + (!_advanced && _tab == \"demographics\" ? \"active\" : \"\") }>\n                        { this.renderDemographicsTabContents() }\n                    </div>\n                    <div className={ \"tab-pane \" + (!_advanced && _tab == \"conditions\" ? \"active\" : \"\") }>\n                        { this.renderConditionsTabContents() }\n                    </div>\n                    {\n                        (this.props.settings.hideTagSelector ||\n                            this.props.query.params._id) ?\n                        null :\n                        <div className={ \"tab-pane \" + (!_advanced && _tab == \"tags\" ? \"active\" : \"\") }>\n                            { this.renderTagsTabContents() }\n                        </div>\n                    }\n                    {\n                        !_advanced && this.props.settings.submitStrategy == \"manual\" ?\n                        <div className=\"text-right\" style={{ height: 0 }}>\n                            <button\n                                type=\"button\"\n                                onClick={ () => store.dispatch(fetch()) }\n                                className=\"btn btn-primary btn-submit\"\n                            >\n                                <i className=\"fa fa-search\"/> Search\n                            </button>\n                        </div> :\n                        null\n                    }\n                </div>\n                {\n                    _advanced ?\n                    null :\n                    <SortWidget\n                        sort={ this.props.query.sort }\n                        onChange={ sort => {\n                            store.dispatch(setSort(sort))\n                            store.dispatch(fetch())\n                        }}\n                    />\n                }\n            </div>\n        )\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/Header/index.js","\nimport React from \"react\"\nimport PropTypes from \"prop-types\"\nimport \"./PatientAlert.less\"\nimport { getPatientName,\ngetPatientPhone,\ngetPatientEmail,\ngetPatientHomeAddress } from \"../../lib\"\n\nexport default class PatientAlert extends React.Component {\n    static propTypes = {\n        patient: PropTypes.object.isRequired,\n        className: PropTypes.string,\n        style: PropTypes.object,\n        base: PropTypes.string,\n        toggle: PropTypes.func\n    };\n\n    static defaultProps = {\n        base: \"\"\n    };\n\n    handleClick = () => {\n        this.props.toggle();\n    };\n\n    render() {\n        console.log(this.props.patient);\n        let { className, style, patient, base, ...rest } = this.props;\n        style = { ...(style || {}) }\n        style.backgroundColor = 'rgba(255, 255, 255, 0.6)'\n        return (\n            <div className=\"modal_local\">\n                <div className=\"modal_content\">\n                    <span className=\"close\" onClick={this.handleClick}>\n                        &times;\n                    </span>\n                    <div>\n                        <h3 className=\"alert_heading\">BEHAVIORAL SAFETY ALERT</h3>\n                        <div>\n                            The <strong> VA REACH VET </strong> predictive model has determined that <strong className=\"orange_hightlight\">{getPatientName(this.props.patient)}</strong> is at <strong>Elevated/High</strong> risk for suicide ideation for the following clinical reasons :\n                            <ul className=\"orange_hightlight\">\n                                <li> 1.  [Clinical Reason 1]</li>\n                                <li> 2.  [Clinical Reason 2]</li>\n                            </ul>\n                            <p> The following areas of the patient record are recommended for review :</p>\n                            <ul>\n                                <li> Link to <a>Problem List</a></li>\n                                <li> Link to <a>Current Medication</a></li>\n                                <li> Link to <a>Problem Encounters last 30 Days</a></li>\n                            </ul>\n                            <p> In addition, because <strong>{getPatientName(this.props.patient)}</strong> lives at <strong>{getPatientHomeAddress(this.props.patient)}</strong>, they are at elevated rils for the following community reasons :</p>\n                            <ul className=\"orange_hightlight\">\n                                <li> 1.  Food insecurity / Substance Sbuse/ Poor Health/ Severe Housing issues</li>\n                                <li> 2.  Food insecurity / Substance Sbuse/ Poor Health/ Severe Housing issues</li>\n                            </ul>\n                            <p> The following are the individuals who are a part of <strong>PAtient Name 's</strong> care team :</p>\n                            <ul className=\"orange_hightlight\">\n                                <li> [Care Giver #1],[Role/Position],[Contact Info]</li>\n                                <li> [Care Giver #2],[Role/Position],[Contact Info]</li>\n                                <li> [Care Giver #3],[Role/Position],[Contact Info]</li>\n                            </ul>\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n        )\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./components/PatientAlert/index.js","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport PatientImage from \"../PatientImage\"\nimport Loader from \"../Loader\"\nimport { connect } from \"react-redux\"\nimport $ from \"jquery\"\nimport { Link } from \"react-router-dom\"\nimport DialogFooter from \"../DialogFooter\"\nimport { toggle } from \"../../redux/selection\"\nimport store from \"../../redux\"\nimport { queryBuilder } from \"../../redux/query\"\nimport Observations from \"../Fhir/Observation\"\nimport ImmunizationList from \"../Fhir/ImmunizationList\"\nimport ConditionList from \"../Fhir/ConditionList\"\nimport Encounter from \"../Fhir/Encounter\"\nimport CarePlan from \"../Fhir/CarePlan\"\nimport Person from \"../Fhir/Person\"\nimport ResourceList from \"../Fhir/ResourceList\"\nimport UserService from \"../../services/UserService\"\nimport {\n    getErrorMessage,\n    getPatientName,\n    getPatientPhone,\n    getPatientEmail,\n    getPatientHomeAddress,\n    getPatientAge,\n    getPath,\n    intVal,\n    getBundleURL,\n    parseQueryString,\n    getPatientMRN,\n    getAllPages\n} from \"../../lib\"\nimport \"./PatientDetail.less\"\nimport PatientAlert from \"../PatientAlert\";\n//import Popup from 'reactjs-popup';\n\n/**\n * Renders the detail page.\n */\nexport class PatientDetail extends React.Component {\n    static propTypes = {\n        match: PropTypes.object,\n        settings: PropTypes.object,\n        selection: PropTypes.object,\n        query: PropTypes.object\n    };\n\n    state = {\n        alertseen: false\n    };\n\n    togglePop = () => {\n        this.setState({\n            alertseen: !this.state.alertseen\n        });\n    };\n\n    constructor(...args) {\n        super(...args)\n        this.query = queryBuilder.clone();\n        this.state = {\n            loading: false,\n            error: null,\n            conditions: [],\n            patient: {},\n            index: 0,\n            hasNext: false,\n            groups: {},\n            selectedSubCat: \"\",\n            alertseen: false,\n            bundle: $.isEmptyObject(this.props.query.bundle) ?\n                null :\n                { ...this.props.query.bundle }\n        };\n    }\n\n    componentDidMount() {\n        this.fetch(this.props.match.params.index);\n    }\n\n    componentWillReceiveProps(newProps) {\n        if (newProps.match.params.index !== this.props.match.params.index) {\n            this.fetch(newProps.match.params.index);\n        }\n    }\n\n    fetch(index) {\n        index = intVal(index, -1);\n        if (index < 0) {\n            return this.setState({ error: new Error(\"Invalid patient index\") });\n        }\n\n        this.setState({ loading: true, index }, () => {\n            this.fetchPatient(this.props.settings.server, index)\n                .then(\n                    state => {\n                        // console.log(state);\n                        this.setState({\n                            ...state,\n                            error: null,\n                            loading: false\n                        })\n                    }\n                )\n                .catch(error => {\n                    this.setState({\n                        loading: false,\n                        error\n                    })\n                })\n        })\n    }\n\n    /**\n     * This page receives an \"index\" url parameter. It will repeat the same\n     * query from the search page but with limit=1 and offset=index so that the\n     * search returns only one page. The reason for this is that we also have\n     * these \"Prev Patient\" and \"Next Patient\" buttons that allow the user to\n     * walk through the result one patient at a time.\n     * @param {Object} server\n     * @param {Object} server.url\n     * @param {Object} server.type\n     * @param {Number} index\n     */\n    fetchPatient(server, index) {\n        // =====================================================================\n        // Warning! The following are some ugly workarounds for the ugly API\n        // that does not support normal pagination!\n        // =====================================================================\n\n        return Promise.resolve({ ...this.state })\n\n            // Run the main query to fetch the first page\n            .then(state => {\n                this.query.cacheId = null;\n                this.query.offset = null;\n                return this.query.fetch(server).then(\n                    bundle => {\n                        state.bundle = bundle;\n                        return state;\n                    }\n                );\n            })\n\n            // Try to find the patient by index\n            .then(state => {\n                index = intVal(index, -1);\n                if (index < 0) {\n                    return Promise.reject(\"Invalid patient index\");\n                }\n\n                state.patient = getPath(state, `bundle.entry.${index}.resource`);\n                state.nextURL = getBundleURL(state.bundle, \"next\");\n                state.hasNext = !!state.nextURL || (state.patient ? index < state.bundle.entry.length - 1 : false);\n                return Promise.resolve(state);\n            })\n\n            // if no patient - jump to it's index\n            .then(state => {\n                if (!state.patient) {\n                    let params = parseQueryString(state.nextURL);\n                    this.query.setOffset(params._getpages, index);\n                    return this.query.fetch(server).then(\n                        bundle => {\n                            state.bundle = bundle;\n                            state.patient = getPath(state, `bundle.entry.0.resource`);\n                            state.hasNext = state.patient ?\n                                this.query.limit && this.query.limit > 1 ?\n                                    state.bundle.entry.length > 1 :\n                                    getBundleURL(state.bundle, \"next\") :\n                                false;\n                            return state;\n                        }\n                    )\n                }\n                return state;\n            })\n\n            .then(state => new Promise(resolve => {\n                this.setState(state, () => resolve(state))\n            }))\n\n            // Find $everything\n            .then(state => {\n                return getAllPages({ url: `${server.url}/Patient/${state.patient.id}/$everything?_count=500` })\n                    .then(data => {\n                        let groups = {};\n                        data.forEach(entry => {\n                            let resourceType = getPath(entry, \"resource.resourceType\") || \"Other\";\n                            let type = resourceType;\n\n                            if (type == \"Observation\") {\n                                let subCat = String(\n                                    getPath(entry, \"resource.category.0.text\") ||\n                                    getPath(entry, \"resource.category.coding.0.code\") ||\n                                    getPath(entry, \"resource.category.0.coding.0.code\") ||\n                                    \"Other\"\n                                ).toLowerCase();\n\n                                subCat = subCat.split(/\\-+/).map(token => {\n                                    return token.charAt(0).toUpperCase() + token.substr(1)\n                                }).join(\" \");\n                                type += \" - \" + subCat;\n                            }\n\n                            if (!Array.isArray(groups[type])) {\n                                groups[type] = []\n                            }\n                            groups[type].push(entry)\n                        })\n                        state.groups = groups\n                        return state\n                    })\n            })\n\n            // Feed the results to the app\n            .then(\n                state => Promise.resolve(state),\n                error => Promise.reject(new Error(getErrorMessage(error)))\n            )\n    }\n\n    // Rendering methods -------------------------------------------------------\n\n    renderPatient() {\n        if (this.state.error) {\n            return this.state.error + \"\"\n        }\n\n        let idLower = (this.state.patient.id || \"\").toLowerCase();\n        let key = idLower && Object.keys(this.props.selection).find(k => k.toLowerCase() == idLower);\n        let selected = key && this.props.selection[key] !== false;\n        return (\n            <div className=\"panel panel-default patient col-xs-12\">\n                <p> Signed in as : {UserService.getUsername()}</p>\n                <button className=\"btn btn-danger\" onClick={this.togglePop}>Show Alerts</button>\n                {this.state.alertseen ? <PatientAlert toggle={this.togglePop} patient={this.state.patient}\n                    className=\"embed-responsive-item\"\n                    base={this.props.settings.server.url} /> : null}\n                {/*      <Popup trigger={<button> Trigger</button>} position=\"right center\">\n                        <div>Popup content here !!</div>\n                </Popup> */}\n                <div className=\"row\">\n\n                    {this.state.loading ? <Loader /> : null}\n                    <div className=\"col-xs-2 col-sm-2 col-md-1\">\n                        <div className=\"embed-responsive\">\n                            <PatientImage\n                                patient={this.state.patient}\n                                className=\"embed-responsive-item\"\n                                base={this.props.settings.server.url}\n                            />\n                        </div>\n                    </div>\n                    <div className=\"col-xs-10 col-md-11\">\n                        <div className=\"patient-row\">\n                            <div className=\"col-xs-7 patient-name\">\n                                <h3 className=\"pull-left text-primary\">\n                                    {getPatientName(this.state.patient) || (this.state.loading ? \"loading...\" : \"Unknown\")}\n                                </h3>\n                                {\n                                    selected ?\n                                        <i className=\"label label-success pull-left\">Selected</i> :\n                                        null\n                                }\n                            </div>\n                            <div className=\"col-xs-5 text-right\" style={{ paddingRight: 0 }}>\n                                <button\n                                    type=\"button\"\n                                    className={`btn btn-sm btn-${selected ? \"danger\" : \"primary\"}`}\n                                    onClick={() => store.dispatch(toggle({ id: this.state.patient.id }))}\n                                >\n                                    {\n                                        selected ? \"Unselect\" : \"Select\"\n                                    }\n                                </button>\n                                <button\n                                    type=\"button\"\n                                    className=\"btn btn-default btn-sm\"\n                                    onClick={() => this.fetch(this.props.match.params.index)}\n                                >\n                                    <i className=\"fa fa-refresh\" /> Reload\n                                </button>\n                            </div>\n                        </div>\n                        <div className=\"row\">\n                            <div className=\"col-xs-4 col-sm-2 col-lg-1 text-right text-muted\">Gender:</div>\n                            <div className=\"col-xs-8 col-sm-3 col-lg-3 text-left\">\n                                {this.state.patient.gender || (this.state.loading ? \"loading...\" : \"Unknown\")}\n                            </div>\n                            <div className=\"col-xs-4 col-sm-2 col-lg-1 text-right text-muted\">DOB:</div>\n                            <div className=\"col-xs-8 col-sm-5 col-lg-3 text-left\">\n                                {this.state.patient.birthDate || (this.state.loading ? \"loading...\" : \"Unknown\")}\n                            </div>\n\n                            <div className=\"col-xs-4 col-sm-2 col-lg-1 text-right text-muted\">Age:</div>\n                            <div className=\"col-xs-8 col-sm-3 col-lg-3 text-left\">\n                                {getPatientAge(this.state.patient) || (this.state.loading ? \"loading...\" : \"Unknown\")}\n                            </div>\n                            <div className=\"col-xs-4 col-sm-2 col-lg-1 text-right text-muted\">Email</div>\n                            <div className=\"col-xs-8 col-sm-5 col-lg-3 text-left\">\n                                {getPatientEmail(this.state.patient) || (this.state.loading ? \"loading...\" : \"Unknown\")}\n                            </div>\n                            <div className=\"col-xs-4 col-sm-2 col-lg-1 text-right text-muted\">Phone:</div>\n                            <div className=\"col-xs-8 col-sm-3 col-lg-3 text-left\">\n                                {getPatientPhone(this.state.patient) || (this.state.loading ? \"loading...\" : \"Unknown\")}\n                            </div>\n                            <div className=\"col-xs-4 col-sm-2 col-lg-1 text-right text-muted\">Address:</div>\n                            <div className=\"col-xs-8 col-sm-5 col-lg-3 text-left\">\n                                {getPatientHomeAddress(this.state.patient) || (this.state.loading ? \"loading...\" : \"Unknown\")}\n                            </div>\n                            <div className=\"col-xs-4 col-sm-2 col-lg-1 text-right text-muted\">ID:</div>\n                            <div className=\"col-xs-8 col-sm-3 col-lg-3 text-left\">\n                                {this.state.patient.id || (this.state.loading ? \"loading...\" : \"Unknown\")}\n                            </div>\n                            <div className=\"col-xs-4 col-sm-2 col-lg-1 text-right text-muted\">MRN:</div>\n                            <div className=\"col-xs-8 col-sm-5 col-lg-3 text-left\">\n                                {getPatientMRN(this.state.patient) || (this.state.loading ? \"loading...\" : \"Unknown\")}\n                            </div>\n                            {\n                                this.state.patient.deceasedBoolean || this.state.patient.deceasedDateTime ?\n                                    (\n                                        <div className=\"col-xs-4 col-sm-2 col-lg-1 text-right text-muted\">\n                                            <span className=\"deceased-label\">Deceased:</span>\n                                        </div>\n                                    ) :\n                                    null\n                            }\n                            {\n                                this.state.patient.deceasedBoolean || this.state.patient.deceasedDateTime ?\n                                    (\n                                        <div className=\"col-xs-8 col-sm-5 col-lg-3 text-left\">\n                                            {\n                                                this.state.patient.deceasedDateTime ?\n                                                    <span>{this.state.patient.deceasedDateTime}</span> :\n                                                    <span>{this.state.patient.deceasedBoolean ? \"Yes\" : \"No\"}</span>\n                                            }\n                                        </div>\n                                    ) :\n                                    null\n                            }\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    renderResources(type) {\n        let items = this.state.groups[type] || [];\n        if (!items.length) {\n            return (\n                <p className=\"text-center text-muted\">\n                    No items of type \"{type}\" found\n                </p>\n            )\n        }\n\n        if (type.indexOf(\"Observation\") === 0) {\n            return <Observations resources={items} />;\n        }\n\n        switch (type) {\n            case \"Immunization\":\n                return <ImmunizationList resources={items} />;\n            case \"Condition\":\n                return <ConditionList resources={items} />\n            case \"Encounter\":\n                return <Encounter resources={items} />;\n            case \"CarePlan\":\n                return <CarePlan resources={items} />;\n            case \"Patient\":\n            case \"Practitioner\":\n            case \"RelatedPerson\":\n                return <Person resources={items} title={type} />;\n            default:\n                return <ResourceList resources={items} type={type} settings={this.props.settings} />;\n        }\n    }\n\n    render() {\n        let groups = Object.keys(this.state.groups).sort()\n        let selectedSubCat = this.state.selectedSubCat\n        if (!selectedSubCat || !this.state.groups[selectedSubCat]) {\n            selectedSubCat = Object.keys(this.state.groups)[0] || \"\"\n        }\n\n        return (\n            <div className=\"page patient-detail-page\">\n                <nav className=\"navbar bg-primary navbar-fixed-top\">\n                    <div className=\"container-fluid\">\n                        <div className=\"row navigator\">\n                            <div className=\"col-xs-4 col-sm-4 col-md-3 col-lg-2\">\n                                <Link\n                                    to={`/patient/${this.state.index - 1}`}\n                                    className=\"btn btn-primary btn-block\"\n                                    disabled={this.state.index < 1}\n                                >\n                                    <i className=\"fa fa-chevron-left\" />\n                                    <b>Prev<span className=\"hidden-xs\">ious Patient</span></b>\n                                </Link>\n                            </div>\n                            <div className=\"col-xs-4 col-sm-4 col-md-6 col-lg-8 text-center\">\n                                <Link className=\"btn btn-block text-center\" to=\"/\">\n                                    <span className=\"hidden-xs\">Browse Patients</span>\n                                    <span className=\"visible-xs\">Browse</span>\n                                </Link>\n                            </div>\n                            <div className=\"col-xs-4 col-sm-4 col-md-3 col-lg-2 text-right\">\n                                <Link\n                                    to={`/patient/${this.state.index + 1}`}\n                                    className=\"btn btn-primary btn-block\"\n                                    disabled={!this.state.hasNext}\n                                >\n                                    <b>Next<span className=\"hidden-xs\"> Patient</span></b>\n                                    <i className=\"fa fa-chevron-right\" />\n                                </Link>\n                            </div>\n                        </div>\n                    </div>\n                </nav>\n                <div className=\"container\">\n\n                    {this.renderPatient()}\n\n                    {\n                        groups.length ?\n                            <div className=\"row patient-details\">\n                                <br />\n                                <div className=\"col-xs-12 col-sm-3\">\n                                    <ul className=\"list-group\">\n                                        {\n                                            groups.map((k, i) => (\n                                                <a\n                                                    href=\"#\"\n                                                    key={i}\n                                                    className={\"list-group-item\" + (k === selectedSubCat ? \" active\" : \"\")}\n                                                    onClick={e => {\n                                                        e.preventDefault()\n                                                        this.setState({\n                                                            selectedSubCat: k\n                                                        })\n                                                    }}\n                                                >\n                                                    <b className=\"badge pull-right\">{this.state.groups[k].length}</b>\n                                                    <b>{k}</b>\n                                                </a>\n                                            ))\n                                        }\n                                    </ul>\n                                </div>\n                                <div className=\"col-xs-12 col-sm-9\">\n                                    {this.renderResources(selectedSubCat)}\n                                </div>\n                            </div> :\n                            this.state.loading ?\n                                null :\n                                <div className=\"row\">\n                                    <div className=\"col-xs-12 text-muted text-center\">\n                                        No additional details for this patient\n                                    </div>\n                                </div>\n                    }\n                </div>\n                {\n                    window.opener || (window.parent && window.parent !== window) ?\n                        <nav className=\"navbar navbar-default navbar-fixed-bottom\">\n                            <div className=\"container-fluid\" style={{ width: \"100%\" }}>\n                                <div className=\"row\">\n                                    <div className=\"col-xs-12\" style={{ paddingTop: 8 }}>\n                                        <DialogFooter />\n                                    </div>\n                                </div>\n                            </div>\n                        </nav> :\n                        null\n                }\n            </div>\n        )\n    }\n}\n\nexport default connect(state => state)(PatientDetail)\n\n\n\n// WEBPACK FOOTER //\n// ./components/PatientDetail/index.js","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport PatientListItem from \"../PatientListItem\"\nimport { toggle, setAll } from \"../../redux/selection\"\nimport { showSelectedOnly } from \"../../redux/settings\"\nimport { setParam, fetch } from \"../../redux/query\"\nimport store from \"../../redux\"\nimport { connect } from \"react-redux\"\nimport Footer from \"../Footer\"\nimport Header from \"../Header\"\nimport ErrorMessage from \"../ErrorMessage\"\nimport Alert from \"../Alert\"\nimport \"./PatientList.less\"\nimport UserService from \"../../services/UserService\"\n\n\nexport class PatientList extends React.Component {\n    static propTypes = {\n        query: PropTypes.object,\n        selection: PropTypes.object,\n        location: PropTypes.object,\n        settings: PropTypes.object,\n        urlParams: PropTypes.object,\n        dispatch: PropTypes.func\n    };\n\n    render() {\n        return (\n            <div className=\"page\">\n                <div className=\"row login_bg\">\n                    <div className=\"col-md-3 login_user\"> Signed in as : <strong>{UserService.getUsername()}</strong></div>\n                    <div className=\"col-md-offset-6 col-md-3 logout_button\">\n                        <button className=\"btn btn-info  navbar-btn navbar-right\" style={{ marginRight: 0 }} onClick={() => UserService.doLogout()}>\n                            Logout\n                        </button>\n                    </div>\n                </div>\n\n                <Header\n                    query={this.props.query}\n                    settings={this.props.settings}\n                    location={this.props.location}\n                    urlParams={this.props.urlParams}\n                />\n                <div className=\"patient-search-results\">\n                    {this.renderContents()}\n                </div>\n                <Footer\n                    query={this.props.query}\n                    bundle={this.props.query.bundle}\n                    dispatch={this.props.dispatch}\n                    selection={this.props.selection}\n                    canShowSelected\n                />\n            </div>\n        )\n    }\n\n    renderContents() {\n        if (this.props.query.error) {\n            return <ErrorMessage error={this.props.query.error} />\n        }\n\n        if (!this.props.query.bundle || this.props.query.loading) {\n            return (\n                <div className=\"patient-search-loading\">\n                    <i className=\"fa fa-spinner spin\" /> Loading. Please wait...\n                </div>\n            )\n        }\n\n        if (!this.props.query.bundle.entry || !this.props.query.bundle.entry.length) {\n            return (\n                <Alert>\n                    No patients found to match this search criteria\n                </Alert>\n            )\n        }\n\n        return this.renderPatientItems()\n    }\n\n    renderPatientItems() {\n\n        const isSelected = (item) => {\n            let idLower = (item.resource.id || \"\").toLowerCase();\n            let key = Object.keys(this.props.selection).find(k => k.toLowerCase() == idLower);\n            return key && this.props.selection[key] !== false;\n        }\n\n        let offset = this.props.query.offset || 0\n        let items = this.props.query.bundle.entry || [];\n        if (this.props.settings.renderSelectedOnly) {\n            items = items.filter(isSelected);\n        }\n        return items.map((o, i) => (\n            <PatientListItem\n                {...o.resource}\n                patient={o.resource}\n                key={o.resource.id}\n                index={offset + i}\n                selected={isSelected(o)}\n                onSelectionChange={patient => {\n                    if (this.props.settings.renderSelectedOnly &&\n                        Object.keys(this.props.selection).filter(k => !!this.props.selection[k]).length === 1) {\n                        store.dispatch(setAll({}))\n                        store.dispatch(showSelectedOnly(false))\n                        store.dispatch(setParam({ name: \"_id\", value: undefined }))\n                        store.dispatch(fetch())\n                    }\n                    else {\n                        store.dispatch(toggle(patient))\n                    }\n                }}\n                query={this.props.query}\n                settings={this.props.settings}\n            />\n        ))\n    }\n}\n\nexport default connect(state => state)(PatientList);\n\n\n\n// WEBPACK FOOTER //\n// ./components/PatientList/index.js","import React        from \"react\"\nimport PropTypes    from \"prop-types\"\nimport { Link }     from \"react-router-dom\"\nimport PatientImage from \"../PatientImage\"\nimport moment       from \"moment\"\nimport {\n    getPatientName,\n    getPatientAge,\n    renderSearchHighlight,\n    getPatientMRN\n} from \"../../lib\"\n\n\nexport default class PatientListItem extends React.Component\n{\n    /**\n     * This component expects a Fhir Bundle\n     */\n    static propTypes = {\n        patient          : PropTypes.object,\n        query            : PropTypes.object,\n        settings         : PropTypes.object,\n        selected         : PropTypes.bool,\n        onSelectionChange: PropTypes.func,\n        index            : PropTypes.number\n    };\n\n    static defaultProps = {\n        onSelectionChange: () => 1\n    };\n\n    render() {\n        let age = getPatientAge(this.props.patient)\n        let name = getPatientName(this.props)\n        if (this.props.query.params.name) {\n            name = renderSearchHighlight(name, this.props.query.params.name)\n        }\n\n        return (\n            <Link\n                to={ \"/patient/\" + this.props.index }\n                className={ \"patient\" + ( this.props.selected ? \" selected\" : \"\") }\n            >\n                <div\n                    className=\"patient-select-zone\"\n                    onClick={ e => {\n                        e.stopPropagation()\n                        e.preventDefault()\n                        this.props.onSelectionChange(this.props.patient)\n                    }}\n                >\n                    <i className={\n                        this.props.selected ?\n                        \"fa fa-check-square-o\" :\n                        \"fa fa-square-o\"\n                    }/>\n                </div>\n                <PatientImage patient={ this.props.patient } base={ this.props.settings.server.url }/>\n                <div className=\"patient-info\">\n                    <b>{ name } {\n                        this.props.patient.deceasedBoolean || this.props.patient.deceasedDateTime ?\n                        <span className=\"deceased-label\">Deceased</span> :\n                        null\n                    }</b>\n                    <small><b>{age}</b> old { this.renderGender() }</small>\n                    <footer className=\"small\">\n                        <span>\n                            DOB: { this.props.patient.birthDate || \"Unknown\" }\n                            {\n                                this.props.patient.deceasedDateTime ?\n                                ' / DOD: ' + moment(this.props.patient.deceasedDateTime).format(\"YYYY-MM-DD\") :\n                                null\n                            }\n                        </span>\n                        <span>ID: { this.props.patient.id || \"Unknown\" }</span>\n                        <span>MRN: { getPatientMRN(this.props.patient) || \"Unknown\" }</span>\n                    </footer>\n                </div>\n                <i className=\"fa fa-angle-right\"/>\n            </Link>\n        )\n    }\n\n    renderGender() {\n        let gender = this.props.patient.gender\n        if (!gender) {\n            return null\n        }\n\n        return (\n            <span className={ gender }>{ gender }</span>\n        );\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./components/PatientListItem/index.js","import UserService from \"../services/UserService\";\n\nconst RenderOnAnonymous = ({ children }) => (!UserService.isLoggedIn()) ? children : null;\n\nexport default RenderOnAnonymous\n\n\n\n// WEBPACK FOOTER //\n// ./components/RenderOnAnonymous.jsx","import UserService from \"../services/UserService\";\n\nconst RenderOnAuthenticated = ({ children }) => (UserService.isLoggedIn()) ? children : null;\n\nexport default RenderOnAuthenticated\n\n\n\n// WEBPACK FOOTER //\n// ./components/RenderOnAuthenticated.jsx","import React from \"react\"\nimport { Provider } from \"react-redux\"\nimport STORE from \"../../redux\"\nimport PatientList from \"../PatientList\"\nimport PatientDetail from \"../PatientDetail\"\nimport App from \"../App\"\nimport { BrowserRouter as Router, Route, Link, Routes, Switch } from \"react-router-dom\"\nimport jQuery from \"jquery\";\nimport RenderOnAnonymous from '../RenderOnAnonymous';\nimport RenderOnAuthenticated from '../RenderOnAuthenticated';\n\nexport class RootPage extends React.Component {\n\n\n    render() {\n        window.$ = window.jQuery = jQuery\n\n        console.log(STORE.getState());\n        return (\n            <div>\n                <Provider store={STORE}>\n                    <Router history={history}>\n                        <div>\n                            <RenderOnAnonymous>\n                                <div> Welcome Please login first</div>\n                            </RenderOnAnonymous>\n                            <RenderOnAuthenticated>\n                                <Switch>\n                                    <App>\n                                        <Route path=\"/\" component={PatientList} exact />\n                                        <Route path=\"/patient/:index\" component={PatientDetail}></Route>\n                                    </App>\n                                </Switch>\n                            </RenderOnAuthenticated>\n                        </div>\n\n                    </Router>\n                </Provider>\n            </div>\n\n        );\n    }\n\n\n}\n\n\n\nexport default RootPage;\n\n\n\n// WEBPACK FOOTER //\n// ./components/RootPage/index.js","import React     from \"react\"\nimport PropTypes from \"prop-types\"\nimport \"./SortWidget.less\"\n\n\nexport default class SortWidget extends React.Component\n{\n    static propTypes = {\n        /**\n         * Fhir sort string like \"status,-date,category\"\n         */\n        sort: PropTypes.string,\n\n        options: PropTypes.arrayOf(PropTypes.shape({\n            name : PropTypes.string,\n            value: PropTypes.string\n        })),\n\n        onChange: PropTypes.func\n    };\n\n    static defaultProps = {\n        sort: \"name,-birthdate\",\n        options: [\n            {\n                label: <span><span className=\"hidden-xs\">Patient </span>ID</span>,\n                name : \"Patient ID\",\n                value: \"_id\"\n            },\n            {\n                name : \"Name\",\n                value: \"given\"\n            },\n            {\n                name : \"Gender\",\n                value: \"gender\"\n            },\n            {\n                name : \"DOB\",\n                value: \"birthdate\"\n            }\n        ]\n    };\n\n    change(name, value) {\n        // console.log(name, value)\n        if (typeof this.props.onChange == \"function\") {\n            let sort = this.parseSort(this.props.sort)\n            if (!value) {\n                if (sort.hasOwnProperty(name)) {\n                    delete sort[name];\n                }\n            }\n            else {\n                sort[name] = value\n            }\n            // console.log(sort, this.compileSort(sort))\n            this.props.onChange(this.compileSort(sort))\n        }\n    }\n\n    parseSort(input) {\n        let sort = {};\n        String(input || \"\").split(\",\").filter(Boolean).forEach(s => {\n            let name = s.replace(/^\\-/, \"\");\n            sort[name] = s.indexOf(\"-\") === 0 ? \"desc\" : \"asc\";\n        })\n        return sort\n    }\n\n    compileSort(sort) {\n        return Object.keys(sort).map(k => sort[k] == \"desc\" ? `-${k}` : k).join(\",\")\n    }\n\n    render() {\n        let sort = this.parseSort(this.props.sort)\n\n        return (\n            <div className=\"sort-widget small\">\n                <span className=\"pull-left\">Sort<span className=\"hidden-xs\"> by</span>:</span>\n                <ul className=\"nav nav-pills\">\n                {\n                    this.props.options.map((o, i) => (\n                        <li\n                            key={ i }\n                            role=\"presentation\"\n                            className={ o.value in sort ? \"active\" : null }\n                        >\n                            <a href=\"#\" onClick={ e => {\n                                e.preventDefault()\n                                let _sort = this.parseSort(this.props.sort)\n                                switch (_sort[o.value]) {\n                                case \"asc\":\n                                    return this.change(o.value, \"desc\")\n                                case \"desc\":\n                                    return this.change(o.value, \"\")\n                                default:\n                                    return this.change(o.value, \"asc\")\n                                }\n                            }}>\n                                { o.label || o.name }\n                                {\n                                    sort[o.value] == \"asc\" ?\n                                    <span className=\"sort\"><span className=\"hidden-xs\"> Asc</span> <i className=\"fa fa-sort-amount-asc\"/></span> :\n                                        sort[o.value] == \"desc\" ?\n                                        <span className=\"sort\"><span className=\"hidden-xs\"> Desc</span> <i className=\"fa fa-sort-amount-desc\"/></span> :\n                                        null\n                                }\n                            </a>\n                        </li>\n                    ))\n                }\n                </ul>\n            </div>\n        )\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./components/SortWidget/index.js","import React     from \"react\"\nimport PropTypes from \"prop-types\"\nimport $ from \"jquery\"\nimport { renderSearchHighlight } from \"../../lib\"\nimport \"./TagSelector.less\"\n\nexport default class TagSelector extends React.Component\n{\n    static propTypes = {\n        tags    : PropTypes.arrayOf(PropTypes.object),\n        selected: PropTypes.arrayOf(PropTypes.string),\n        onChange: PropTypes.func,\n        search  : PropTypes.string,\n        label   : PropTypes.string\n    };\n\n    static defaultProps = {\n        onChange: () => 1,\n        tags    : [],\n        selected: [],\n        search  : \"\"\n    }\n\n    constructor(...args) {\n        super(...args)\n\n        this.state = {\n            // the selected items as a map of unique keys and tag objects\n            selected: [],\n\n            // is the menu currently visible?\n            open: false,\n\n            // the index of the currently selected option (-1 means no\n            // selection).\n            selectedIndex: -1,\n\n            // The search therm (the value of the input field)\n            search : \"\"\n        };\n\n        this.stateFromProps(this.state, this.props)\n\n        // bind the event handlers to preserve the \"this\" context\n        this.addTag       = this.addTag.bind(this)\n        this.removeTag    = this.removeTag.bind(this)\n        this.onFocus      = this.onFocus.bind(this)\n        this.onBlur       = this.onBlur.bind(this)\n        this.onKeyDown    = this.onKeyDown.bind(this)\n        this.onInput      = this.onInput.bind(this)\n    }\n\n    stateFromProps(state, nextProps) {\n        let hasChanged = false\n        if (nextProps.search) {\n            state.search = nextProps.search;\n            hasChanged = true;\n        }\n\n        if (nextProps.selected) {\n            state.selected = [ ...nextProps.selected.map(\n                t => this.props.tags.find(tag => tag.key === t) || {\n                    key: t,\n                    label: t,\n                    custom: true,\n                    data : {\n                        description: t,\n                        codes: {\n                            \"\": [t]\n                        }\n                    }\n                }\n            ) ]\n            hasChanged = true\n        }\n\n        return hasChanged;\n    }\n\n    componentWillReceiveProps(nextProps) {\n        let nextState = {}\n        if (this.stateFromProps(nextState, nextProps)) {\n            this.setState(nextState);\n        }\n    }\n\n    /**\n     * Updates the scroll position of the menu if it is opened and if some of\n     * it's options is selected so that the selected option is always in view.\n     */\n    componentDidUpdate() {\n        let menu = this.refs.menu;\n        if (menu) {\n            let menuHeight    = menu.clientHeight;\n            let menuScrollTop = menu.scrollTop;\n            let paddingTop    = parseInt($(menu).css(\"paddingTop\"), 10);\n            let paddingBottom = parseInt($(menu).css(\"paddingBottom\"), 10);\n            let selected      = $(\".selected\", this.refs.menu);\n\n            if (selected.length) {\n                let selectedTop    = selected[0].offsetTop;\n                let selectedHeight = selected[0].offsetHeight;\n                if (selectedTop < menuScrollTop) {\n                    requestAnimationFrame(() => this.refs.menu.scrollTop = selectedTop - paddingTop)\n                }\n                else if (selectedTop + selectedHeight - menuScrollTop > menuHeight) {\n                    requestAnimationFrame(() => this.refs.menu.scrollTop = selectedTop + selectedHeight +\n                        paddingBottom - menuHeight);\n                }\n            }\n        }\n    }\n\n\n\n    // Event handlers ----------------------------------------------------------\n\n    onFocus() {\n        this.setState({ open: true })\n    }\n\n    onBlur() {\n        this.setState({ open: false })\n    }\n\n    onInput(e) {\n        let listed = this.filterTags(e.target.value);\n        this.setState({\n            search: e.target.value,\n            open: true,\n            selectedIndex: listed.length && this.state.selectedIndex == -1 ?\n                0 :\n                this.state.selectedIndex\n        })\n    }\n\n    /**\n     * This will handle special keys like Enter, Escape and arrows for scrolling\n     */\n    onKeyDown(e) {\n        let listed = this.filterTags(this.state.search);\n        switch (e.keyCode) {\n\n        case 27: // Esc\n            this.setState({ open: false })\n            break;\n\n        case 13: { // Enter\n            // make sure we don't submit the form (if in any)\n            e.preventDefault();\n\n            if (listed.length < 2) {\n                this.setState({ open: false })\n            }\n\n            let index = this.state.selectedIndex;\n            if (index === listed.length - 1) {\n                this.setState({ selectedIndex: index - 1 }, () => {\n                    this.addTag(listed[index])\n                })\n            }\n            else {\n                this.addTag(listed[index])\n            }\n\n            break;\n        }\n\n        case 40: { // Down arrow\n            e.preventDefault();\n            let maxIndex = listed.length - 1\n            this.setState({\n                open         : true,\n                selectedIndex: Math.min(this.state.selectedIndex + 1, maxIndex)\n            });\n            break;\n        }\n\n        case 38: // Up arrow\n            e.preventDefault();\n            if (this.state.selectedIndex > 0) {\n                this.setState({\n                    selectedIndex: this.state.selectedIndex - 1\n                });\n            }\n            else if (this.state.open) {\n                this.setState({\n                    open: false,\n                    selectedIndex: -1\n                })\n            }\n            break;\n        }\n    }\n\n    /**\n     * Happens when the user clicks on an option (or hits the enter key on\n     * selected option)\n     * @param {*} tag\n     * @returns {void}\n     */\n    addTag(tag) {\n\n        if (!tag || !tag.key) {\n            return;\n        }\n\n        // this.shouldn't happen but just in case, check if somebody is trying\n        // to select something that is already selected\n        if (this.state.selected.find(t => t.key === tag.key)) {\n            return;\n        }\n\n        this.setState({\n            ...this.state,\n            selected     : [ ...this.state.selected, tag ],\n            search       : \"\",\n            open         : false,\n            selectedIndex: -1\n        }, () => this.props.onChange(this.state.selected))\n    }\n\n    /**\n     * Happens when the user clicks a close button on a selected tag\n     * @param {*} key\n     */\n    removeTag(key) {\n        if (!key) return;\n        let idx = this.state.selected.findIndex(t => t.key === key);\n        if (idx > -1) {\n            this.state.selected.splice(idx, 1);\n            this.setState({}, () => this.props.onChange(this.state.selected));\n        }\n    }\n\n    // Private helper methods --------------------------------------------------\n\n    filterTags(search) {\n        let tags = this.props.tags.filter(t => {\n\n            // skip the already selected options\n            if (this.state.selected.find(tag => t.key === tag.key)) {\n                return false\n            }\n\n            // search for matches\n            if (search) {\n\n                // first search by name\n                let index = t.label.toLowerCase().indexOf(search.toLowerCase())\n                if (index > -1) {\n                    return true\n                }\n\n                // then search by code\n                if (t.data && t.data.codes && typeof t.data.codes == \"object\") {\n                    for (let system in t.data.codes) {\n                        return t.data.codes[system].some(c => (\n                            c.toLowerCase().indexOf(search.toLowerCase()) > -1\n                        ))\n                    }\n                }\n\n                return false\n            }\n            return true;\n        }).sort((a, b) => {\n            if (a.label > b.label) return 1\n            if (a.label < b.label) return -1\n            return 0\n        }).map(t => ({ ...t }))\n\n        if (this.state.search) {\n            tags.unshift({\n                key   : this.state.search,\n                label : this.state.search,\n                custom: true,\n                data : {\n                    description: this.state.search,\n                    codes: {\n                        \"\": [this.state.search]\n                    }\n                }\n            })\n        }\n\n        return tags\n    }\n\n    // Rendering methods -------------------------------------------------------\n\n    renderTagCode(tag) {\n        if (!tag || !tag.data || !tag.data.codes) {\n            return null;\n        }\n\n        let code = \"\", codes = tag.data.codes;\n        if (codes[\"SNOMED-CT\"]) {\n            code = codes[\"SNOMED-CT\"].join(\"|\")\n        }\n        else {\n            for (let system in codes) {\n                code = `${codes[system].join(\",\")} (${system})`\n                break;\n            }\n        }\n\n        if (this.state.search) {\n            code = renderSearchHighlight(code, this.state.search)\n        }\n\n        return code ?\n            <small key={tag.key} className=\"text-muted code\">{code}:</small> :\n            null;\n    }\n\n    renderTag(tag, index) {\n        return (\n            <div\n                className={\n                    \"menu-item\" +\n                    (this.state.selectedIndex === index ? \" selected\" : \"\") +\n                     (tag.custom ? \" custom text-primary\" : \"\")\n                }\n                key={tag.key}\n                onMouseDown={ e => { e.preventDefault(); this.addTag(tag) }}\n                title={tag.label}\n            >\n                {\n                    tag.custom ?\n                    <span>\n                    Search for <b className=\"tag custom\">\n                        { this.state.search }\n                    </b>{ this.props.label ? \" \" + this.props.label : \"\"}</span> :\n                    null\n                }\n                { tag.custom ? null : this.renderTagCode(tag) }\n                { tag.custom ? null : renderSearchHighlight(tag.label, this.state.search) }\n            </div>\n        )\n    }\n\n    render() {\n        let menuItems = this.filterTags(this.state.search).map(this.renderTag, this)\n        let emptyMenu = menuItems.length === 0\n        let tags = this.state.selected.map(tag => (\n            <div className={\"tag\" + (tag.custom ? \" custom\" : \"\") } key={ tag.key }>\n                { tag.label }\n                <i\n                    className=\"tag-remove fa fa-times-circle\"\n                    title=\"Remove\"\n                    onMouseDown={\n                        e => {\n                            e.preventDefault();\n                            e.stopPropagation();\n                            this.removeTag(tag.key)\n                        }\n                    }\n                />\n            </div>\n        ))\n\n        let placeholder = \"Type to search\"\n        if (this.props.label) {\n            placeholder += ` for ${this.props.label}s`\n        }\n        placeholder += ' ...'\n\n        return (\n            <div className={ \"tag-selector\" + (this.state.open ? \" open\" : \"\") }>\n                { tags.length ? <div className=\"tags\">{tags}</div> : null }\n                <input\n                    className=\"input form-control input-sm\"\n                    placeholder={placeholder}\n                    onFocus={ this.onFocus }\n                    onClick={ this.onFocus }\n                    onBlur={ this.onBlur }\n                    onKeyDown={ this.onKeyDown }\n                    onInput={ this.onInput }\n                    onChange={ ()=>1 }\n                    value={ this.state.search }\n                />\n                <i className=\"fa fa-caret-down\"/>\n                {\n                    emptyMenu && !this.state.search ?\n                    null :\n                    <div className=\"menu dropdown-menu\" ref=\"menu\">\n                        { menuItems }\n                    </div>\n                }\n            </div>\n        )\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/TagSelector/index.js","export default {\n    server: {\n        type: \"STU-3\", // \"DSTU-2\" or \"STU-3\" or \"R4\"\n\n        url: \"https://r3.smarthealthit.org\",\n\n        conditions: {},\n\n        tags: []\n    },\n\n    hideTagSelector: false,\n\n    patientsPerPage: 25,\n\n    // AJAX requests timeout\n    timeout: 20000,\n\n    // Only the selected patients are rendered. Should be false or the\n    // preselected patient IDs should be passed to the window. Otherwise\n    // It will result in rendering no patients at all.\n    renderSelectedOnly: false,\n\n    // If enabled is true (then url and param MUST be set) then clicking on the\n    // patient-related resources in detail view will open their source in that\n    // external viewer. Otherwise they will just be opened in new browser tab.\n    fhirViewer: {\n        enabled: true,\n        url    : \"http://docs.smarthealthit.org/fhir-viewer/index.html\",\n        param  : \"url\"\n    },\n\n    // What to send when the OK dialog button is clicked. Possible values:\n    // \"id-list\"  - comma-separated list of patient IDs (default)\n    // \"id-array\" - array of patient IDs\n    // \"patients\" - array of patient JSON objects\n    outputMode: \"id-list\",\n\n    // \"automatic\" -> onChange plus defer in some cases\n    // \"manual\" -> render a submit button\n    submitStrategy: \"manual\"\n}\n\n\n\n// WEBPACK FOOTER //\n// ./config.default.js","import moment from \"moment\"\nimport { CODE_SYSTEMS } from \"./constants\"\nimport { parseQueryString, request } from \".\"\nimport { intVal, getPath } from \".\"\nimport UserService from \"../services/UserService\";\n\n/**\n * This is just a helper class that is used as a query builder. It has some\n * dedicated setter methods for various query parameters and knows how to\n * compile those into a query string that can be passed to the Patient endpoint\n * of a fhir api server.\n */\nexport default class PatientSearch\n{\n    /**\n     * The constructor just creates an empty instance. Use the setter methods\n     * to set query params and then call compile to build the query string.\n     */\n    constructor(options = {}) {\n\n        this.__cache__ = {};\n\n        this.__scheduled__ = {};\n\n        /**\n         * The list of conditions that should be included in the query.\n         * @type {Object} A map of unique keys and condition objects\n         * @private\n         */\n        this.conditions = { ...(options.conditions || {}) };\n\n        /**\n         * The desired minimal age of the patients as an object like\n         * { value: 5, units: \"years\" }\n         * @type {Object}\n         * @private\n         */\n        this.minAge = null;\n\n        /**\n         * The desired maximal age of the patients as an object like\n         * { value: 5, units: \"years\" }\n         * @type {Object}\n         * @private\n         */\n        this.maxAge = null;\n\n        /**\n         * The patient gender to search for (male|female)\n         * @type {String}\n         * @private\n         */\n        this.gender = options.gender || null;\n\n        /**\n         * How many patients to fetch per page. Defaults to null meaning that\n         * this param will not be included in the query and we are leaving it\n         * for the server to decide.\n         * @type {Number}\n         * @private\n         */\n        this.limit = options.limit || null;\n\n        /**\n         * How many patients to skip. Defaults to null meaning that\n         * this param will not be included in the query and we are leaving it\n         * for the server to decide.\n         * @type {Number}\n         * @private\n         */\n        this.offset = null;\n\n        /**\n         * A collection of additional parameters\n         * @type {Object}\n         * @private\n         */\n        this.params = {};\n\n        /**\n         * This is like a flag that toggle the instance to different modes\n         * (currently only advanced and default are supported)\n         * @type {String} \"advanced\" or \"default\"\n         * @private\n         */\n        this.queryType = options.queryType || \"default\";\n\n        /**\n         * The query string to use if in advanced mode\n         * @type {String}\n         * @private\n         */\n        this.queryString = options.queryString || \"\";\n\n        /**\n         * The sort parameters list\n         * @type {String}\n         * @private\n         */\n        this.sort = options.sort || \"\";\n\n        /**\n         * All the tags that the patients should be filtered by\n         * @type {Array<String>}\n         * @private\n         */\n        this.tags = String(options.tags || \"\").split(/\\s*,\\s*/).filter(Boolean);\n    }\n\n    /**\n     * Schedule a prop change to be made before the next compile\n     * @param {Object} props\n     */\n    schedule(props) {\n        this.__scheduled__ = { ...this.__scheduled__, ...props };\n    }\n\n    hasParam(name) {\n        return this.params.hasOwnProperty(name);\n    }\n\n    /**\n     * Sets a param by name. Note that this is a lower level interface. It does\n     * not know anything about the parameter thus it will not handle UI\n     * dependencies (eg. it won't reset the offset for you)\n     * @param {Name} name The name of the parameter to set\n     * @param {*} value The value to set. Use undefined to remove a parameter\n     * @returns {PatientSearch} Returns the instance\n     */\n    setParam(name, value) {\n        let has = this.hasParam(name)\n        if (value === undefined) {\n            if (has) {\n                delete this.params[name]\n            }\n        }\n        else {\n            this.params[name] = value\n        }\n        this.offset  = null;\n        this.cacheId = null;\n        return this\n    }\n\n    /**\n     * Sets the query type. In advanced mode a query string is provided and\n     * parsed and all the other parameters are ignored. In default mode the\n     * query string is ignored and only the other params are used.\n     * @param {String} type \"advanced\" or anything else for \"default\"\n     * @returns {PatientSearch} Returns the instance\n     */\n    setQueryType(type) {\n        this.queryType = type == \"advanced\" ? \"advanced\" : \"default\"\n        return this\n    }\n\n    /**\n     * Sets the query string to be used while in advanced mode. Note that this\n     * will not be used if not in advanced mode but the query string will still\n     * be persisted so that if the user switches the UI to advanced the last\n     * query can be displayed...\n     * @param {String} query The query string to use if in advanced mode\n     * @returns {PatientSearch} Returns the instance\n     */\n    setQueryString(query) {\n        this.queryString = String(query || \"\")\n        return this\n    }\n\n    /**\n     * Adds a condition to the list of patient conditions\n     * @param {String} key Unique string identifier for that condition\n     * @param {Object} condition The condition to add\n     * @returns {PatientSearch} Returns the instance\n     */\n    addCondition(key, condition) {\n        this.conditions[key] = condition;\n        this.__cache__.patientIDs = null;\n        return this;\n    }\n\n    /**\n     * Removes the condition identified by it's key. If that condition is not\n     * currently included it does nothing\n     * @param {*} key Unique string identifier for that condition\n     * @returns {PatientSearch} Returns the instance\n     */\n    removeCondition(key) {\n        if (this.conditions.hasOwnProperty(key)) {\n            delete this.conditions[key];\n            this.__cache__.patientIDs = null;\n        }\n        return this;\n    }\n\n    /**\n     * Replaces the entire set of conditions at once\n     * @param {Object} conditions The new conditions to set\n     * @returns {PatientSearch} Returns the instance\n     */\n    setConditions(conditions) {\n        this.conditions = { ...conditions };\n        this.schedule({\n            offset: null,\n            cacheId: null\n        });\n        this.__cache__.patientIDs = null;\n        return this;\n    }\n\n    addTag(tag) {\n        if (this.tags.findIndex(tag) == -1) {\n            this.tags.push(tag);\n        }\n        return this;\n    }\n\n    removeTag(tag) {\n        let index = this.tags.findIndex(tag);\n        if (index > -1) {\n            this.tags.splice(index, 1);\n        }\n        return this;\n    }\n\n    setTags(tags) {\n        this.tags = [ ...tags ]\n        this.schedule({\n            offset: null,\n            cacheId: null\n        });\n        return this;\n    }\n\n    /**\n     * Sets the desired min age af the patients. This can also be set to null\n     * (or other falsy value) to exclude the minAge restrictions from the query.\n     * @param {object} age The age\n     * @param {number} age.value The age as number of units\n     * @param {string} age.units The units for the value (years|months|days)\n     * @returns {PatientSearch} Returns the instance\n     */\n    setMinAge(age) {\n        this.minAge  = age;\n        this.schedule({\n            offset: null,\n            cacheId: null\n        });\n        return this;\n    }\n\n    /**\n     * Sets the desired max age af the patients. This can also be set to null\n     * (or other falsy value) to exclude the maxAge restrictions from the query.\n     * @param {object} age The age\n     * @param {number} age.value The age as number of units\n     * @param {string} age.units The units for the value (years|months|days)\n     * @returns {PatientSearch} Returns the instance\n     */\n    setMaxAge(age) {\n        this.maxAge  = age;\n        this.schedule({\n            offset: null,\n            cacheId: null\n        });\n        return this;\n    }\n\n    /**\n     * Sets the min and max ages depending on the specified age group keyword\n     * @param {*} group Can be one of infant, child, adult, elderly.\n     *                  Anything else will clear the age constraints!\n     * @returns {PatientSearch} Returns the instance\n     */\n    setAgeGroup(group) {\n        this.ageGroup = group;\n        this.schedule({\n            offset: null,\n            cacheId: null\n        });\n\n        switch (group) {\n\n        // infant - 0 to 12 months\n        case \"infant\":\n            this.setMinAge(null);\n            this.setMaxAge({ value: 1, units: \"years\" });\n            break;\n\n        // child - 1 to 18 years\n        case \"child\":\n            this.setMinAge({ value: 1 , units: \"years\" });\n            this.setMaxAge({ value: 18, units: \"years\" });\n            break;\n\n        // adult - 18 to 65 years\n        case \"adult\":\n            this.setMinAge({ value: 18, units: \"years\" });\n            this.setMaxAge({ value: 65, units: \"years\" });\n            break;\n\n        // Elderly - 65+\n        case \"elderly\":\n            this.setMinAge({ value: 65, units: \"years\" });\n            this.setMaxAge(null);\n            break;\n\n        // Anything else clears the birthdate param\n        default:\n            this.setMinAge(null);\n            this.setMaxAge(null);\n            // this.ageGroup = null;\n            break;\n        }\n        return this;\n    }\n\n    /**\n     * Sets the gender to search for. Can be \"male\" or \"female\". Any falsy value\n     * will clear the gender param\n     * @param {String} gender \"male\" or \"female\"\n     * @returns {PatientSearch} Returns the instance\n     */\n    setGender(gender) {\n        if (gender !== this.gender) {\n            this.gender  = gender;\n            this.schedule({\n                offset : null,\n                cacheId: null\n            });\n        }\n        return this;\n    }\n\n    /**\n     * Sets how many patients will be fetched per page\n     * @param {number|string} limit The number of records to fetch\n     * @returns {PatientSearch} Returns the instance\n     */\n    setLimit(limit) {\n        this.limit = intVal(limit)\n        if (this.limit < 1) {\n            this.limit = null;\n        }\n        return this;\n    }\n\n    /**\n     * Sets how many patients will be skipped\n     * @param {string} cacheId The id generated by the server (_getpages)\n     * @param {number|string} offset The number of records to skip\n     * @returns {PatientSearch} Returns the instance\n     */\n    setOffset(cacheId, offset) {\n        this.offset = intVal(offset)\n        this.cacheId = cacheId\n        if (this.offset < 1) {\n            this.offset = null;\n            this.cacheId = null;\n        }\n        return this;\n    }\n\n    /**\n     * Sets the sorting to use\n     * @param {string} sort A fhir sort string like \"status,-date,category\"\n     * @returns {PatientSearch} Returns the instance\n     */\n    setSort(sort) {\n        this.sort = sort;\n        this.offset = null;\n        this.cacheId = null;\n        return this\n    }\n\n    /**\n     * Returns another PatientSearch instance with the exact same state as this.\n     * @returns {PatientSearch} Returns the new copy\n     */\n    clone() {\n        let inst = new PatientSearch();\n\n        inst.conditions = { ...this.conditions };\n        inst.params = { ...this.params };\n        inst.tags = [ ...this.tags ];\n\n        inst.setSort(this.sort)\n            .setAgeGroup(this.ageGroup)\n            .setMinAge(this.minAge)\n            .setMaxAge(this.maxAge)\n            .setGender(this.gender)\n            .setLimit(this.limit)\n            .setOffset(this.cacheId, this.offset)\n            .setQueryType(this.queryType)\n            .setQueryString(this.queryString);\n\n        return inst;\n    }\n\n    /**\n     * Clear all params. If you call compile after clear only the \"_format=json\"\n     * part should be returned\n     * @returns {PatientSearch} Returns the instance\n     */\n    reset() {\n        this.conditions   = {};\n        this.minAge       = null;\n        this.maxAge       = null;\n        this.gender       = null;\n        this.limit        = null;\n        this.offset       = null;\n        this.cacheId      = null;\n        this.ageGroup     = null;\n        this.params       = {};\n        this.queryString  = \"\";\n        this.queryType    = \"default\"\n        this.sort         = \"\";\n        this.tags         = [];\n        return this;\n    }\n\n    /**\n     * Returns an object representing the current state of the instance.\n     * The object contains COPIES of the current param values.\n     * @returns {Object}\n     */\n    getState() {\n        return {\n            conditions  : this.conditions,\n            minAge      : this.minAge,\n            maxAge      : this.maxAge,\n            gender      : this.gender,\n            limit       : this.limit,\n            offset      : this.offset,\n            cacheId     : this.cacheId,\n            ageGroup    : this.ageGroup,\n            params      : { ...this.params },\n            queryString : this.queryString,\n            queryType   : this.queryType,\n            sort        : this.sort,\n            tags        : [ ...this.tags ]\n        };\n    }\n\n    /**\n     * Compiles and returns the query string that can be send to the Patient\n     * endpoint.\n     * @return {String} The compiled query string (without the \"?\" in front)\n     */\n    compile(encode=true) {\n        let params = [];\n\n        [\n            // conditions\n            \"minAge\",\n            \"maxAge\",\n            \"gender\",\n            \"limit\",\n            \"offset\",\n            // \"params\",\n            \"queryType\",\n            \"queryString\",\n            \"sort\"//,\n            // tags\n        ].forEach(prop => {\n            if (this.__scheduled__.hasOwnProperty(prop)) {\n                this[prop] = this.__scheduled__[prop];\n                delete this.__scheduled__[prop];\n            }\n        })\n\n        // Tags ----------------------------------------------------------------\n        if (this.tags.length && !this.params._id) {\n            params.push({ name: \"_tag\", value: this.tags.join(\",\") });\n        }\n\n        // Advanced query ------------------------------------------------------\n        if (this.queryType == \"advanced\") {\n            let str = this.queryString.trim()\n            if (str) {\n                let _query = parseQueryString(str);\n                for (let name in _query) {\n                    params.push({ name, value: _query[name] });\n                }\n            }\n        }\n\n        // Default query -------------------------------------------------------\n        else {\n\n            // Custom params ---------------------------------------------------\n            Object.keys(this.params).forEach(k => {\n                if (String(this.params[k]).trim()) {\n                    params.push({\n                        name : k,\n                        value: this.params[k]\n                    });\n                }\n            });\n\n            // sort ------------------------------------------------------------\n            if (this.sort) {\n                String(this.sort).split(\",\").forEach(token => {\n                    if (token.indexOf(\"-\") === 0) {\n                        params.push({\n                            name : \"_sort:desc\",\n                            value: token.substring(1)\n                        })\n                    }\n                    else {\n                        params.push({\n                            name : \"_sort:asc\",\n                            value: token\n                        })\n                    }\n                })\n                // params.push({\n                //     name : \"_sort\",\n                //     value: this.sort\n                // })\n            }\n\n            if (!this.params._id) {\n\n                // Min age -----------------------------------------------------\n                if (this.minAge) {\n                    let d = moment().subtract(\n                        this.minAge.value,\n                        this.minAge.units\n                    );\n                    params.push({\n                        name : \"birthdate\",\n                        value: \"le\" + d.format('YYYY-MM-DD')\n                    });\n                }\n\n                // Max age -----------------------------------------------------\n                if (this.maxAge) {\n                    let d = moment().subtract(\n                        this.maxAge.value,\n                        this.maxAge.units\n                    );\n                    params.push({\n                        name : \"birthdate\",\n                        value: \"ge\" + d.format('YYYY-MM-DD')\n                    });\n                }\n\n                // exclude deceased patients if age is specified ---------------\n                if (this.maxAge || this.minAge) {\n                    let existing = params.find(p => p.name === \"deceased\");\n                    if (existing) {\n                        existing.value = false;\n                    }\n                    else {\n                        params.push({\n                            name : \"deceased\",\n                            value: false\n                        });\n                    }\n                }\n\n                // Gender ------------------------------------------------------\n                if (this.gender) {\n                    params.push({\n                        name : \"gender\",\n                        value: this.gender\n                    });\n                }\n            }\n        }\n\n        // limit ---------------------------------------------------------------\n        if (this.limit) {\n            params.push({\n                name : \"_count\",\n                value: this.limit\n            });\n        }\n\n        // offset --------------------------------------------------------------\n        if (this.offset && this.cacheId) {\n            params.push({\n                name: \"_getpages\",\n                value: this.cacheId\n            }, {\n                name : \"_getpagesoffset\",\n                value: this.offset\n            });\n        }\n\n        // Compile and return --------------------------------------------------\n        return params.map(p => (\n            encode ?\n                encodeURIComponent(p.name) + \"=\" + encodeURIComponent(p.value) :\n                p.name + \"=\" + p.value\n        )).join(\"&\");\n    }\n\n    /**\n     * Checks if there are any conditions chosen at the moment\n     * @returns {Boolean}\n     */\n    hasConditions() {\n        for (let key in this.conditions) {\n            if (this.conditions.hasOwnProperty(key)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    /**\n     * Compiles the current conditions into URL-encoded parameter list\n     * @returns {String}\n     */\n    compileConditions() {\n        // let params = [];\n\n        // for (let key in this.conditions) {\n        //     let condition = this.conditions[key]\n\n        //     // system\n        //     let value = [];\n        //     for (let system in condition.codes) {\n        //         let systemUrl = (CODE_SYSTEMS[system] || {}).url;\n\n        //         // system.code[n] - OR\n        //         condition.codes[system].forEach(c => {\n        //             value.push( systemUrl ? systemUrl + \"|\" + c : c );\n        //         })\n        //     }\n\n        //     if (value.length) {\n        //         params.push({\n        //             name : \"code\",\n        //             value: value.join(\",\")\n        //         })\n        //     }\n        // }\n\n        // return params.map(p => (\n        //     encodeURIComponent(p.name) + \"=\" + encodeURIComponent(p.value)\n        // )).join(\"&\");\n        let out = []\n        for (let key in this.conditions) {\n            let condition = this.conditions[key]\n\n            // system\n            let value = [];\n            for (let system in condition.codes) {\n                let systemUrl = (CODE_SYSTEMS[system] || {}).url || \"http://snomed.info/sct\";\n\n                // system.code[n] - OR\n                condition.codes[system].forEach(c => {\n                    value.push(systemUrl + \"|\" + c);\n                })\n            }\n\n            if (value.length) {\n                out.push(value.join(\",\"));\n            }\n        }\n        return out.length ? \"code=\" + encodeURIComponent(out.join(\",\")) : \"\";\n    }\n\n    getConditionKeys() {\n        let out = []\n        for (let key in this.conditions) {\n            let condition = this.conditions[key]\n\n            // system\n            let value = [];\n            for (let system in condition.codes) {\n                let systemUrl = (CODE_SYSTEMS[system] || {}).url || \"http://snomed.info/sct\";\n\n                // system.code[n] - OR\n                condition.codes[system].forEach(c => {\n                    value.push(systemUrl + \"|\" + c);\n                })\n            }\n\n            if (value.length) {\n                out.push(value.join(\",\"));\n            }\n        }\n        return out;\n    }\n\n    /**\n     * Returns a promise resolved with a list of patient IDs that have the\n     * specified condition(s)\n     * @param {String} baseURL\n     * @returns {Promise<String[]>}\n     */\n    getPatientIDs(server) {\n\n        if (this.__cache__.patientIDs) {\n            return Promise.resolve(this.__cache__.patientIDs);\n        }\n\n        let conditions = this.compileConditions();\n\n        if (!conditions) {\n            return Promise.resolve([]);\n        }\n\n        /**\n         * The keys (eg: \"http://snomed.info/sct|44054006\") that were set by the\n         * user.\n         * @type {Array<String>}\n         * @private\n         */\n        let conditionKeys = this.getConditionKeys();\n\n        /**\n         * Map of patient IDs as keys and array of condition keys as values.\n         * @private\n         */\n        let patientIDs = {};\n\n        /**\n         * Handles the JSON response (single page) of the conditions query.\n         * Collects the patient IDs and their condition codes into the\n         * patientIDs local variable. When all the pages are fetched, cleans up\n         * the IDs to only contain those that have all the conditions specified\n         * by the user.\n         * @param {Object} response The JSON Conditions bundle response\n         * @returns {Promise<any>} Array of patient ID strings (can be empty)\n         */\n        const handleConditionsResponse = response => {\n\n            // Collect the data\n            if (response.entry) {\n                response.entry.forEach(condition => {\n                    let patientID = server.type == \"DSTU-2\" ?\n                        condition.resource.patient.reference.split(\"/\").pop():\n                        condition.resource.subject.reference.split(\"/\").pop();\n                    if (!patientIDs[patientID]) {\n                        patientIDs[patientID] = [];\n                    }\n                    patientIDs[patientID].push(\n                        (getPath(condition, \"resource.code.coding.0.system\") || \"http://snomed.info/sct\")\n                        + \"|\" + getPath(condition, \"resource.code.coding.0.code\")\n                    );\n                });\n\n                let nextLink = (response.link || []).find(l => l.relation == \"next\");\n                if (nextLink) {\n                    return request({ url: nextLink.url }).then(handleConditionsResponse);\n                }\n            }\n            // console.log(conditionKeys, patientIDs)\n            // Clean up and only leave patients having all the conditions\n            patientIDs = Object.keys(patientIDs).filter(key => {\n                return conditionKeys.every(\n                    conditionKey => patientIDs[key].indexOf(conditionKey) > -1\n                );\n            });\n            // console.log(patientIDs)\n\n            // finally return a promise resolved with the compiled ID array\n            return Promise.resolve(patientIDs);\n        }\n\n        // The conditions to search for\n        let params = [conditions];\n\n        // only need the patient - skip the rest to reduce the response\n        params.push(\n            server.type == \"DSTU-2\" ?\n                \"_elements=patient,code\" :\n                \"_elements=subject,code\"\n        );\n\n        // Set bigger limit here to reduce the chance of having to\n        // make other queries to fetch subsequent pages\n        params.push(\"_count=500\");\n\n        // Tags (not currently available in STU2)\n        if (this.tags.length) {\n            params.push( \"_tag=\" + encodeURIComponent(this.tags.join(\",\")) );\n        }\n\n        return request({\n            url: `${server.url}/Condition?${params.join(\"&\")}`\n        })\n        .then(handleConditionsResponse)\n        .then(ids => {\n            this.__cache__.patientIDs = ids;\n            return ids;\n        });\n    }\n\n    /**\n     * Fetches the patients matching the user-defined conditions. The actual\n     * strategy may vary but regardless of the implementation, a promise is\n     * returned that should eventually be resolved with the result bundle.\n     * @param {String} baseURL\n     * @returns {Promise<Bundle>}\n     */\n    fetch(server) {\n\n        let data = this.compile()\n\n        // STU2 does not work with the deceased param\n        if (server.type == \"DSTU-2\") {\n            data = data.replace(/\\bdeceased=(true|false)\\b/gi, \"\");\n        }\n\n        // prepare the base options for the patient ajax request\n        let options = {\n            url: this.offset && this.cacheId ? server.url : `${server.url}/Patient/_search`,\n            method: this.offset && this.cacheId ? \"GET\" : \"POST\",\n            processData: false,\n            data,\n            headers: {\n                accept: \"application/json+fhir\",\n                \"content-type\": \"application/x-www-form-urlencoded\",\n                \"Authorization\" : \"Bearer \" + UserService.getToken()\n            }\n        };\n\n        return this.getPatientIDs(server)\n        .then(ids => {\n            if (ids.length) {\n                // if IDs were found - add them to the patient query\n                options.data = [\n                    options.data,\n                    \"_id=\" + encodeURIComponent(ids.join(\",\"))\n                ].filter(Boolean).join(\"&\");\n            }\n            else {\n                // If conditions were specified but no patients were found to\n                // have those conditions, then we should exit early.\n                if (this.hasConditions()) {\n                    return Promise.reject(\n                        \"No patients found with the specified conditions!\"\n                    );\n                }\n            }\n            return options;\n        })\n        .then(request);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/PatientSearch.js","import { parseQueryString } from \"../lib\"\n\n/**\n * The initial state is just an empty object that will be filled\n * with patient IDs as keys and booleans as values to indicate if\n * that patient is selected.\n */\nconst INITIAL_STATE = parseQueryString(\n    location.hash.replace(/^.*\\?/, \"\")\n)\n\n\n// Export the reducer as default\nexport default function() {\n    return { ...INITIAL_STATE }\n}\n\n\n// WEBPACK FOOTER //\n// ./redux/urlParams.js","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/base64-js/index.js\n// module id = 331\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".age-widget-wrap {\\n  display: flex;\\n  flex-direction: row;\\n  flex-wrap: nowrap;\\n  white-space: nowrap;\\n  padding: 0;\\n  position: relative;\\n  font-size: 12px;\\n}\\n.age-widget-wrap > * {\\n  display: flex;\\n  flex-grow: 1;\\n  flex-shrink: 1;\\n  margin: 0;\\n  height: 100%;\\n  font-size: 13px;\\n}\\n.age-widget-wrap select {\\n  border: 1px solid transparent;\\n  border-radius: 4px;\\n  height: 100%;\\n}\\n.age-widget-wrap.custom > select {\\n  flex-grow: 0;\\n  min-width: 0;\\n  flex-basis: 180px;\\n}\\n.age-widget-wrap input {\\n  height: 100%;\\n  border: 1px solid transparent;\\n}\\n.age-widget {\\n  display: flex;\\n  flex-basis: 30%;\\n  min-width: 0;\\n  overflow: hidden;\\n  align-items: center;\\n  box-shadow: 2px 1px 2px -2px #BBB inset;\\n}\\n.age-widget:last-of-type {\\n  border-radius: 0 3px 3px 0;\\n}\\n.age-widget span {\\n  display: flex;\\n  white-space: nowrap;\\n  flex-basis: 7ex;\\n  flex-shrink: 0;\\n  flex-grow: 0;\\n  margin: 0 1ex 0 0;\\n  flex-direction: column;\\n  align-content: flex-end;\\n  background: rgba(0, 0, 0, 0.06);\\n  box-shadow: 1px 0 0 0 rgba(0, 0, 0, 0.1), 1px 0 2px 0px rgba(0, 0, 0, 0.1);\\n  line-height: 2.1em;\\n  padding: 0 1ex;\\n  text-align: right;\\n  height: 100%;\\n  font-weight: 500;\\n}\\n.age-widget input {\\n  flex-shrink: 1;\\n  flex-grow: 2;\\n  flex-basis: 30px;\\n  display: flex;\\n  margin: 0;\\n  background: transparent;\\n  min-width: 32px;\\n  border-right: 1px dotted rgba(0, 0, 0, 0.2);\\n}\\n.age-widget select {\\n  display: flex;\\n  flex-shrink: 1;\\n  flex-grow: 1;\\n  flex-basis: 6em;\\n  min-width: 6em;\\n}\\n.age-widget:hover {\\n  box-shadow: 0 0 0 1px #369;\\n  background: #ebf0f5;\\n}\\n.age-widget.invalid {\\n  background: rgba(255, 0, 0, 0.1);\\n  background: rgba(255, 0, 0, 0.03) repeating-linear-gradient(-45deg, rgba(255, 50, 0, 0), rgba(255, 50, 0, 0) 2.5px, rgba(255, 0, 0, 0.2) 3px, rgba(255, 50, 0, 0) 3.5px);\\n  background-size: 40px 40px;\\n}\\n@media (max-width: 600px) {\\n  .age-widget-wrap.custom {\\n    flex-wrap: wrap;\\n    white-space: normal;\\n    height: auto;\\n  }\\n  .age-widget-wrap.custom > select {\\n    flex-basis: 600px;\\n    flex-grow: 1;\\n    flex-shrink: 1;\\n    width: 100%;\\n    line-height: 2.1em;\\n    height: 2.1em;\\n  }\\n  .age-widget-wrap.custom .age-widget {\\n    flex-basis: 50%;\\n    flex-grow: 1;\\n    min-width: none;\\n    box-shadow: 0px 3px 0px -2px #DDD inset;\\n  }\\n  .age-widget-wrap.custom .age-widget:hover {\\n    box-shadow: 0 0 0 1px #369;\\n    background: #ebf0f5;\\n  }\\n  .age-widget-wrap.custom .age-widget:last-of-type {\\n    border-radius: 0 0 3px 0;\\n  }\\n  .age-widget-wrap.custom .age-widget ~ .age-widget span {\\n    box-shadow: 1px 0 0 0 rgba(0, 0, 0, 0.1), 1px 0 0 0 rgba(0, 0, 0, 0.1) inset, 1px 0 2px 0px rgba(0, 0, 0, 0.1);\\n  }\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/css-loader!../~/postcss-loader!../~/less-loader/dist/cjs.js!./components/AgeSelector/AgeSelector.less\n// module id = 334\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"* {\\n  box-sizing: border-box;\\n}\\nhtml {\\n  height: 100%;\\n  display: block;\\n}\\nbody {\\n  background: linear-gradient(#F6F6F6, #FFF);\\n  color: #444;\\n  margin: 0;\\n  padding: 0;\\n  overflow: hidden;\\n  height: 100%;\\n  font-family: \\\"Helvetica Neue\\\", Arial, sans-serif;\\n  font-size: 14px;\\n  line-height: normal;\\n}\\na {\\n  text-decoration: none;\\n  color: #369;\\n}\\na:disabled,\\na[disabled] {\\n  pointer-events: none;\\n  opacity: 0.4 !important;\\n}\\nhr {\\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\\n  border-bottom: 1px solid rgba(255, 255, 255, 0.9);\\n}\\n*:focus {\\n  outline: none !important;\\n}\\n.tab-content {\\n  background: linear-gradient(#FFF, transparent);\\n  border: 1px solid #DDD;\\n  border-top: 0;\\n  padding: 15px 15px 0;\\n  border-radius: 0 0 5px 5px;\\n}\\n#overlay {\\n  position: fixed;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  background: rgba(150, 150, 150, 0.1);\\n  z-index: 1000000000;\\n}\\n#main {\\n  height: 100%;\\n}\\n.app {\\n  display: flex;\\n  flex-direction: column;\\n  flex-shrink: 0;\\n  height: 100%;\\n}\\n.page {\\n  display: flex;\\n  position: fixed;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n}\\n.page {\\n  display: flex;\\n}\\n.patient-search-loading {\\n  display: flex;\\n  flex-grow: 1;\\n  align-content: center;\\n  align-items: center;\\n  align-self: center;\\n}\\n.patient-search-loading .fa {\\n  margin: 1ex;\\n}\\n.spin {\\n  animation: spin 2s linear infinite;\\n}\\n@keyframes spin {\\n  0% {\\n    transform: rotate(0deg);\\n  }\\n  100% {\\n    transform: rotate(359deg);\\n  }\\n}\\n.page {\\n  display: flex;\\n  flex-grow: 1;\\n  flex-direction: column;\\n  height: 100%;\\n}\\n.pre {\\n  white-space: pre;\\n  font-family: monospace;\\n  font-size: 12px;\\n  display: block;\\n}\\n.search-match {\\n  background: #FFCF39;\\n  box-shadow: 0 0 1px rgba(255, 255, 255, 0.8) inset, 0 0 1px rgba(0, 0, 0, 0.99) !important;\\n  border-radius: 2px;\\n  text-shadow: 0 0 1px #FFF !important;\\n  color: #000 !important;\\n}\\n.small.pull-left,\\n.small.pull-right,\\nsmall.pull-left,\\nsmall.pull-right {\\n  margin-top: 0.5ex;\\n}\\nlabel[disabled] {\\n  color: rgba(0, 0, 0, 0.4);\\n  cursor: not-allowed;\\n  user-select: none;\\n}\\n.deceased-label {\\n  vertical-align: baseline;\\n  color: #e45f00;\\n  font-size: 11px;\\n  padding: 0px 4px 1px;\\n  border-radius: 3px;\\n  border: 1px solid #ff6a00;\\n  box-shadow: 0 1px 4px 0px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(255, 255, 255, 0.31) inset;\\n}\\nselect,\\nselect.form-control {\\n  padding: 0 10px;\\n  line-height: 30px;\\n  font: inherit;\\n  background-color: transparent;\\n  background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwMCIgaGVpZ2h0PSI1MTIiIHZpZXdCb3g9IjAgMCAxMDAwIDUxMiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZD0iTSA5Ni4wMCw5Ni4wMGwtOTYuMDAsOTYuMDBsIDI1Ni4wMCwyNTYuMDBsIDI1Ni4wMC0yNTYuMDBsLTk2LjAwLTk2LjAwTCAyNTYuMDAsMjU2LjAwTCA5Ni4wMCw5Ni4wMHoiID48L3BhdGg+PC9zdmc+');\\n  background-position: 100% 50%;\\n  background-repeat: no-repeat;\\n  background-size: 15px;\\n  position: relative;\\n  padding-right: 20px;\\n  -webkit-appearance: none;\\n  -moz-appearance: none;\\n  -ms-appearance: none;\\n}\\nselect::-ms-expand,\\nselect.form-control::-ms-expand {\\n  display: none;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/css-loader!../~/postcss-loader!../~/less-loader/dist/cjs.js!./components/App/App.less\n// module id = 335\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".dialog-buttons button {\\n  min-width: 10em;\\n  margin: 0 0 0 1em;\\n}\\n.dialog-buttons label {\\n  margin: 2px 0;\\n  display: flex;\\n  align-items: center;\\n  min-height: 30px;\\n}\\n.dialog-buttons .btn-group {\\n  display: inline-flex;\\n  flex: 0 1 18em;\\n  line-height: 1;\\n  flex-direction: row;\\n  box-shadow: 0 1px 1px #FFF;\\n  margin: 0 6px;\\n}\\n.dialog-buttons .btn-group > .btn {\\n  display: flex;\\n  flex: 1 1 120px;\\n  align-items: center;\\n  align-content: center;\\n  align-self: center;\\n  flex-direction: column;\\n  min-width: 4em;\\n  margin: 0;\\n  border: 1px solid #BBB;\\n  padding: 4px 2ex;\\n  background: linear-gradient(#F9F9F9, #E9E9E9);\\n  font-weight: normal;\\n  color: #666;\\n  text-shadow: 0 1px 0 #FFF;\\n  box-shadow: 0 1px 1px #FFF inset;\\n  overflow: hidden;\\n}\\n.dialog-buttons .btn-group > .btn:hover {\\n  background: linear-gradient(#FFF, #EEE);\\n}\\n.dialog-buttons .btn-group > .btn:active,\\n.dialog-buttons .btn-group > .btn.active {\\n  background: linear-gradient(#CCC, #DDD);\\n  box-shadow: 0 1px 1px #BBB inset;\\n  border-color: #999 #AAA #BBB;\\n}\\n.dialog-buttons .btn-group > .btn + .btn {\\n  margin-left: -1px;\\n}\\n.dialog-buttons .btn-group > .btn:first-child {\\n  border-radius: 4px 0 0 4px;\\n}\\n.dialog-buttons .btn-group > .btn:last-child {\\n  border-radius: 0 4px 4px 0;\\n}\\n.dialog-buttons :disabled .btn-group,\\n.dialog-buttons [disabled] .btn-group,\\n.dialog-buttons .disabled .btn-group {\\n  opacity: 0.5;\\n  pointer-events: none;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/css-loader!../~/postcss-loader!../~/less-loader/dist/cjs.js!./components/DialogFooter/DialogFooter.less\n// module id = 336\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".app-footer {\\n  position: relative;\\n  z-index: 3;\\n  display: flex;\\n  flex-grow: 0;\\n  flex-shrink: 0;\\n  justify-content: center;\\n  align-items: center;\\n  box-shadow: 0 -1px 0 rgba(0, 0, 0, 0.2), 0 0 5px 0 rgba(0, 0, 0, 0.25);\\n  text-shadow: 0 1px 0 #FFF;\\n  background: #F0F0F0;\\n  white-space: nowrap;\\n}\\n.app-footer .row {\\n  padding: 4px 0;\\n  box-shadow: 0 -1px 0 0 rgba(0, 0, 0, 0.1) inset;\\n}\\n.app-footer .row + .row {\\n  box-shadow: 0 -1px 0 0 rgba(0, 0, 0, 0.1) inset, 0 1px 0 0 rgba(255, 255, 255, 0.9) inset;\\n}\\n.app-footer .row:first-child .col-xs-6 {\\n  padding: 6px 0px;\\n}\\n.app-footer a {\\n  display: block;\\n  padding: 5px 0px;\\n  text-align: center;\\n  border-radius: 4px;\\n  border: 1px solid transparent;\\n}\\n.app-footer a:hover {\\n  background: rgba(51, 122, 183, 0.15);\\n  border: 1px solid rgba(51, 122, 183, 0.29);\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/css-loader!../~/postcss-loader!../~/less-loader/dist/cjs.js!./components/Footer/Footer.less\n// module id = 337\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".app-header {\\n  color: #1f3d5c;\\n  padding: 5px 0 0;\\n  background: linear-gradient(#DFDFDF, #EEE 5px, #e2e2e2);\\n  position: relative;\\n  z-index: 3;\\n  box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 5px 0 rgba(0, 0, 0, 0.5);\\n  text-shadow: 0 1px 0 #FFF;\\n  display: flex;\\n  flex-shrink: 0;\\n  flex-direction: column;\\n}\\n.app-header .nav.nav-tabs {\\n  padding-left: 5px;\\n}\\n.app-header .nav.nav-tabs a {\\n  padding: 5px 10px;\\n}\\n.app-header .tab-content {\\n  background: linear-gradient(#FFF, #F6F6F6);\\n  border: 0;\\n  border-bottom: 1px solid #BBB;\\n  padding: 5px 5px 0;\\n  border-radius: 0;\\n  font-size: small;\\n  box-shadow: 0 2px 1px -1px rgba(0, 0, 0, 0.1);\\n}\\n.app-header .badge {\\n  text-shadow: 0 0 1px #FFF;\\n  background: rgba(0, 0, 0, 0.08);\\n  color: #444;\\n  font-weight: 400;\\n  box-shadow: 0 0 0.5px 0 rgba(0, 0, 0, 0.2) inset;\\n}\\n.app-header .advanced-label {\\n  margin: 7px 6px 0 0;\\n}\\n.app-header .advanced-label input[type=\\\"checkbox\\\"] {\\n  margin: 0;\\n  vertical-align: middle;\\n}\\n.app-header .form-group {\\n  margin-bottom: 5px;\\n}\\n.app-header label,\\n.app-header .alert {\\n  margin-bottom: 3px;\\n}\\n.app-header .alert {\\n  padding: 5px 10px;\\n}\\n.app-header .btn-submit {\\n  margin: 4px 5px 0 auto;\\n  padding: 3px 8px;\\n  box-shadow: -13px 3px 0px -6px #e3e3e3, 13px 3px 0px -6px #e3e3e3, 0px 1px 0px 2px #e3e3e3, 0 2px 0 2px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.4), 0px 1px 1px -1px #FFF inset, 0px -17px 0px -5px rgba(0, 0, 0, 0.05) inset;\\n  border-radius: 30px;\\n  text-shadow: 0 -1px 1px rgba(0, 0, 0, 0.25), 0 0 1px rgba(0, 0, 0, 0.5);\\n  border-color: rgba(0, 0, 0, 0.5);\\n  position: relative;\\n  z-index: 100000000;\\n  min-width: 10%;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/css-loader!../~/postcss-loader!../~/less-loader/dist/cjs.js!./components/Header/Header.less\n// module id = 338\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".loader {\\n  background: rgba(255, 255, 255, 0.5);\\n  text-align: center;\\n  position: absolute;\\n  z-index: 2;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  border-radius: inherit;\\n}\\n.loader div {\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  font-size: 18px;\\n  transform: translate(-50%, -50%);\\n  background: #FFF;\\n  border-radius: 5px;\\n  padding: 1ex 2em;\\n  box-shadow: 0 0 1px 0px rgba(0, 0, 0, 0.5), 0 0 15px 1px rgba(0, 0, 0, 0.15);\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/css-loader!../~/postcss-loader!../~/less-loader/dist/cjs.js!./components/Loader/Loader.less\n// module id = 339\n// module chunks = 0","import React     from \"react\"\nimport PropTypes from \"prop-types\"\nimport Moment    from \"moment\"\n\nexport default function Date({ moment, format=\"MM/DD/YYYY\", ...rest }) {\n    return <span {...rest}>{ Moment(moment).format(format) }</span>;\n}\n\nDate.propTypes = {\n    format: PropTypes.string,\n    moment: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.instanceOf(Date),\n        PropTypes.object // moment\n    ]).isRequired\n};\n\n\n// WEBPACK FOOTER //\n// ./components/Fhir/Date.js","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".modal {\\n  position: fixed;\\n  z-index: 1;\\n  width: 100%;\\n  height: 100%;\\n  background-color: rgba(0, 0, 0, 0.25);\\n}\\n.modal_content {\\n  background-color: white;\\n  position: absolute;\\n  top: 20%;\\n  left: 30%;\\n  width: 40%;\\n  padding: 20px;\\n  border-radius: 5px;\\n  border: 2px solid black;\\n}\\n.close {\\n  color: Black;\\n  float: right;\\n}\\n.close:hover {\\n  color: cyan;\\n  cursor: pointer;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/css-loader!../~/postcss-loader!../~/less-loader/dist/cjs.js!./components/PatientAlert/PatientAlert.less\n// module id = 340\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".patient-detail-page {\\n  overflow: auto;\\n  padding: 65px 0 50px;\\n  display: block;\\n  -webkit-overflow-scrolling: touch;\\n}\\n.patient-detail-page > .container {\\n  width: 100%;\\n}\\n.patient-detail-page .navigator {\\n  color: #FFF;\\n}\\n.patient-detail-page .navigator a {\\n  white-space: nowrap;\\n  padding: 8px 15px;\\n  margin: 5px 0;\\n  color: #FFF;\\n}\\n.patient-detail-page .navigator a:hover {\\n  background: rgba(0, 0, 0, 0.05);\\n}\\n.patient-detail-page .navigator .fa {\\n  margin: 0 5px;\\n}\\n.patient-detail-page .embed-responsive {\\n  padding-bottom: 100%;\\n}\\n.patient-detail-page .page-header {\\n  margin: 0;\\n  padding-bottom: 1.5ex;\\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\\n}\\n.patient-detail-page .patient {\\n  background: transparent;\\n  padding: 0;\\n  border: 0;\\n  box-shadow: none;\\n  position: relative;\\n}\\n.patient-detail-page .patient .text-left {\\n  text-shadow: 0 0 1px rgba(0, 0, 0, 0.1);\\n}\\n.patient-detail-page .patient-row {\\n  background: rgba(0, 0, 0, 0.05);\\n  border-radius: 3px;\\n  margin-bottom: 5px;\\n  padding: 5px;\\n}\\n.patient-detail-page .patient-row:after {\\n  content: \\\"\\\";\\n  display: table;\\n  clear: both;\\n}\\n.patient-detail-page .patient-row ~ .row > div {\\n  padding: 3px 5px;\\n}\\n.patient-detail-page .patient-row h3 {\\n  margin: 0;\\n  line-height: 1.45em;\\n}\\n.patient-detail-page .patient-row .label {\\n  margin: 8px 0 0 12px;\\n  font-size: 13px;\\n}\\n.patient-detail-page .patient-row .btn {\\n  min-width: 7em;\\n  margin: 2px;\\n}\\n.patient-detail-page .patient-image-wrap {\\n  margin-right: 1ex;\\n}\\n.patient-detail-page .patient-name {\\n  font-size: 24px;\\n}\\n.patient-detail-page td,\\n.patient-detail-page th {\\n  font-size: 13px;\\n  line-height: 16px;\\n}\\n.patient-detail-page td .text-muted,\\n.patient-detail-page th .text-muted {\\n  font-weight: 400;\\n}\\n.patient-detail-page td b,\\n.patient-detail-page th b {\\n  font-weight: 500;\\n}\\n.patient-detail-page td label,\\n.patient-detail-page th label {\\n  margin-bottom: 0;\\n}\\n.patient-detail-page td td,\\n.patient-detail-page th td {\\n  vertical-align: top;\\n  font-size: 12px;\\n  line-height: 16px;\\n}\\n.patient-detail-page td .label-cell,\\n.patient-detail-page th .label-cell {\\n  color: #888;\\n  white-space: nowrap;\\n  text-align: right;\\n  font-weight: 400;\\n  padding-right: 1ex;\\n}\\n.patient-detail-page td .label-cell:after,\\n.patient-detail-page th .label-cell:after {\\n  content: \\\": \\\";\\n}\\n.patient-detail-page td {\\n  font-weight: 500;\\n}\\n.patient-detail-page th {\\n  font-weight: 700;\\n}\\n.patient-detail-page thead th .glyphicon,\\n.patient-detail-page thead th .fa {\\n  text-shadow: 0 1px 2px #FFF, 0 0 0px #214b6f;\\n  color: rgba(51, 122, 183, 0.3);\\n}\\n.patient-detail-page .patient-details {\\n  white-space: normal;\\n  word-wrap: break-word;\\n}\\n.patient-detail-page .patient-details .badge {\\n  opacity: 0.75;\\n  margin: 0 0 0 2px;\\n}\\n.patient-detail-page .patient-details table a {\\n  white-space: normal;\\n  word-break: break-all;\\n  word-wrap: break-word;\\n}\\n.patient-detail-page .patient-details .panel-heading {\\n  text-shadow: 0 1px 0 #FFF;\\n}\\n.patient-detail-page .list-group-item {\\n  padding-top: 7px;\\n  padding-bottom: 7px;\\n}\\n.patient-detail-page .group-header {\\n  cursor: pointer;\\n  background: linear-gradient(90deg, #ebf2f8, #f5f8fb);\\n  text-indent: 0;\\n}\\n.patient-detail-page .group-header .glyphicon-triangle-bottom {\\n  position: relative;\\n  top: 2px;\\n}\\n.patient-detail-page .group-header ~ tr > td:first-child {\\n  text-indent: 17px;\\n}\\n.patient-detail-page .group-clear + tr > td:first-child {\\n  text-indent: 0;\\n}\\n.patient-detail-page .group-clear + tr > td:first-child:before {\\n  content: \\\"\\\\E250\\\";\\n  position: relative;\\n  top: 1px;\\n  display: inline-block;\\n  font-family: 'Glyphicons Halflings';\\n  font-style: normal;\\n  font-weight: 400;\\n  line-height: 1;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n  margin-right: 3px;\\n  opacity: 0.3;\\n}\\n.patient-detail-page .table-responsive {\\n  border: none !important;\\n}\\n.modal_local {\\n  position: fixed;\\n  z-index: 1;\\n  width: 100%;\\n  height: 100%;\\n  background-color: rgba(0, 0, 0, 0.25);\\n}\\n.modal_content {\\n  background-color: white;\\n  position: absolute;\\n  top: 20%;\\n  left: 30%;\\n  width: 40%;\\n  padding: 20px;\\n  border-radius: 5px;\\n  border: 2px solid black;\\n}\\n.close {\\n  color: Black;\\n  float: right;\\n}\\n.close:hover {\\n  color: cyan;\\n  cursor: pointer;\\n}\\n.alert_heading {\\n  text-align: center;\\n  color: red;\\n  font-size: 20px;\\n}\\n.orange_hightlight {\\n  color: orange;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/css-loader!../~/postcss-loader!../~/less-loader/dist/cjs.js!./components/PatientDetail/PatientDetail.less\n// module id = 341\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".patient-image-wrap {\\n  height: 80px;\\n  width: 80px;\\n  background: #F6F6F6;\\n  border-radius: 3px;\\n  text-align: center;\\n  position: relative;\\n  box-shadow: 0 0 0.5px 0 rgba(0, 0, 0, 0.5) inset, 0 0 1px 1px #FFF;\\n  background-size: cover;\\n  background-position: center;\\n  flex-shrink: 0;\\n  flex-grow: 0;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/css-loader!../~/postcss-loader!../~/less-loader/dist/cjs.js!./components/PatientImage/PatientImage.less\n// module id = 342\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".login_user {\\n  padding: 20px;\\n}\\n.login_bg {\\n  background: brown;\\n  color: white;\\n}\\n.logout_button {\\n  padding-right: 20px;\\n}\\n.patient-search-results {\\n  display: flex;\\n  flex-grow: 1;\\n  flex-direction: column;\\n  background: #FFF;\\n  overflow: auto;\\n  -webkit-overflow-scrolling: touch;\\n}\\n.patient-search-results .male {\\n  color: #369;\\n}\\n.patient-search-results .female {\\n  color: #936;\\n}\\n.patient-search-results .patient {\\n  position: relative;\\n  padding: 1ex;\\n  cursor: pointer;\\n  flex-flow: 0;\\n  flex-shrink: 0;\\n  align-items: center;\\n  display: flex;\\n  transition: background 0.1s;\\n  color: #444;\\n  text-decoration: none;\\n  box-shadow: 0 1px 0 rgba(255, 255, 255, 0.85) inset, 0 -1px 0 rgba(0, 0, 0, 0.15) inset;\\n}\\n.patient-search-results .patient:hover {\\n  background: rgba(0, 0, 0, 0.05);\\n}\\n.patient-search-results .patient .patient-select-zone {\\n  display: inline-block;\\n  vertical-align: middle;\\n  height: 54px;\\n  line-height: 54px;\\n  width: 30px;\\n  border-radius: 3px;\\n  text-align: center;\\n  color: #369;\\n  min-width: 30px;\\n}\\n.patient-search-results .patient .patient-select-zone:hover {\\n  background: rgba(51, 102, 153, 0.1);\\n}\\n.patient-search-results .patient .fa-angle-right {\\n  opacity: 0.5;\\n  font-size: 20px;\\n  display: flex;\\n  flex-basis: 1em;\\n}\\n.patient-search-results .patient .patient-image-wrap {\\n  height: 54px;\\n  width: 54px;\\n  margin: 0 1ex;\\n}\\n.patient-search-results .patient .patient-info {\\n  flex-grow: 1;\\n}\\n.patient-search-results .patient .patient-info > b {\\n  font-size: 16px;\\n  line-height: 1;\\n  display: block;\\n  margin-bottom: 2px;\\n}\\n.patient-search-results .patient .patient-info small {\\n  opacity: 0.7;\\n  display: block;\\n}\\n.patient-search-results .patient .patient-info footer {\\n  opacity: 0.7;\\n  display: flex;\\n  flex-direction: row;\\n  margin-top: 5px;\\n}\\n.patient-search-results .patient .patient-info footer > span {\\n  display: flex;\\n  flex-basis: 14em;\\n  flex-grow: 1;\\n}\\n.patient-search-results .patient .patient-info footer > span + span {\\n  margin-left: 2em;\\n}\\n.patient-search-results .patient.selected {\\n  background: #369;\\n  box-shadow: 0 1px 0 rgba(255, 255, 255, 0.05) inset, 0 -1px 0 rgba(0, 0, 0, 0.15) inset;\\n  text-shadow: 0 0 1px #000;\\n}\\n.patient-search-results .patient.selected,\\n.patient-search-results .patient.selected * {\\n  color: #FFF;\\n}\\n.patient-search-results .patient.selected .patient-image-wrap {\\n  box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.3), 0 0 0 0.5px rgba(255, 255, 255, 0.5) inset;\\n}\\n.patient-search-results .patient.selected .patient-select-zone:hover {\\n  background: rgba(255, 255, 255, 0.07);\\n}\\n.patient-search-results .patient.selected:hover {\\n  background: #2f5e8e;\\n}\\n@media (max-width: 480px) {\\n  .patient-search-results .patient .patient-info footer span + span {\\n    display: none;\\n  }\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/css-loader!../~/postcss-loader!../~/less-loader/dist/cjs.js!./components/PatientList/PatientList.less\n// module id = 343\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".sort-widget {\\n  padding: 0 5px;\\n  float: left;\\n  width: 100%;\\n}\\n.sort-widget > span {\\n  padding: 6px 1ex 0 0;\\n  font-weight: bold;\\n}\\n.sort-widget .nav.nav-pills li {\\n  margin: 3px 3px 3px 0;\\n}\\n.sort-widget .nav.nav-pills li a {\\n  padding: 4px 8px;\\n}\\n.sort-widget .nav.nav-pills li a .sort {\\n  opacity: 0.6;\\n}\\n.sort-widget .nav.nav-pills li.active a,\\n.sort-widget .nav.nav-pills li:hover a,\\n.sort-widget .nav.nav-pills li:active a,\\n.sort-widget .nav.nav-pills li a:focus {\\n  box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.2) inset;\\n}\\n.sort-widget .nav.nav-pills li.active a {\\n  text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.3);\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/css-loader!../~/postcss-loader!../~/less-loader/dist/cjs.js!./components/SortWidget/SortWidget.less\n// module id = 344\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".tag-selector {\\n  position: relative;\\n  display: block;\\n  width: 100%;\\n  color: #000;\\n  min-width: 200px;\\n  font-size: small;\\n}\\n.tag-selector .tags {\\n  margin-bottom: 4px;\\n}\\n.tag-selector input {\\n  padding-right: 24px;\\n}\\n.tag-selector .tag {\\n  margin: 1px 6px 1px 0px;\\n  padding: 3px 26px 3px 6px;\\n  background: #DC9;\\n  box-shadow: 0 0 1px 0 rgba(0, 0, 0, 0.5) inset;\\n  border-radius: 3px;\\n  color: #520;\\n  text-shadow: 0 1px 1px rgba(255, 255, 255, 0.3);\\n  display: inline-block;\\n  position: relative;\\n  font-weight: 500;\\n  line-height: 1.2;\\n  font-size: 12px;\\n  cursor: default;\\n}\\n.tag-selector .tag:last-of-type {\\n  margin-right: 0;\\n}\\n.tag-selector .tag .tag-remove {\\n  position: absolute;\\n  top: 4px;\\n  right: 5px;\\n  color: rgba(0, 0, 0, 0.4);\\n  text-shadow: none;\\n  opacity: 0.6;\\n}\\n.tag-selector .tag:hover {\\n  background-color: #d7c286;\\n}\\n.tag-selector .tag:hover .tag-remove {\\n  opacity: 0.5;\\n}\\n.tag-selector .tag:hover .tag-remove:hover {\\n  opacity: 1;\\n  color: #900;\\n}\\n.tag-selector .tag.custom {\\n  background: #adc2d6;\\n  color: #19334d;\\n}\\n.tag-selector .tag.custom:hover {\\n  background-color: #9cb5ce;\\n}\\n.tag-selector .menu {\\n  padding: 4px;\\n  top: 100%;\\n  width: 100%;\\n  text-align: left;\\n  max-height: 50vh;\\n  overflow: auto;\\n  z-index: 10000000000;\\n}\\n.tag-selector .menu-item {\\n  padding: 5px 10px;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  cursor: default;\\n}\\n.tag-selector .menu-item small {\\n  line-height: 1.4;\\n  font-weight: 400;\\n}\\n.tag-selector .menu-item .code {\\n  width: 110px;\\n  display: inline-block;\\n  text-align: right;\\n  padding-right: 1ex;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  float: left;\\n  margin: 1px 0 -1px;\\n}\\n.tag-selector .menu-item:hover {\\n  background: rgba(0, 0, 0, 0.1);\\n}\\n.tag-selector .menu-item.selected {\\n  color: #FFF;\\n  background: #369;\\n  text-shadow: 0 0 1px #000000;\\n}\\n.tag-selector .menu-item.selected small {\\n  color: rgba(255, 255, 255, 0.6);\\n  text-shadow: none;\\n}\\n.tag-selector .menu-item.selected .tag.custom {\\n  box-shadow: 0 0 1px 0 rgba(0, 0, 0, 0.5);\\n}\\n.tag-selector .menu-item.custom {\\n  font-weight: bold;\\n  cursor: pointer;\\n  padding: 3px 10px;\\n}\\n.tag-selector .menu-item.custom + .menu-item {\\n  position: relative;\\n  overflow: visible;\\n  margin-top: 9px;\\n}\\n.tag-selector .menu-item.custom + .menu-item:before {\\n  content: \\\"\\\";\\n  display: block;\\n  height: 1px;\\n  background: #CCC;\\n  position: absolute;\\n  top: -5px;\\n  left: 0;\\n  right: 0;\\n}\\n.tag-selector .menu-item.custom .tag {\\n  margin: 0 1px;\\n  padding: 3px 6px;\\n  line-height: 1;\\n}\\n.tag-selector.open {\\n  outline: none;\\n}\\n.tag-selector .fa.fa-caret-down {\\n  position: absolute;\\n  right: 10px;\\n  bottom: 10px;\\n  pointer-events: none;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/css-loader!../~/postcss-loader!../~/less-loader/dist/cjs.js!./components/TagSelector/TagSelector.less\n// module id = 345\n// module chunks = 0","/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nvar isObject = require('isobject');\n\nfunction isObjectObject(o) {\n  return isObject(o) === true\n    && Object.prototype.toString.call(o) === '[object Object]';\n}\n\nmodule.exports = function isPlainObject(o) {\n  var ctor,prot;\n\n  if (isObjectObject(o) === false) return false;\n\n  // If has modified constructor\n  ctor = o.constructor;\n  if (typeof ctor !== 'function') return false;\n\n  // If has modified prototype\n  prot = ctor.prototype;\n  if (isObjectObject(prot) === false) return false;\n\n  // If constructor does not have an Object-specific method\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  }\n\n  // Most likely a plain Object\n  return true;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/is-plain-object/index.js\n// module id = 364\n// module chunks = 0","/*!\n * isobject <https://github.com/jonschlinkert/isobject>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function isObject(val) {\n  return val != null && typeof val === 'object' && Array.isArray(val) === false;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/is-plain-object/~/isobject/index.js\n// module id = 365\n// module chunks = 0","/**\n * [js-sha256]{@link https://github.com/emn178/js-sha256}\n *\n * @version 0.9.0\n * @author Chen, Yi-Cyuan [emn178@gmail.com]\n * @copyright Chen, Yi-Cyuan 2014-2017\n * @license MIT\n */\n/*jslint bitwise: true */\n(function () {\n  'use strict';\n\n  var ERROR = 'input is invalid type';\n  var WINDOW = typeof window === 'object';\n  var root = WINDOW ? window : {};\n  if (root.JS_SHA256_NO_WINDOW) {\n    WINDOW = false;\n  }\n  var WEB_WORKER = !WINDOW && typeof self === 'object';\n  var NODE_JS = !root.JS_SHA256_NO_NODE_JS && typeof process === 'object' && process.versions && process.versions.node;\n  if (NODE_JS) {\n    root = global;\n  } else if (WEB_WORKER) {\n    root = self;\n  }\n  var COMMON_JS = !root.JS_SHA256_NO_COMMON_JS && typeof module === 'object' && module.exports;\n  var AMD = typeof define === 'function' && define.amd;\n  var ARRAY_BUFFER = !root.JS_SHA256_NO_ARRAY_BUFFER && typeof ArrayBuffer !== 'undefined';\n  var HEX_CHARS = '0123456789abcdef'.split('');\n  var EXTRA = [-2147483648, 8388608, 32768, 128];\n  var SHIFT = [24, 16, 8, 0];\n  var K = [\n    0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n    0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n    0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n    0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n    0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n    0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n    0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n    0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n  ];\n  var OUTPUT_TYPES = ['hex', 'array', 'digest', 'arrayBuffer'];\n\n  var blocks = [];\n\n  if (root.JS_SHA256_NO_NODE_JS || !Array.isArray) {\n    Array.isArray = function (obj) {\n      return Object.prototype.toString.call(obj) === '[object Array]';\n    };\n  }\n\n  if (ARRAY_BUFFER && (root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW || !ArrayBuffer.isView)) {\n    ArrayBuffer.isView = function (obj) {\n      return typeof obj === 'object' && obj.buffer && obj.buffer.constructor === ArrayBuffer;\n    };\n  }\n\n  var createOutputMethod = function (outputType, is224) {\n    return function (message) {\n      return new Sha256(is224, true).update(message)[outputType]();\n    };\n  };\n\n  var createMethod = function (is224) {\n    var method = createOutputMethod('hex', is224);\n    if (NODE_JS) {\n      method = nodeWrap(method, is224);\n    }\n    method.create = function () {\n      return new Sha256(is224);\n    };\n    method.update = function (message) {\n      return method.create().update(message);\n    };\n    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\n      var type = OUTPUT_TYPES[i];\n      method[type] = createOutputMethod(type, is224);\n    }\n    return method;\n  };\n\n  var nodeWrap = function (method, is224) {\n    var crypto = eval(\"require('crypto')\");\n    var Buffer = eval(\"require('buffer').Buffer\");\n    var algorithm = is224 ? 'sha224' : 'sha256';\n    var nodeMethod = function (message) {\n      if (typeof message === 'string') {\n        return crypto.createHash(algorithm).update(message, 'utf8').digest('hex');\n      } else {\n        if (message === null || message === undefined) {\n          throw new Error(ERROR);\n        } else if (message.constructor === ArrayBuffer) {\n          message = new Uint8Array(message);\n        }\n      }\n      if (Array.isArray(message) || ArrayBuffer.isView(message) ||\n        message.constructor === Buffer) {\n        return crypto.createHash(algorithm).update(new Buffer(message)).digest('hex');\n      } else {\n        return method(message);\n      }\n    };\n    return nodeMethod;\n  };\n\n  var createHmacOutputMethod = function (outputType, is224) {\n    return function (key, message) {\n      return new HmacSha256(key, is224, true).update(message)[outputType]();\n    };\n  };\n\n  var createHmacMethod = function (is224) {\n    var method = createHmacOutputMethod('hex', is224);\n    method.create = function (key) {\n      return new HmacSha256(key, is224);\n    };\n    method.update = function (key, message) {\n      return method.create(key).update(message);\n    };\n    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\n      var type = OUTPUT_TYPES[i];\n      method[type] = createHmacOutputMethod(type, is224);\n    }\n    return method;\n  };\n\n  function Sha256(is224, sharedMemory) {\n    if (sharedMemory) {\n      blocks[0] = blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n        blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n        blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n      this.blocks = blocks;\n    } else {\n      this.blocks = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n    }\n\n    if (is224) {\n      this.h0 = 0xc1059ed8;\n      this.h1 = 0x367cd507;\n      this.h2 = 0x3070dd17;\n      this.h3 = 0xf70e5939;\n      this.h4 = 0xffc00b31;\n      this.h5 = 0x68581511;\n      this.h6 = 0x64f98fa7;\n      this.h7 = 0xbefa4fa4;\n    } else { // 256\n      this.h0 = 0x6a09e667;\n      this.h1 = 0xbb67ae85;\n      this.h2 = 0x3c6ef372;\n      this.h3 = 0xa54ff53a;\n      this.h4 = 0x510e527f;\n      this.h5 = 0x9b05688c;\n      this.h6 = 0x1f83d9ab;\n      this.h7 = 0x5be0cd19;\n    }\n\n    this.block = this.start = this.bytes = this.hBytes = 0;\n    this.finalized = this.hashed = false;\n    this.first = true;\n    this.is224 = is224;\n  }\n\n  Sha256.prototype.update = function (message) {\n    if (this.finalized) {\n      return;\n    }\n    var notString, type = typeof message;\n    if (type !== 'string') {\n      if (type === 'object') {\n        if (message === null) {\n          throw new Error(ERROR);\n        } else if (ARRAY_BUFFER && message.constructor === ArrayBuffer) {\n          message = new Uint8Array(message);\n        } else if (!Array.isArray(message)) {\n          if (!ARRAY_BUFFER || !ArrayBuffer.isView(message)) {\n            throw new Error(ERROR);\n          }\n        }\n      } else {\n        throw new Error(ERROR);\n      }\n      notString = true;\n    }\n    var code, index = 0, i, length = message.length, blocks = this.blocks;\n\n    while (index < length) {\n      if (this.hashed) {\n        this.hashed = false;\n        blocks[0] = this.block;\n        blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n          blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n          blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n          blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n      }\n\n      if (notString) {\n        for (i = this.start; index < length && i < 64; ++index) {\n          blocks[i >> 2] |= message[index] << SHIFT[i++ & 3];\n        }\n      } else {\n        for (i = this.start; index < length && i < 64; ++index) {\n          code = message.charCodeAt(index);\n          if (code < 0x80) {\n            blocks[i >> 2] |= code << SHIFT[i++ & 3];\n          } else if (code < 0x800) {\n            blocks[i >> 2] |= (0xc0 | (code >> 6)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          } else if (code < 0xd800 || code >= 0xe000) {\n            blocks[i >> 2] |= (0xe0 | (code >> 12)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          } else {\n            code = 0x10000 + (((code & 0x3ff) << 10) | (message.charCodeAt(++index) & 0x3ff));\n            blocks[i >> 2] |= (0xf0 | (code >> 18)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 12) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          }\n        }\n      }\n\n      this.lastByteIndex = i;\n      this.bytes += i - this.start;\n      if (i >= 64) {\n        this.block = blocks[16];\n        this.start = i - 64;\n        this.hash();\n        this.hashed = true;\n      } else {\n        this.start = i;\n      }\n    }\n    if (this.bytes > 4294967295) {\n      this.hBytes += this.bytes / 4294967296 << 0;\n      this.bytes = this.bytes % 4294967296;\n    }\n    return this;\n  };\n\n  Sha256.prototype.finalize = function () {\n    if (this.finalized) {\n      return;\n    }\n    this.finalized = true;\n    var blocks = this.blocks, i = this.lastByteIndex;\n    blocks[16] = this.block;\n    blocks[i >> 2] |= EXTRA[i & 3];\n    this.block = blocks[16];\n    if (i >= 56) {\n      if (!this.hashed) {\n        this.hash();\n      }\n      blocks[0] = this.block;\n      blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n        blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n        blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n    }\n    blocks[14] = this.hBytes << 3 | this.bytes >>> 29;\n    blocks[15] = this.bytes << 3;\n    this.hash();\n  };\n\n  Sha256.prototype.hash = function () {\n    var a = this.h0, b = this.h1, c = this.h2, d = this.h3, e = this.h4, f = this.h5, g = this.h6,\n      h = this.h7, blocks = this.blocks, j, s0, s1, maj, t1, t2, ch, ab, da, cd, bc;\n\n    for (j = 16; j < 64; ++j) {\n      // rightrotate\n      t1 = blocks[j - 15];\n      s0 = ((t1 >>> 7) | (t1 << 25)) ^ ((t1 >>> 18) | (t1 << 14)) ^ (t1 >>> 3);\n      t1 = blocks[j - 2];\n      s1 = ((t1 >>> 17) | (t1 << 15)) ^ ((t1 >>> 19) | (t1 << 13)) ^ (t1 >>> 10);\n      blocks[j] = blocks[j - 16] + s0 + blocks[j - 7] + s1 << 0;\n    }\n\n    bc = b & c;\n    for (j = 0; j < 64; j += 4) {\n      if (this.first) {\n        if (this.is224) {\n          ab = 300032;\n          t1 = blocks[0] - 1413257819;\n          h = t1 - 150054599 << 0;\n          d = t1 + 24177077 << 0;\n        } else {\n          ab = 704751109;\n          t1 = blocks[0] - 210244248;\n          h = t1 - 1521486534 << 0;\n          d = t1 + 143694565 << 0;\n        }\n        this.first = false;\n      } else {\n        s0 = ((a >>> 2) | (a << 30)) ^ ((a >>> 13) | (a << 19)) ^ ((a >>> 22) | (a << 10));\n        s1 = ((e >>> 6) | (e << 26)) ^ ((e >>> 11) | (e << 21)) ^ ((e >>> 25) | (e << 7));\n        ab = a & b;\n        maj = ab ^ (a & c) ^ bc;\n        ch = (e & f) ^ (~e & g);\n        t1 = h + s1 + ch + K[j] + blocks[j];\n        t2 = s0 + maj;\n        h = d + t1 << 0;\n        d = t1 + t2 << 0;\n      }\n      s0 = ((d >>> 2) | (d << 30)) ^ ((d >>> 13) | (d << 19)) ^ ((d >>> 22) | (d << 10));\n      s1 = ((h >>> 6) | (h << 26)) ^ ((h >>> 11) | (h << 21)) ^ ((h >>> 25) | (h << 7));\n      da = d & a;\n      maj = da ^ (d & b) ^ ab;\n      ch = (h & e) ^ (~h & f);\n      t1 = g + s1 + ch + K[j + 1] + blocks[j + 1];\n      t2 = s0 + maj;\n      g = c + t1 << 0;\n      c = t1 + t2 << 0;\n      s0 = ((c >>> 2) | (c << 30)) ^ ((c >>> 13) | (c << 19)) ^ ((c >>> 22) | (c << 10));\n      s1 = ((g >>> 6) | (g << 26)) ^ ((g >>> 11) | (g << 21)) ^ ((g >>> 25) | (g << 7));\n      cd = c & d;\n      maj = cd ^ (c & a) ^ da;\n      ch = (g & h) ^ (~g & e);\n      t1 = f + s1 + ch + K[j + 2] + blocks[j + 2];\n      t2 = s0 + maj;\n      f = b + t1 << 0;\n      b = t1 + t2 << 0;\n      s0 = ((b >>> 2) | (b << 30)) ^ ((b >>> 13) | (b << 19)) ^ ((b >>> 22) | (b << 10));\n      s1 = ((f >>> 6) | (f << 26)) ^ ((f >>> 11) | (f << 21)) ^ ((f >>> 25) | (f << 7));\n      bc = b & c;\n      maj = bc ^ (b & d) ^ cd;\n      ch = (f & g) ^ (~f & h);\n      t1 = e + s1 + ch + K[j + 3] + blocks[j + 3];\n      t2 = s0 + maj;\n      e = a + t1 << 0;\n      a = t1 + t2 << 0;\n    }\n\n    this.h0 = this.h0 + a << 0;\n    this.h1 = this.h1 + b << 0;\n    this.h2 = this.h2 + c << 0;\n    this.h3 = this.h3 + d << 0;\n    this.h4 = this.h4 + e << 0;\n    this.h5 = this.h5 + f << 0;\n    this.h6 = this.h6 + g << 0;\n    this.h7 = this.h7 + h << 0;\n  };\n\n  Sha256.prototype.hex = function () {\n    this.finalize();\n\n    var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4, h5 = this.h5,\n      h6 = this.h6, h7 = this.h7;\n\n    var hex = HEX_CHARS[(h0 >> 28) & 0x0F] + HEX_CHARS[(h0 >> 24) & 0x0F] +\n      HEX_CHARS[(h0 >> 20) & 0x0F] + HEX_CHARS[(h0 >> 16) & 0x0F] +\n      HEX_CHARS[(h0 >> 12) & 0x0F] + HEX_CHARS[(h0 >> 8) & 0x0F] +\n      HEX_CHARS[(h0 >> 4) & 0x0F] + HEX_CHARS[h0 & 0x0F] +\n      HEX_CHARS[(h1 >> 28) & 0x0F] + HEX_CHARS[(h1 >> 24) & 0x0F] +\n      HEX_CHARS[(h1 >> 20) & 0x0F] + HEX_CHARS[(h1 >> 16) & 0x0F] +\n      HEX_CHARS[(h1 >> 12) & 0x0F] + HEX_CHARS[(h1 >> 8) & 0x0F] +\n      HEX_CHARS[(h1 >> 4) & 0x0F] + HEX_CHARS[h1 & 0x0F] +\n      HEX_CHARS[(h2 >> 28) & 0x0F] + HEX_CHARS[(h2 >> 24) & 0x0F] +\n      HEX_CHARS[(h2 >> 20) & 0x0F] + HEX_CHARS[(h2 >> 16) & 0x0F] +\n      HEX_CHARS[(h2 >> 12) & 0x0F] + HEX_CHARS[(h2 >> 8) & 0x0F] +\n      HEX_CHARS[(h2 >> 4) & 0x0F] + HEX_CHARS[h2 & 0x0F] +\n      HEX_CHARS[(h3 >> 28) & 0x0F] + HEX_CHARS[(h3 >> 24) & 0x0F] +\n      HEX_CHARS[(h3 >> 20) & 0x0F] + HEX_CHARS[(h3 >> 16) & 0x0F] +\n      HEX_CHARS[(h3 >> 12) & 0x0F] + HEX_CHARS[(h3 >> 8) & 0x0F] +\n      HEX_CHARS[(h3 >> 4) & 0x0F] + HEX_CHARS[h3 & 0x0F] +\n      HEX_CHARS[(h4 >> 28) & 0x0F] + HEX_CHARS[(h4 >> 24) & 0x0F] +\n      HEX_CHARS[(h4 >> 20) & 0x0F] + HEX_CHARS[(h4 >> 16) & 0x0F] +\n      HEX_CHARS[(h4 >> 12) & 0x0F] + HEX_CHARS[(h4 >> 8) & 0x0F] +\n      HEX_CHARS[(h4 >> 4) & 0x0F] + HEX_CHARS[h4 & 0x0F] +\n      HEX_CHARS[(h5 >> 28) & 0x0F] + HEX_CHARS[(h5 >> 24) & 0x0F] +\n      HEX_CHARS[(h5 >> 20) & 0x0F] + HEX_CHARS[(h5 >> 16) & 0x0F] +\n      HEX_CHARS[(h5 >> 12) & 0x0F] + HEX_CHARS[(h5 >> 8) & 0x0F] +\n      HEX_CHARS[(h5 >> 4) & 0x0F] + HEX_CHARS[h5 & 0x0F] +\n      HEX_CHARS[(h6 >> 28) & 0x0F] + HEX_CHARS[(h6 >> 24) & 0x0F] +\n      HEX_CHARS[(h6 >> 20) & 0x0F] + HEX_CHARS[(h6 >> 16) & 0x0F] +\n      HEX_CHARS[(h6 >> 12) & 0x0F] + HEX_CHARS[(h6 >> 8) & 0x0F] +\n      HEX_CHARS[(h6 >> 4) & 0x0F] + HEX_CHARS[h6 & 0x0F];\n    if (!this.is224) {\n      hex += HEX_CHARS[(h7 >> 28) & 0x0F] + HEX_CHARS[(h7 >> 24) & 0x0F] +\n        HEX_CHARS[(h7 >> 20) & 0x0F] + HEX_CHARS[(h7 >> 16) & 0x0F] +\n        HEX_CHARS[(h7 >> 12) & 0x0F] + HEX_CHARS[(h7 >> 8) & 0x0F] +\n        HEX_CHARS[(h7 >> 4) & 0x0F] + HEX_CHARS[h7 & 0x0F];\n    }\n    return hex;\n  };\n\n  Sha256.prototype.toString = Sha256.prototype.hex;\n\n  Sha256.prototype.digest = function () {\n    this.finalize();\n\n    var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4, h5 = this.h5,\n      h6 = this.h6, h7 = this.h7;\n\n    var arr = [\n      (h0 >> 24) & 0xFF, (h0 >> 16) & 0xFF, (h0 >> 8) & 0xFF, h0 & 0xFF,\n      (h1 >> 24) & 0xFF, (h1 >> 16) & 0xFF, (h1 >> 8) & 0xFF, h1 & 0xFF,\n      (h2 >> 24) & 0xFF, (h2 >> 16) & 0xFF, (h2 >> 8) & 0xFF, h2 & 0xFF,\n      (h3 >> 24) & 0xFF, (h3 >> 16) & 0xFF, (h3 >> 8) & 0xFF, h3 & 0xFF,\n      (h4 >> 24) & 0xFF, (h4 >> 16) & 0xFF, (h4 >> 8) & 0xFF, h4 & 0xFF,\n      (h5 >> 24) & 0xFF, (h5 >> 16) & 0xFF, (h5 >> 8) & 0xFF, h5 & 0xFF,\n      (h6 >> 24) & 0xFF, (h6 >> 16) & 0xFF, (h6 >> 8) & 0xFF, h6 & 0xFF\n    ];\n    if (!this.is224) {\n      arr.push((h7 >> 24) & 0xFF, (h7 >> 16) & 0xFF, (h7 >> 8) & 0xFF, h7 & 0xFF);\n    }\n    return arr;\n  };\n\n  Sha256.prototype.array = Sha256.prototype.digest;\n\n  Sha256.prototype.arrayBuffer = function () {\n    this.finalize();\n\n    var buffer = new ArrayBuffer(this.is224 ? 28 : 32);\n    var dataView = new DataView(buffer);\n    dataView.setUint32(0, this.h0);\n    dataView.setUint32(4, this.h1);\n    dataView.setUint32(8, this.h2);\n    dataView.setUint32(12, this.h3);\n    dataView.setUint32(16, this.h4);\n    dataView.setUint32(20, this.h5);\n    dataView.setUint32(24, this.h6);\n    if (!this.is224) {\n      dataView.setUint32(28, this.h7);\n    }\n    return buffer;\n  };\n\n  function HmacSha256(key, is224, sharedMemory) {\n    var i, type = typeof key;\n    if (type === 'string') {\n      var bytes = [], length = key.length, index = 0, code;\n      for (i = 0; i < length; ++i) {\n        code = key.charCodeAt(i);\n        if (code < 0x80) {\n          bytes[index++] = code;\n        } else if (code < 0x800) {\n          bytes[index++] = (0xc0 | (code >> 6));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        } else if (code < 0xd800 || code >= 0xe000) {\n          bytes[index++] = (0xe0 | (code >> 12));\n          bytes[index++] = (0x80 | ((code >> 6) & 0x3f));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        } else {\n          code = 0x10000 + (((code & 0x3ff) << 10) | (key.charCodeAt(++i) & 0x3ff));\n          bytes[index++] = (0xf0 | (code >> 18));\n          bytes[index++] = (0x80 | ((code >> 12) & 0x3f));\n          bytes[index++] = (0x80 | ((code >> 6) & 0x3f));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        }\n      }\n      key = bytes;\n    } else {\n      if (type === 'object') {\n        if (key === null) {\n          throw new Error(ERROR);\n        } else if (ARRAY_BUFFER && key.constructor === ArrayBuffer) {\n          key = new Uint8Array(key);\n        } else if (!Array.isArray(key)) {\n          if (!ARRAY_BUFFER || !ArrayBuffer.isView(key)) {\n            throw new Error(ERROR);\n          }\n        }\n      } else {\n        throw new Error(ERROR);\n      }\n    }\n\n    if (key.length > 64) {\n      key = (new Sha256(is224, true)).update(key).array();\n    }\n\n    var oKeyPad = [], iKeyPad = [];\n    for (i = 0; i < 64; ++i) {\n      var b = key[i] || 0;\n      oKeyPad[i] = 0x5c ^ b;\n      iKeyPad[i] = 0x36 ^ b;\n    }\n\n    Sha256.call(this, is224, sharedMemory);\n\n    this.update(iKeyPad);\n    this.oKeyPad = oKeyPad;\n    this.inner = true;\n    this.sharedMemory = sharedMemory;\n  }\n  HmacSha256.prototype = new Sha256();\n\n  HmacSha256.prototype.finalize = function () {\n    Sha256.prototype.finalize.call(this);\n    if (this.inner) {\n      this.inner = false;\n      var innerHash = this.array();\n      Sha256.call(this, this.is224, this.sharedMemory);\n      this.update(this.oKeyPad);\n      this.update(innerHash);\n      Sha256.prototype.finalize.call(this);\n    }\n  };\n\n  var exports = createMethod();\n  exports.sha256 = exports;\n  exports.sha224 = createMethod(true);\n  exports.sha256.hmac = createHmacMethod();\n  exports.sha224.hmac = createHmacMethod(true);\n\n  if (COMMON_JS) {\n    module.exports = exports;\n  } else {\n    root.sha256 = exports.sha256;\n    root.sha224 = exports.sha224;\n    if (AMD) {\n      define(function () {\n        return exports;\n      });\n    }\n  }\n})();\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/js-sha256/src/sha256.js\n// module id = 366\n// module chunks = 0","// json5.js\n// Modern JSON. See README.md for details.\n//\n// This file is based directly off of Douglas Crockford's json_parse.js:\n// https://github.com/douglascrockford/JSON-js/blob/master/json_parse.js\n\nvar JSON5 = (typeof exports === 'object' ? exports : {});\n\nJSON5.parse = (function () {\n    \"use strict\";\n\n// This is a function that can parse a JSON5 text, producing a JavaScript\n// data structure. It is a simple, recursive descent parser. It does not use\n// eval or regular expressions, so it can be used as a model for implementing\n// a JSON5 parser in other languages.\n\n// We are defining the function inside of another function to avoid creating\n// global variables.\n\n    var at,           // The index of the current character\n        lineNumber,   // The current line number\n        columnNumber, // The current column number\n        ch,           // The current character\n        escapee = {\n            \"'\":  \"'\",\n            '\"':  '\"',\n            '\\\\': '\\\\',\n            '/':  '/',\n            '\\n': '',       // Replace escaped newlines in strings w/ empty string\n            b:    '\\b',\n            f:    '\\f',\n            n:    '\\n',\n            r:    '\\r',\n            t:    '\\t'\n        },\n        ws = [\n            ' ',\n            '\\t',\n            '\\r',\n            '\\n',\n            '\\v',\n            '\\f',\n            '\\xA0',\n            '\\uFEFF'\n        ],\n        text,\n\n        renderChar = function (chr) {\n            return chr === '' ? 'EOF' : \"'\" + chr + \"'\";\n        },\n\n        error = function (m) {\n\n// Call error when something is wrong.\n\n            var error = new SyntaxError();\n            // beginning of message suffix to agree with that provided by Gecko - see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse\n            error.message = m + \" at line \" + lineNumber + \" column \" + columnNumber + \" of the JSON5 data. Still to read: \" + JSON.stringify(text.substring(at - 1, at + 19));\n            error.at = at;\n            // These two property names have been chosen to agree with the ones in Gecko, the only popular\n            // environment which seems to supply this info on JSON.parse\n            error.lineNumber = lineNumber;\n            error.columnNumber = columnNumber;\n            throw error;\n        },\n\n        next = function (c) {\n\n// If a c parameter is provided, verify that it matches the current character.\n\n            if (c && c !== ch) {\n                error(\"Expected \" + renderChar(c) + \" instead of \" + renderChar(ch));\n            }\n\n// Get the next character. When there are no more characters,\n// return the empty string.\n\n            ch = text.charAt(at);\n            at++;\n            columnNumber++;\n            if (ch === '\\n' || ch === '\\r' && peek() !== '\\n') {\n                lineNumber++;\n                columnNumber = 0;\n            }\n            return ch;\n        },\n\n        peek = function () {\n\n// Get the next character without consuming it or\n// assigning it to the ch varaible.\n\n            return text.charAt(at);\n        },\n\n        identifier = function () {\n\n// Parse an identifier. Normally, reserved words are disallowed here, but we\n// only use this for unquoted object keys, where reserved words are allowed,\n// so we don't check for those here. References:\n// - http://es5.github.com/#x7.6\n// - https://developer.mozilla.org/en/Core_JavaScript_1.5_Guide/Core_Language_Features#Variables\n// - http://docstore.mik.ua/orelly/webprog/jscript/ch02_07.htm\n// TODO Identifiers can have Unicode \"letters\" in them; add support for those.\n\n            var key = ch;\n\n            // Identifiers must start with a letter, _ or $.\n            if ((ch !== '_' && ch !== '$') &&\n                    (ch < 'a' || ch > 'z') &&\n                    (ch < 'A' || ch > 'Z')) {\n                error(\"Bad identifier as unquoted key\");\n            }\n\n            // Subsequent characters can contain digits.\n            while (next() && (\n                    ch === '_' || ch === '$' ||\n                    (ch >= 'a' && ch <= 'z') ||\n                    (ch >= 'A' && ch <= 'Z') ||\n                    (ch >= '0' && ch <= '9'))) {\n                key += ch;\n            }\n\n            return key;\n        },\n\n        number = function () {\n\n// Parse a number value.\n\n            var number,\n                sign = '',\n                string = '',\n                base = 10;\n\n            if (ch === '-' || ch === '+') {\n                sign = ch;\n                next(ch);\n            }\n\n            // support for Infinity (could tweak to allow other words):\n            if (ch === 'I') {\n                number = word();\n                if (typeof number !== 'number' || isNaN(number)) {\n                    error('Unexpected word for number');\n                }\n                return (sign === '-') ? -number : number;\n            }\n\n            // support for NaN\n            if (ch === 'N' ) {\n              number = word();\n              if (!isNaN(number)) {\n                error('expected word to be NaN');\n              }\n              // ignore sign as -NaN also is NaN\n              return number;\n            }\n\n            if (ch === '0') {\n                string += ch;\n                next();\n                if (ch === 'x' || ch === 'X') {\n                    string += ch;\n                    next();\n                    base = 16;\n                } else if (ch >= '0' && ch <= '9') {\n                    error('Octal literal');\n                }\n            }\n\n            switch (base) {\n            case 10:\n                while (ch >= '0' && ch <= '9' ) {\n                    string += ch;\n                    next();\n                }\n                if (ch === '.') {\n                    string += '.';\n                    while (next() && ch >= '0' && ch <= '9') {\n                        string += ch;\n                    }\n                }\n                if (ch === 'e' || ch === 'E') {\n                    string += ch;\n                    next();\n                    if (ch === '-' || ch === '+') {\n                        string += ch;\n                        next();\n                    }\n                    while (ch >= '0' && ch <= '9') {\n                        string += ch;\n                        next();\n                    }\n                }\n                break;\n            case 16:\n                while (ch >= '0' && ch <= '9' || ch >= 'A' && ch <= 'F' || ch >= 'a' && ch <= 'f') {\n                    string += ch;\n                    next();\n                }\n                break;\n            }\n\n            if(sign === '-') {\n                number = -string;\n            } else {\n                number = +string;\n            }\n\n            if (!isFinite(number)) {\n                error(\"Bad number\");\n            } else {\n                return number;\n            }\n        },\n\n        string = function () {\n\n// Parse a string value.\n\n            var hex,\n                i,\n                string = '',\n                delim,      // double quote or single quote\n                uffff;\n\n// When parsing for string values, we must look for ' or \" and \\ characters.\n\n            if (ch === '\"' || ch === \"'\") {\n                delim = ch;\n                while (next()) {\n                    if (ch === delim) {\n                        next();\n                        return string;\n                    } else if (ch === '\\\\') {\n                        next();\n                        if (ch === 'u') {\n                            uffff = 0;\n                            for (i = 0; i < 4; i += 1) {\n                                hex = parseInt(next(), 16);\n                                if (!isFinite(hex)) {\n                                    break;\n                                }\n                                uffff = uffff * 16 + hex;\n                            }\n                            string += String.fromCharCode(uffff);\n                        } else if (ch === '\\r') {\n                            if (peek() === '\\n') {\n                                next();\n                            }\n                        } else if (typeof escapee[ch] === 'string') {\n                            string += escapee[ch];\n                        } else {\n                            break;\n                        }\n                    } else if (ch === '\\n') {\n                        // unescaped newlines are invalid; see:\n                        // https://github.com/aseemk/json5/issues/24\n                        // TODO this feels special-cased; are there other\n                        // invalid unescaped chars?\n                        break;\n                    } else {\n                        string += ch;\n                    }\n                }\n            }\n            error(\"Bad string\");\n        },\n\n        inlineComment = function () {\n\n// Skip an inline comment, assuming this is one. The current character should\n// be the second / character in the // pair that begins this inline comment.\n// To finish the inline comment, we look for a newline or the end of the text.\n\n            if (ch !== '/') {\n                error(\"Not an inline comment\");\n            }\n\n            do {\n                next();\n                if (ch === '\\n' || ch === '\\r') {\n                    next();\n                    return;\n                }\n            } while (ch);\n        },\n\n        blockComment = function () {\n\n// Skip a block comment, assuming this is one. The current character should be\n// the * character in the /* pair that begins this block comment.\n// To finish the block comment, we look for an ending */ pair of characters,\n// but we also watch for the end of text before the comment is terminated.\n\n            if (ch !== '*') {\n                error(\"Not a block comment\");\n            }\n\n            do {\n                next();\n                while (ch === '*') {\n                    next('*');\n                    if (ch === '/') {\n                        next('/');\n                        return;\n                    }\n                }\n            } while (ch);\n\n            error(\"Unterminated block comment\");\n        },\n\n        comment = function () {\n\n// Skip a comment, whether inline or block-level, assuming this is one.\n// Comments always begin with a / character.\n\n            if (ch !== '/') {\n                error(\"Not a comment\");\n            }\n\n            next('/');\n\n            if (ch === '/') {\n                inlineComment();\n            } else if (ch === '*') {\n                blockComment();\n            } else {\n                error(\"Unrecognized comment\");\n            }\n        },\n\n        white = function () {\n\n// Skip whitespace and comments.\n// Note that we're detecting comments by only a single / character.\n// This works since regular expressions are not valid JSON(5), but this will\n// break if there are other valid values that begin with a / character!\n\n            while (ch) {\n                if (ch === '/') {\n                    comment();\n                } else if (ws.indexOf(ch) >= 0) {\n                    next();\n                } else {\n                    return;\n                }\n            }\n        },\n\n        word = function () {\n\n// true, false, or null.\n\n            switch (ch) {\n            case 't':\n                next('t');\n                next('r');\n                next('u');\n                next('e');\n                return true;\n            case 'f':\n                next('f');\n                next('a');\n                next('l');\n                next('s');\n                next('e');\n                return false;\n            case 'n':\n                next('n');\n                next('u');\n                next('l');\n                next('l');\n                return null;\n            case 'I':\n                next('I');\n                next('n');\n                next('f');\n                next('i');\n                next('n');\n                next('i');\n                next('t');\n                next('y');\n                return Infinity;\n            case 'N':\n              next( 'N' );\n              next( 'a' );\n              next( 'N' );\n              return NaN;\n            }\n            error(\"Unexpected \" + renderChar(ch));\n        },\n\n        value,  // Place holder for the value function.\n\n        array = function () {\n\n// Parse an array value.\n\n            var array = [];\n\n            if (ch === '[') {\n                next('[');\n                white();\n                while (ch) {\n                    if (ch === ']') {\n                        next(']');\n                        return array;   // Potentially empty array\n                    }\n                    // ES5 allows omitting elements in arrays, e.g. [,] and\n                    // [,null]. We don't allow this in JSON5.\n                    if (ch === ',') {\n                        error(\"Missing array element\");\n                    } else {\n                        array.push(value());\n                    }\n                    white();\n                    // If there's no comma after this value, this needs to\n                    // be the end of the array.\n                    if (ch !== ',') {\n                        next(']');\n                        return array;\n                    }\n                    next(',');\n                    white();\n                }\n            }\n            error(\"Bad array\");\n        },\n\n        object = function () {\n\n// Parse an object value.\n\n            var key,\n                object = {};\n\n            if (ch === '{') {\n                next('{');\n                white();\n                while (ch) {\n                    if (ch === '}') {\n                        next('}');\n                        return object;   // Potentially empty object\n                    }\n\n                    // Keys can be unquoted. If they are, they need to be\n                    // valid JS identifiers.\n                    if (ch === '\"' || ch === \"'\") {\n                        key = string();\n                    } else {\n                        key = identifier();\n                    }\n\n                    white();\n                    next(':');\n                    object[key] = value();\n                    white();\n                    // If there's no comma after this pair, this needs to be\n                    // the end of the object.\n                    if (ch !== ',') {\n                        next('}');\n                        return object;\n                    }\n                    next(',');\n                    white();\n                }\n            }\n            error(\"Bad object\");\n        };\n\n    value = function () {\n\n// Parse a JSON value. It could be an object, an array, a string, a number,\n// or a word.\n\n        white();\n        switch (ch) {\n        case '{':\n            return object();\n        case '[':\n            return array();\n        case '\"':\n        case \"'\":\n            return string();\n        case '-':\n        case '+':\n        case '.':\n            return number();\n        default:\n            return ch >= '0' && ch <= '9' ? number() : word();\n        }\n    };\n\n// Return the json_parse function. It will have access to all of the above\n// functions and variables.\n\n    return function (source, reviver) {\n        var result;\n\n        text = String(source);\n        at = 0;\n        lineNumber = 1;\n        columnNumber = 1;\n        ch = ' ';\n        result = value();\n        white();\n        if (ch) {\n            error(\"Syntax error\");\n        }\n\n// If there is a reviver function, we recursively walk the new structure,\n// passing each name/value pair to the reviver function for possible\n// transformation, starting with a temporary root object that holds the result\n// in an empty key. If there is not a reviver function, we simply return the\n// result.\n\n        return typeof reviver === 'function' ? (function walk(holder, key) {\n            var k, v, value = holder[key];\n            if (value && typeof value === 'object') {\n                for (k in value) {\n                    if (Object.prototype.hasOwnProperty.call(value, k)) {\n                        v = walk(value, k);\n                        if (v !== undefined) {\n                            value[k] = v;\n                        } else {\n                            delete value[k];\n                        }\n                    }\n                }\n            }\n            return reviver.call(holder, key, value);\n        }({'': result}, '')) : result;\n    };\n}());\n\n// JSON5 stringify will not quote keys where appropriate\nJSON5.stringify = function (obj, replacer, space) {\n    if (replacer && (typeof(replacer) !== \"function\" && !isArray(replacer))) {\n        throw new Error('Replacer must be a function or an array');\n    }\n    var getReplacedValueOrUndefined = function(holder, key, isTopLevel) {\n        var value = holder[key];\n\n        // Replace the value with its toJSON value first, if possible\n        if (value && value.toJSON && typeof value.toJSON === \"function\") {\n            value = value.toJSON();\n        }\n\n        // If the user-supplied replacer if a function, call it. If it's an array, check objects' string keys for\n        // presence in the array (removing the key/value pair from the resulting JSON if the key is missing).\n        if (typeof(replacer) === \"function\") {\n            return replacer.call(holder, key, value);\n        } else if(replacer) {\n            if (isTopLevel || isArray(holder) || replacer.indexOf(key) >= 0) {\n                return value;\n            } else {\n                return undefined;\n            }\n        } else {\n            return value;\n        }\n    };\n\n    function isWordChar(c) {\n        return (c >= 'a' && c <= 'z') ||\n            (c >= 'A' && c <= 'Z') ||\n            (c >= '0' && c <= '9') ||\n            c === '_' || c === '$';\n    }\n\n    function isWordStart(c) {\n        return (c >= 'a' && c <= 'z') ||\n            (c >= 'A' && c <= 'Z') ||\n            c === '_' || c === '$';\n    }\n\n    function isWord(key) {\n        if (typeof key !== 'string') {\n            return false;\n        }\n        if (!isWordStart(key[0])) {\n            return false;\n        }\n        var i = 1, length = key.length;\n        while (i < length) {\n            if (!isWordChar(key[i])) {\n                return false;\n            }\n            i++;\n        }\n        return true;\n    }\n\n    // export for use in tests\n    JSON5.isWord = isWord;\n\n    // polyfills\n    function isArray(obj) {\n        if (Array.isArray) {\n            return Array.isArray(obj);\n        } else {\n            return Object.prototype.toString.call(obj) === '[object Array]';\n        }\n    }\n\n    function isDate(obj) {\n        return Object.prototype.toString.call(obj) === '[object Date]';\n    }\n\n    var objStack = [];\n    function checkForCircular(obj) {\n        for (var i = 0; i < objStack.length; i++) {\n            if (objStack[i] === obj) {\n                throw new TypeError(\"Converting circular structure to JSON\");\n            }\n        }\n    }\n\n    function makeIndent(str, num, noNewLine) {\n        if (!str) {\n            return \"\";\n        }\n        // indentation no more than 10 chars\n        if (str.length > 10) {\n            str = str.substring(0, 10);\n        }\n\n        var indent = noNewLine ? \"\" : \"\\n\";\n        for (var i = 0; i < num; i++) {\n            indent += str;\n        }\n\n        return indent;\n    }\n\n    var indentStr;\n    if (space) {\n        if (typeof space === \"string\") {\n            indentStr = space;\n        } else if (typeof space === \"number\" && space >= 0) {\n            indentStr = makeIndent(\" \", space, true);\n        } else {\n            // ignore space parameter\n        }\n    }\n\n    // Copied from Crokford's implementation of JSON\n    // See https://github.com/douglascrockford/JSON-js/blob/e39db4b7e6249f04a195e7dd0840e610cc9e941e/json2.js#L195\n    // Begin\n    var cx = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n        escapable = /[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n        meta = { // table of character substitutions\n        '\\b': '\\\\b',\n        '\\t': '\\\\t',\n        '\\n': '\\\\n',\n        '\\f': '\\\\f',\n        '\\r': '\\\\r',\n        '\"' : '\\\\\"',\n        '\\\\': '\\\\\\\\'\n    };\n    function escapeString(string) {\n\n// If the string contains no control characters, no quote characters, and no\n// backslash characters, then we can safely slap some quotes around it.\n// Otherwise we must also replace the offending characters with safe escape\n// sequences.\n        escapable.lastIndex = 0;\n        return escapable.test(string) ? '\"' + string.replace(escapable, function (a) {\n            var c = meta[a];\n            return typeof c === 'string' ?\n                c :\n                '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n        }) + '\"' : '\"' + string + '\"';\n    }\n    // End\n\n    function internalStringify(holder, key, isTopLevel) {\n        var buffer, res;\n\n        // Replace the value, if necessary\n        var obj_part = getReplacedValueOrUndefined(holder, key, isTopLevel);\n\n        if (obj_part && !isDate(obj_part)) {\n            // unbox objects\n            // don't unbox dates, since will turn it into number\n            obj_part = obj_part.valueOf();\n        }\n        switch(typeof obj_part) {\n            case \"boolean\":\n                return obj_part.toString();\n\n            case \"number\":\n                if (isNaN(obj_part) || !isFinite(obj_part)) {\n                    return \"null\";\n                }\n                return obj_part.toString();\n\n            case \"string\":\n                return escapeString(obj_part.toString());\n\n            case \"object\":\n                if (obj_part === null) {\n                    return \"null\";\n                } else if (isArray(obj_part)) {\n                    checkForCircular(obj_part);\n                    buffer = \"[\";\n                    objStack.push(obj_part);\n\n                    for (var i = 0; i < obj_part.length; i++) {\n                        res = internalStringify(obj_part, i, false);\n                        buffer += makeIndent(indentStr, objStack.length);\n                        if (res === null || typeof res === \"undefined\") {\n                            buffer += \"null\";\n                        } else {\n                            buffer += res;\n                        }\n                        if (i < obj_part.length-1) {\n                            buffer += \",\";\n                        } else if (indentStr) {\n                            buffer += \"\\n\";\n                        }\n                    }\n                    objStack.pop();\n                    if (obj_part.length) {\n                        buffer += makeIndent(indentStr, objStack.length, true)\n                    }\n                    buffer += \"]\";\n                } else {\n                    checkForCircular(obj_part);\n                    buffer = \"{\";\n                    var nonEmpty = false;\n                    objStack.push(obj_part);\n                    for (var prop in obj_part) {\n                        if (obj_part.hasOwnProperty(prop)) {\n                            var value = internalStringify(obj_part, prop, false);\n                            isTopLevel = false;\n                            if (typeof value !== \"undefined\" && value !== null) {\n                                buffer += makeIndent(indentStr, objStack.length);\n                                nonEmpty = true;\n                                key = isWord(prop) ? prop : escapeString(prop);\n                                buffer += key + \":\" + (indentStr ? ' ' : '') + value + \",\";\n                            }\n                        }\n                    }\n                    objStack.pop();\n                    if (nonEmpty) {\n                        buffer = buffer.substring(0, buffer.length-1) + makeIndent(indentStr, objStack.length) + \"}\";\n                    } else {\n                        buffer = '{}';\n                    }\n                }\n                return buffer;\n            default:\n                // functions and undefined should be ignored\n                return undefined;\n        }\n    }\n\n    // special case...when undefined is used inside of\n    // a compound object/array, return null.\n    // but when top-level, return undefined\n    var topLevelHolder = {\"\":obj};\n    if (obj === undefined) {\n        return getReplacedValueOrUndefined(topLevelHolder, '', true);\n    }\n    return internalStringify(topLevelHolder, '', true);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/json5/lib/json5.js\n// module id = 367\n// module chunks = 0","import base64 from 'base64-js';\nimport sha256 from 'js-sha256';\n\n/*\n * Copyright 2016 Red Hat, Inc. and/or its affiliates\n * and other contributors as indicated by the @author tags.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nif (typeof Promise === 'undefined') {\n    throw Error('Keycloak requires an environment that supports Promises. Make sure that you include the appropriate polyfill.');\n}\n\nvar loggedPromiseDeprecation = false;\n\nfunction logPromiseDeprecation() {\n    if (!loggedPromiseDeprecation) {\n        loggedPromiseDeprecation = true;\n        console.warn('[KEYCLOAK] Usage of legacy style promise methods such as `.error()` and `.success()` has been deprecated and support will be removed in future versions. Use standard style promise methods such as `.then() and `.catch()` instead.');\n    }\n}\n\nfunction Keycloak (config) {\n    if (!(this instanceof Keycloak)) {\n        return new Keycloak(config);\n    }\n\n    var kc = this;\n    var adapter;\n    var refreshQueue = [];\n    var callbackStorage;\n\n    var loginIframe = {\n        enable: true,\n        callbackList: [],\n        interval: 5\n    };\n\n    var scripts = document.getElementsByTagName('script');\n    for (var i = 0; i < scripts.length; i++) {\n        if ((scripts[i].src.indexOf('keycloak.js') !== -1 || scripts[i].src.indexOf('keycloak.min.js') !== -1) && scripts[i].src.indexOf('version=') !== -1) {\n            kc.iframeVersion = scripts[i].src.substring(scripts[i].src.indexOf('version=') + 8).split('&')[0];\n        }\n    }\n\n    var useNonce = true;\n    var logInfo = createLogger(console.info);\n    var logWarn = createLogger(console.warn);\n\n    kc.init = function (initOptions) {\n        kc.authenticated = false;\n\n        callbackStorage = createCallbackStorage();\n        var adapters = ['default', 'cordova', 'cordova-native'];\n\n        if (initOptions && adapters.indexOf(initOptions.adapter) > -1) {\n            adapter = loadAdapter(initOptions.adapter);\n        } else if (initOptions && typeof initOptions.adapter === \"object\") {\n            adapter = initOptions.adapter;\n        } else {\n            if (window.Cordova || window.cordova) {\n                adapter = loadAdapter('cordova');\n            } else {\n                adapter = loadAdapter();\n            }\n        }\n\n        if (initOptions) {\n            if (typeof initOptions.useNonce !== 'undefined') {\n                useNonce = initOptions.useNonce;\n            }\n\n            if (typeof initOptions.checkLoginIframe !== 'undefined') {\n                loginIframe.enable = initOptions.checkLoginIframe;\n            }\n\n            if (initOptions.checkLoginIframeInterval) {\n                loginIframe.interval = initOptions.checkLoginIframeInterval;\n            }\n\n            if (initOptions.onLoad === 'login-required') {\n                kc.loginRequired = true;\n            }\n\n            if (initOptions.responseMode) {\n                if (initOptions.responseMode === 'query' || initOptions.responseMode === 'fragment') {\n                    kc.responseMode = initOptions.responseMode;\n                } else {\n                    throw 'Invalid value for responseMode';\n                }\n            }\n\n            if (initOptions.flow) {\n                switch (initOptions.flow) {\n                    case 'standard':\n                        kc.responseType = 'code';\n                        break;\n                    case 'implicit':\n                        kc.responseType = 'id_token token';\n                        break;\n                    case 'hybrid':\n                        kc.responseType = 'code id_token token';\n                        break;\n                    default:\n                        throw 'Invalid value for flow';\n                }\n                kc.flow = initOptions.flow;\n            }\n\n            if (initOptions.timeSkew != null) {\n                kc.timeSkew = initOptions.timeSkew;\n            }\n\n            if(initOptions.redirectUri) {\n                kc.redirectUri = initOptions.redirectUri;\n            }\n\n            if (initOptions.silentCheckSsoRedirectUri) {\n                kc.silentCheckSsoRedirectUri = initOptions.silentCheckSsoRedirectUri;\n            }\n\n            if (typeof initOptions.silentCheckSsoFallback === 'boolean') {\n                kc.silentCheckSsoFallback = initOptions.silentCheckSsoFallback;\n            } else {\n                kc.silentCheckSsoFallback = true;\n            }\n\n            if (initOptions.pkceMethod) {\n                if (initOptions.pkceMethod !== \"S256\") {\n                    throw 'Invalid value for pkceMethod';\n                }\n                kc.pkceMethod = initOptions.pkceMethod;\n            }\n\n            if (typeof initOptions.enableLogging === 'boolean') {\n                kc.enableLogging = initOptions.enableLogging;\n            } else {\n                kc.enableLogging = false;\n            }\n\n            if (typeof initOptions.scope === 'string') {\n                kc.scope = initOptions.scope;\n            }\n\n            if (typeof initOptions.messageReceiveTimeout === 'number' && initOptions.messageReceiveTimeout > 0) {\n                kc.messageReceiveTimeout = initOptions.messageReceiveTimeout;\n            } else {\n                kc.messageReceiveTimeout = 10000;\n            }\n        }\n\n        if (!kc.responseMode) {\n            kc.responseMode = 'fragment';\n        }\n        if (!kc.responseType) {\n            kc.responseType = 'code';\n            kc.flow = 'standard';\n        }\n\n        var promise = createPromise();\n\n        var initPromise = createPromise();\n        initPromise.promise.then(function() {\n            kc.onReady && kc.onReady(kc.authenticated);\n            promise.setSuccess(kc.authenticated);\n        }).catch(function(error) {\n            promise.setError(error);\n        });\n\n        var configPromise = loadConfig();\n\n        function onLoad() {\n            var doLogin = function(prompt) {\n                if (!prompt) {\n                    options.prompt = 'none';\n                }\n\n                kc.login(options).then(function () {\n                    initPromise.setSuccess();\n                }).catch(function (error) {\n                    initPromise.setError(error);\n                });\n            };\n\n            var checkSsoSilently = function() {\n                var ifrm = document.createElement(\"iframe\");\n                var src = kc.createLoginUrl({prompt: 'none', redirectUri: kc.silentCheckSsoRedirectUri});\n                ifrm.setAttribute(\"src\", src);\n                ifrm.setAttribute(\"title\", \"keycloak-silent-check-sso\");\n                ifrm.style.display = \"none\";\n                document.body.appendChild(ifrm);\n\n                var messageCallback = function(event) {\n                    if (event.origin !== window.location.origin || ifrm.contentWindow !== event.source) {\n                        return;\n                    }\n\n                    var oauth = parseCallback(event.data);\n                    processCallback(oauth, initPromise);\n\n                    document.body.removeChild(ifrm);\n                    window.removeEventListener(\"message\", messageCallback);\n                };\n\n                window.addEventListener(\"message\", messageCallback);\n            };\n\n            var options = {};\n            switch (initOptions.onLoad) {\n                case 'check-sso':\n                    if (loginIframe.enable) {\n                        setupCheckLoginIframe().then(function() {\n                            checkLoginIframe().then(function (unchanged) {\n                                if (!unchanged) {\n                                    kc.silentCheckSsoRedirectUri ? checkSsoSilently() : doLogin(false);\n                                } else {\n                                    initPromise.setSuccess();\n                                }\n                            }).catch(function (error) {\n                                initPromise.setError(error);\n                            });\n                        });\n                    } else {\n                        kc.silentCheckSsoRedirectUri ? checkSsoSilently() : doLogin(false);\n                    }\n                    break;\n                case 'login-required':\n                    doLogin(true);\n                    break;\n                default:\n                    throw 'Invalid value for onLoad';\n            }\n        }\n\n        function processInit() {\n            var callback = parseCallback(window.location.href);\n\n            if (callback) {\n                window.history.replaceState(window.history.state, null, callback.newUrl);\n            }\n\n            if (callback && callback.valid) {\n                return setupCheckLoginIframe().then(function() {\n                    processCallback(callback, initPromise);\n                }).catch(function (error) {\n                    initPromise.setError(error);\n                });\n            } else if (initOptions) {\n                if (initOptions.token && initOptions.refreshToken) {\n                    setToken(initOptions.token, initOptions.refreshToken, initOptions.idToken);\n\n                    if (loginIframe.enable) {\n                        setupCheckLoginIframe().then(function() {\n                            checkLoginIframe().then(function (unchanged) {\n                                if (unchanged) {\n                                    kc.onAuthSuccess && kc.onAuthSuccess();\n                                    initPromise.setSuccess();\n                                    scheduleCheckIframe();\n                                } else {\n                                    initPromise.setSuccess();\n                                }\n                            }).catch(function (error) {\n                                initPromise.setError(error);\n                            });\n                        });\n                    } else {\n                        kc.updateToken(-1).then(function() {\n                            kc.onAuthSuccess && kc.onAuthSuccess();\n                            initPromise.setSuccess();\n                        }).catch(function(error) {\n                            kc.onAuthError && kc.onAuthError();\n                            if (initOptions.onLoad) {\n                                onLoad();\n                            } else {\n                                initPromise.setError(error);\n                            }\n                        });\n                    }\n                } else if (initOptions.onLoad) {\n                    onLoad();\n                } else {\n                    initPromise.setSuccess();\n                }\n            } else {\n                initPromise.setSuccess();\n            }\n        }\n\n        function domReady() {\n            var promise = createPromise();\n\n            var checkReadyState = function () {\n                if (document.readyState === 'interactive' || document.readyState === 'complete') {\n                    document.removeEventListener('readystatechange', checkReadyState);\n                    promise.setSuccess();\n                }\n            };\n            document.addEventListener('readystatechange', checkReadyState);\n\n            checkReadyState(); // just in case the event was already fired and we missed it (in case the init is done later than at the load time, i.e. it's done from code)\n\n            return promise.promise;\n        }\n\n        configPromise.then(function () {\n            domReady()\n                .then(check3pCookiesSupported)\n                .then(processInit)\n                .catch(function (error) {\n                    promise.setError(error);\n                });\n        });\n        configPromise.catch(function (error) {\n            promise.setError(error);\n        });\n\n        return promise.promise;\n    };\n\n    kc.login = function (options) {\n        return adapter.login(options);\n    };\n\n    function generateRandomData(len) {\n        // use web crypto APIs if possible\n        var array = null;\n        var crypto = window.crypto || window.msCrypto;\n        if (crypto && crypto.getRandomValues && window.Uint8Array) {\n            array = new Uint8Array(len);\n            crypto.getRandomValues(array);\n            return array;\n        }\n\n        // fallback to Math random\n        array = new Array(len);\n        for (var j = 0; j < array.length; j++) {\n            array[j] = Math.floor(256 * Math.random());\n        }\n        return array;\n    }\n\n    function generateCodeVerifier(len) {\n        return generateRandomString(len, 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789');\n    }\n\n    function generateRandomString(len, alphabet){\n        var randomData = generateRandomData(len);\n        var chars = new Array(len);\n        for (var i = 0; i < len; i++) {\n            chars[i] = alphabet.charCodeAt(randomData[i] % alphabet.length);\n        }\n        return String.fromCharCode.apply(null, chars);\n    }\n\n    function generatePkceChallenge(pkceMethod, codeVerifier) {\n        switch (pkceMethod) {\n            // The use of the \"plain\" method is considered insecure and therefore not supported.\n            case \"S256\":\n                // hash codeVerifier, then encode as url-safe base64 without padding\n                var hashBytes = new Uint8Array(sha256.arrayBuffer(codeVerifier));\n                var encodedHash = base64.fromByteArray(hashBytes)\n                    .replace(/\\+/g, '-')\n                    .replace(/\\//g, '_')\n                    .replace(/\\=/g, '');\n                return encodedHash;\n            default:\n                throw 'Invalid value for pkceMethod';\n        }\n    }\n\n    function buildClaimsParameter(requestedAcr){\n        var claims = {\n            id_token: {\n                acr: requestedAcr\n            }\n        };\n        return JSON.stringify(claims);\n    }\n\n    kc.createLoginUrl = function(options) {\n        var state = createUUID();\n        var nonce = createUUID();\n\n        var redirectUri = adapter.redirectUri(options);\n\n        var callbackState = {\n            state: state,\n            nonce: nonce,\n            redirectUri: encodeURIComponent(redirectUri)\n        };\n\n        if (options && options.prompt) {\n            callbackState.prompt = options.prompt;\n        }\n\n        var baseUrl;\n        if (options && options.action == 'register') {\n            baseUrl = kc.endpoints.register();\n        } else {\n            baseUrl = kc.endpoints.authorize();\n        }\n\n        var scope = options && options.scope || kc.scope;\n        if (!scope) {\n            // if scope is not set, default to \"openid\"\n            scope = \"openid\";\n        } else if (scope.indexOf(\"openid\") === -1) {\n            // if openid scope is missing, prefix the given scopes with it\n            scope = \"openid \" + scope;\n        }\n\n        var url = baseUrl\n            + '?client_id=' + encodeURIComponent(kc.clientId)\n            + '&redirect_uri=' + encodeURIComponent(redirectUri)\n            + '&state=' + encodeURIComponent(state)\n            + '&response_mode=' + encodeURIComponent(kc.responseMode)\n            + '&response_type=' + encodeURIComponent(kc.responseType)\n            + '&scope=' + encodeURIComponent(scope);\n        if (useNonce) {\n            url = url + '&nonce=' + encodeURIComponent(nonce);\n        }\n\n        if (options && options.prompt) {\n            url += '&prompt=' + encodeURIComponent(options.prompt);\n        }\n\n        if (options && options.maxAge) {\n            url += '&max_age=' + encodeURIComponent(options.maxAge);\n        }\n\n        if (options && options.loginHint) {\n            url += '&login_hint=' + encodeURIComponent(options.loginHint);\n        }\n\n        if (options && options.idpHint) {\n            url += '&kc_idp_hint=' + encodeURIComponent(options.idpHint);\n        }\n\n        if (options && options.action && options.action != 'register') {\n            url += '&kc_action=' + encodeURIComponent(options.action);\n        }\n\n        if (options && options.locale) {\n            url += '&ui_locales=' + encodeURIComponent(options.locale);\n        }\n\n        if (options && options.acr) {\n            var claimsParameter = buildClaimsParameter(options.acr);\n            url += '&claims=' + encodeURIComponent(claimsParameter);\n        }\n\n        if (kc.pkceMethod) {\n            var codeVerifier = generateCodeVerifier(96);\n            callbackState.pkceCodeVerifier = codeVerifier;\n            var pkceChallenge = generatePkceChallenge(kc.pkceMethod, codeVerifier);\n            url += '&code_challenge=' + pkceChallenge;\n            url += '&code_challenge_method=' + kc.pkceMethod;\n        }\n\n        callbackStorage.add(callbackState);\n\n        return url;\n    };\n\n    kc.logout = function(options) {\n        return adapter.logout(options);\n    };\n\n    kc.createLogoutUrl = function(options) {\n        var url = kc.endpoints.logout()\n            + '?client_id=' + encodeURIComponent(kc.clientId)\n            + '&post_logout_redirect_uri=' + encodeURIComponent(adapter.redirectUri(options, false));\n\n        if (kc.idToken) {\n            url += '&id_token_hint=' + encodeURIComponent(kc.idToken);\n        }\n\n        return url;\n    };\n\n    kc.register = function (options) {\n        return adapter.register(options);\n    };\n\n    kc.createRegisterUrl = function(options) {\n        if (!options) {\n            options = {};\n        }\n        options.action = 'register';\n        return kc.createLoginUrl(options);\n    };\n\n    kc.createAccountUrl = function(options) {\n        var realm = getRealmUrl();\n        var url = undefined;\n        if (typeof realm !== 'undefined') {\n            url = realm\n            + '/account'\n            + '?referrer=' + encodeURIComponent(kc.clientId)\n            + '&referrer_uri=' + encodeURIComponent(adapter.redirectUri(options));\n        }\n        return url;\n    };\n\n    kc.accountManagement = function() {\n        return adapter.accountManagement();\n    };\n\n    kc.hasRealmRole = function (role) {\n        var access = kc.realmAccess;\n        return !!access && access.roles.indexOf(role) >= 0;\n    };\n\n    kc.hasResourceRole = function(role, resource) {\n        if (!kc.resourceAccess) {\n            return false;\n        }\n\n        var access = kc.resourceAccess[resource || kc.clientId];\n        return !!access && access.roles.indexOf(role) >= 0;\n    };\n\n    kc.loadUserProfile = function() {\n        var url = getRealmUrl() + '/account';\n        var req = new XMLHttpRequest();\n        req.open('GET', url, true);\n        req.setRequestHeader('Accept', 'application/json');\n        req.setRequestHeader('Authorization', 'bearer ' + kc.token);\n\n        var promise = createPromise();\n\n        req.onreadystatechange = function () {\n            if (req.readyState == 4) {\n                if (req.status == 200) {\n                    kc.profile = JSON.parse(req.responseText);\n                    promise.setSuccess(kc.profile);\n                } else {\n                    promise.setError();\n                }\n            }\n        };\n\n        req.send();\n\n        return promise.promise;\n    };\n\n    kc.loadUserInfo = function() {\n        var url = kc.endpoints.userinfo();\n        var req = new XMLHttpRequest();\n        req.open('GET', url, true);\n        req.setRequestHeader('Accept', 'application/json');\n        req.setRequestHeader('Authorization', 'bearer ' + kc.token);\n\n        var promise = createPromise();\n\n        req.onreadystatechange = function () {\n            if (req.readyState == 4) {\n                if (req.status == 200) {\n                    kc.userInfo = JSON.parse(req.responseText);\n                    promise.setSuccess(kc.userInfo);\n                } else {\n                    promise.setError();\n                }\n            }\n        };\n\n        req.send();\n\n        return promise.promise;\n    };\n\n    kc.isTokenExpired = function(minValidity) {\n        if (!kc.tokenParsed || (!kc.refreshToken && kc.flow != 'implicit' )) {\n            throw 'Not authenticated';\n        }\n\n        if (kc.timeSkew == null) {\n            logInfo('[KEYCLOAK] Unable to determine if token is expired as timeskew is not set');\n            return true;\n        }\n\n        var expiresIn = kc.tokenParsed['exp'] - Math.ceil(new Date().getTime() / 1000) + kc.timeSkew;\n        if (minValidity) {\n            if (isNaN(minValidity)) {\n                throw 'Invalid minValidity';\n            }\n            expiresIn -= minValidity;\n        }\n        return expiresIn < 0;\n    };\n\n    kc.updateToken = function(minValidity) {\n        var promise = createPromise();\n\n        if (!kc.refreshToken) {\n            promise.setError();\n            return promise.promise;\n        }\n\n        minValidity = minValidity || 5;\n\n        var exec = function() {\n            var refreshToken = false;\n            if (minValidity == -1) {\n                refreshToken = true;\n                logInfo('[KEYCLOAK] Refreshing token: forced refresh');\n            } else if (!kc.tokenParsed || kc.isTokenExpired(minValidity)) {\n                refreshToken = true;\n                logInfo('[KEYCLOAK] Refreshing token: token expired');\n            }\n\n            if (!refreshToken) {\n                promise.setSuccess(false);\n            } else {\n                var params = 'grant_type=refresh_token&' + 'refresh_token=' + kc.refreshToken;\n                var url = kc.endpoints.token();\n\n                refreshQueue.push(promise);\n\n                if (refreshQueue.length == 1) {\n                    var req = new XMLHttpRequest();\n                    req.open('POST', url, true);\n                    req.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n                    req.withCredentials = true;\n\n                    params += '&client_id=' + encodeURIComponent(kc.clientId);\n\n                    var timeLocal = new Date().getTime();\n\n                    req.onreadystatechange = function () {\n                        if (req.readyState == 4) {\n                            if (req.status == 200) {\n                                logInfo('[KEYCLOAK] Token refreshed');\n\n                                timeLocal = (timeLocal + new Date().getTime()) / 2;\n\n                                var tokenResponse = JSON.parse(req.responseText);\n\n                                setToken(tokenResponse['access_token'], tokenResponse['refresh_token'], tokenResponse['id_token'], timeLocal);\n\n                                kc.onAuthRefreshSuccess && kc.onAuthRefreshSuccess();\n                                for (var p = refreshQueue.pop(); p != null; p = refreshQueue.pop()) {\n                                    p.setSuccess(true);\n                                }\n                            } else {\n                                logWarn('[KEYCLOAK] Failed to refresh token');\n\n                                if (req.status == 400) {\n                                    kc.clearToken();\n                                }\n\n                                kc.onAuthRefreshError && kc.onAuthRefreshError();\n                                for (var p = refreshQueue.pop(); p != null; p = refreshQueue.pop()) {\n                                    p.setError(true);\n                                }\n                            }\n                        }\n                    };\n\n                    req.send(params);\n                }\n            }\n        };\n\n        if (loginIframe.enable) {\n            var iframePromise = checkLoginIframe();\n            iframePromise.then(function() {\n                exec();\n            }).catch(function(error) {\n                promise.setError(error);\n            });\n        } else {\n            exec();\n        }\n\n        return promise.promise;\n    };\n\n    kc.clearToken = function() {\n        if (kc.token) {\n            setToken(null, null, null);\n            kc.onAuthLogout && kc.onAuthLogout();\n            if (kc.loginRequired) {\n                kc.login();\n            }\n        }\n    };\n\n    function getRealmUrl() {\n        if (typeof kc.authServerUrl !== 'undefined') {\n            if (kc.authServerUrl.charAt(kc.authServerUrl.length - 1) == '/') {\n                return kc.authServerUrl + 'realms/' + encodeURIComponent(kc.realm);\n            } else {\n                return kc.authServerUrl + '/realms/' + encodeURIComponent(kc.realm);\n            }\n        } else {\n            return undefined;\n        }\n    }\n\n    function getOrigin() {\n        if (!window.location.origin) {\n            return window.location.protocol + \"//\" + window.location.hostname + (window.location.port ? ':' + window.location.port: '');\n        } else {\n            return window.location.origin;\n        }\n    }\n\n    function processCallback(oauth, promise) {\n        var code = oauth.code;\n        var error = oauth.error;\n        var prompt = oauth.prompt;\n\n        var timeLocal = new Date().getTime();\n\n        if (oauth['kc_action_status']) {\n            kc.onActionUpdate && kc.onActionUpdate(oauth['kc_action_status']);\n        }\n\n        if (error) {\n            if (prompt != 'none') {\n                var errorData = { error: error, error_description: oauth.error_description };\n                kc.onAuthError && kc.onAuthError(errorData);\n                promise && promise.setError(errorData);\n            } else {\n                promise && promise.setSuccess();\n            }\n            return;\n        } else if ((kc.flow != 'standard') && (oauth.access_token || oauth.id_token)) {\n            authSuccess(oauth.access_token, null, oauth.id_token, true);\n        }\n\n        if ((kc.flow != 'implicit') && code) {\n            var params = 'code=' + code + '&grant_type=authorization_code';\n            var url = kc.endpoints.token();\n\n            var req = new XMLHttpRequest();\n            req.open('POST', url, true);\n            req.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n\n            params += '&client_id=' + encodeURIComponent(kc.clientId);\n            params += '&redirect_uri=' + oauth.redirectUri;\n\n            if (oauth.pkceCodeVerifier) {\n                params += '&code_verifier=' + oauth.pkceCodeVerifier;\n            }\n\n            req.withCredentials = true;\n\n            req.onreadystatechange = function() {\n                if (req.readyState == 4) {\n                    if (req.status == 200) {\n\n                        var tokenResponse = JSON.parse(req.responseText);\n                        authSuccess(tokenResponse['access_token'], tokenResponse['refresh_token'], tokenResponse['id_token'], kc.flow === 'standard');\n                        scheduleCheckIframe();\n                    } else {\n                        kc.onAuthError && kc.onAuthError();\n                        promise && promise.setError();\n                    }\n                }\n            };\n\n            req.send(params);\n        }\n\n        function authSuccess(accessToken, refreshToken, idToken, fulfillPromise) {\n            timeLocal = (timeLocal + new Date().getTime()) / 2;\n\n            setToken(accessToken, refreshToken, idToken, timeLocal);\n\n            if (useNonce && ((kc.tokenParsed && kc.tokenParsed.nonce != oauth.storedNonce) ||\n                (kc.refreshTokenParsed && kc.refreshTokenParsed.nonce != oauth.storedNonce) ||\n                (kc.idTokenParsed && kc.idTokenParsed.nonce != oauth.storedNonce))) {\n\n                logInfo('[KEYCLOAK] Invalid nonce, clearing token');\n                kc.clearToken();\n                promise && promise.setError();\n            } else {\n                if (fulfillPromise) {\n                    kc.onAuthSuccess && kc.onAuthSuccess();\n                    promise && promise.setSuccess();\n                }\n            }\n        }\n\n    }\n\n    function loadConfig(url) {\n        var promise = createPromise();\n        var configUrl;\n\n        if (!config) {\n            configUrl = 'keycloak.json';\n        } else if (typeof config === 'string') {\n            configUrl = config;\n        }\n\n        function setupOidcEndoints(oidcConfiguration) {\n            if (! oidcConfiguration) {\n                kc.endpoints = {\n                    authorize: function() {\n                        return getRealmUrl() + '/protocol/openid-connect/auth';\n                    },\n                    token: function() {\n                        return getRealmUrl() + '/protocol/openid-connect/token';\n                    },\n                    logout: function() {\n                        return getRealmUrl() + '/protocol/openid-connect/logout';\n                    },\n                    checkSessionIframe: function() {\n                        var src = getRealmUrl() + '/protocol/openid-connect/login-status-iframe.html';\n                        if (kc.iframeVersion) {\n                            src = src + '?version=' + kc.iframeVersion;\n                        }\n                        return src;\n                    },\n                    thirdPartyCookiesIframe: function() {\n                        var src = getRealmUrl() + '/protocol/openid-connect/3p-cookies/step1.html';\n                        if (kc.iframeVersion) {\n                            src = src + '?version=' + kc.iframeVersion;\n                        }\n                        return src;\n                    },\n                    register: function() {\n                        return getRealmUrl() + '/protocol/openid-connect/registrations';\n                    },\n                    userinfo: function() {\n                        return getRealmUrl() + '/protocol/openid-connect/userinfo';\n                    }\n                };\n            } else {\n                kc.endpoints = {\n                    authorize: function() {\n                        return oidcConfiguration.authorization_endpoint;\n                    },\n                    token: function() {\n                        return oidcConfiguration.token_endpoint;\n                    },\n                    logout: function() {\n                        if (!oidcConfiguration.end_session_endpoint) {\n                            throw \"Not supported by the OIDC server\";\n                        }\n                        return oidcConfiguration.end_session_endpoint;\n                    },\n                    checkSessionIframe: function() {\n                        if (!oidcConfiguration.check_session_iframe) {\n                            throw \"Not supported by the OIDC server\";\n                        }\n                        return oidcConfiguration.check_session_iframe;\n                    },\n                    register: function() {\n                        throw 'Redirection to \"Register user\" page not supported in standard OIDC mode';\n                    },\n                    userinfo: function() {\n                        if (!oidcConfiguration.userinfo_endpoint) {\n                            throw \"Not supported by the OIDC server\";\n                        }\n                        return oidcConfiguration.userinfo_endpoint;\n                    }\n                };\n            }\n        }\n\n        if (configUrl) {\n            var req = new XMLHttpRequest();\n            req.open('GET', configUrl, true);\n            req.setRequestHeader('Accept', 'application/json');\n\n            req.onreadystatechange = function () {\n                if (req.readyState == 4) {\n                    if (req.status == 200 || fileLoaded(req)) {\n                        var config = JSON.parse(req.responseText);\n\n                        kc.authServerUrl = config['auth-server-url'];\n                        kc.realm = config['realm'];\n                        kc.clientId = config['resource'];\n                        setupOidcEndoints(null);\n                        promise.setSuccess();\n                    } else {\n                        promise.setError();\n                    }\n                }\n            };\n\n            req.send();\n        } else {\n            if (!config.clientId) {\n                throw 'clientId missing';\n            }\n\n            kc.clientId = config.clientId;\n\n            var oidcProvider = config['oidcProvider'];\n            if (!oidcProvider) {\n                if (!config['url']) {\n                    var scripts = document.getElementsByTagName('script');\n                    for (var i = 0; i < scripts.length; i++) {\n                        if (scripts[i].src.match(/.*keycloak\\.js/)) {\n                            config.url = scripts[i].src.substr(0, scripts[i].src.indexOf('/js/keycloak.js'));\n                            break;\n                        }\n                    }\n                }\n                if (!config.realm) {\n                    throw 'realm missing';\n                }\n\n                kc.authServerUrl = config.url;\n                kc.realm = config.realm;\n                setupOidcEndoints(null);\n                promise.setSuccess();\n            } else {\n                if (typeof oidcProvider === 'string') {\n                    var oidcProviderConfigUrl;\n                    if (oidcProvider.charAt(oidcProvider.length - 1) == '/') {\n                        oidcProviderConfigUrl = oidcProvider + '.well-known/openid-configuration';\n                    } else {\n                        oidcProviderConfigUrl = oidcProvider + '/.well-known/openid-configuration';\n                    }\n                    var req = new XMLHttpRequest();\n                    req.open('GET', oidcProviderConfigUrl, true);\n                    req.setRequestHeader('Accept', 'application/json');\n\n                    req.onreadystatechange = function () {\n                        if (req.readyState == 4) {\n                            if (req.status == 200 || fileLoaded(req)) {\n                                var oidcProviderConfig = JSON.parse(req.responseText);\n                                setupOidcEndoints(oidcProviderConfig);\n                                promise.setSuccess();\n                            } else {\n                                promise.setError();\n                            }\n                        }\n                    };\n\n                    req.send();\n                } else {\n                    setupOidcEndoints(oidcProvider);\n                    promise.setSuccess();\n                }\n            }\n        }\n\n        return promise.promise;\n    }\n\n    function fileLoaded(xhr) {\n        return xhr.status == 0 && xhr.responseText && xhr.responseURL.startsWith('file:');\n    }\n\n    function setToken(token, refreshToken, idToken, timeLocal) {\n        if (kc.tokenTimeoutHandle) {\n            clearTimeout(kc.tokenTimeoutHandle);\n            kc.tokenTimeoutHandle = null;\n        }\n\n        if (refreshToken) {\n            kc.refreshToken = refreshToken;\n            kc.refreshTokenParsed = decodeToken(refreshToken);\n        } else {\n            delete kc.refreshToken;\n            delete kc.refreshTokenParsed;\n        }\n\n        if (idToken) {\n            kc.idToken = idToken;\n            kc.idTokenParsed = decodeToken(idToken);\n        } else {\n            delete kc.idToken;\n            delete kc.idTokenParsed;\n        }\n\n        if (token) {\n            kc.token = token;\n            kc.tokenParsed = decodeToken(token);\n            kc.sessionId = kc.tokenParsed.session_state;\n            kc.authenticated = true;\n            kc.subject = kc.tokenParsed.sub;\n            kc.realmAccess = kc.tokenParsed.realm_access;\n            kc.resourceAccess = kc.tokenParsed.resource_access;\n\n            if (timeLocal) {\n                kc.timeSkew = Math.floor(timeLocal / 1000) - kc.tokenParsed.iat;\n            }\n\n            if (kc.timeSkew != null) {\n                logInfo('[KEYCLOAK] Estimated time difference between browser and server is ' + kc.timeSkew + ' seconds');\n\n                if (kc.onTokenExpired) {\n                    var expiresIn = (kc.tokenParsed['exp'] - (new Date().getTime() / 1000) + kc.timeSkew) * 1000;\n                    logInfo('[KEYCLOAK] Token expires in ' + Math.round(expiresIn / 1000) + ' s');\n                    if (expiresIn <= 0) {\n                        kc.onTokenExpired();\n                    } else {\n                        kc.tokenTimeoutHandle = setTimeout(kc.onTokenExpired, expiresIn);\n                    }\n                }\n            }\n        } else {\n            delete kc.token;\n            delete kc.tokenParsed;\n            delete kc.subject;\n            delete kc.realmAccess;\n            delete kc.resourceAccess;\n\n            kc.authenticated = false;\n        }\n    }\n\n    function decodeToken(str) {\n        str = str.split('.')[1];\n\n        str = str.replace(/-/g, '+');\n        str = str.replace(/_/g, '/');\n        switch (str.length % 4) {\n            case 0:\n                break;\n            case 2:\n                str += '==';\n                break;\n            case 3:\n                str += '=';\n                break;\n            default:\n                throw 'Invalid token';\n        }\n\n        str = decodeURIComponent(escape(atob(str)));\n\n        str = JSON.parse(str);\n        return str;\n    }\n\n    function createUUID() {\n        var hexDigits = '0123456789abcdef';\n        var s = generateRandomString(36, hexDigits).split(\"\");\n        s[14] = '4';\n        s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1);\n        s[8] = s[13] = s[18] = s[23] = '-';\n        var uuid = s.join('');\n        return uuid;\n    }\n\n    function parseCallback(url) {\n        var oauth = parseCallbackUrl(url);\n        if (!oauth) {\n            return;\n        }\n\n        var oauthState = callbackStorage.get(oauth.state);\n\n        if (oauthState) {\n            oauth.valid = true;\n            oauth.redirectUri = oauthState.redirectUri;\n            oauth.storedNonce = oauthState.nonce;\n            oauth.prompt = oauthState.prompt;\n            oauth.pkceCodeVerifier = oauthState.pkceCodeVerifier;\n        }\n\n        return oauth;\n    }\n\n    function parseCallbackUrl(url) {\n        var supportedParams;\n        switch (kc.flow) {\n            case 'standard':\n                supportedParams = ['code', 'state', 'session_state', 'kc_action_status'];\n                break;\n            case 'implicit':\n                supportedParams = ['access_token', 'token_type', 'id_token', 'state', 'session_state', 'expires_in', 'kc_action_status'];\n                break;\n            case 'hybrid':\n                supportedParams = ['access_token', 'token_type', 'id_token', 'code', 'state', 'session_state', 'expires_in', 'kc_action_status'];\n                break;\n        }\n\n        supportedParams.push('error');\n        supportedParams.push('error_description');\n        supportedParams.push('error_uri');\n\n        var queryIndex = url.indexOf('?');\n        var fragmentIndex = url.indexOf('#');\n\n        var newUrl;\n        var parsed;\n\n        if (kc.responseMode === 'query' && queryIndex !== -1) {\n            newUrl = url.substring(0, queryIndex);\n            parsed = parseCallbackParams(url.substring(queryIndex + 1, fragmentIndex !== -1 ? fragmentIndex : url.length), supportedParams);\n            if (parsed.paramsString !== '') {\n                newUrl += '?' + parsed.paramsString;\n            }\n            if (fragmentIndex !== -1) {\n                newUrl += url.substring(fragmentIndex);\n            }\n        } else if (kc.responseMode === 'fragment' && fragmentIndex !== -1) {\n            newUrl = url.substring(0, fragmentIndex);\n            parsed = parseCallbackParams(url.substring(fragmentIndex + 1), supportedParams);\n            if (parsed.paramsString !== '') {\n                newUrl += '#' + parsed.paramsString;\n            }\n        }\n\n        if (parsed && parsed.oauthParams) {\n            if (kc.flow === 'standard' || kc.flow === 'hybrid') {\n                if ((parsed.oauthParams.code || parsed.oauthParams.error) && parsed.oauthParams.state) {\n                    parsed.oauthParams.newUrl = newUrl;\n                    return parsed.oauthParams;\n                }\n            } else if (kc.flow === 'implicit') {\n                if ((parsed.oauthParams.access_token || parsed.oauthParams.error) && parsed.oauthParams.state) {\n                    parsed.oauthParams.newUrl = newUrl;\n                    return parsed.oauthParams;\n                }\n            }\n        }\n    }\n\n    function parseCallbackParams(paramsString, supportedParams) {\n        var p = paramsString.split('&');\n        var result = {\n            paramsString: '',\n            oauthParams: {}\n        };\n        for (var i = 0; i < p.length; i++) {\n            var split = p[i].indexOf(\"=\");\n            var key = p[i].slice(0, split);\n            if (supportedParams.indexOf(key) !== -1) {\n                result.oauthParams[key] = p[i].slice(split + 1);\n            } else {\n                if (result.paramsString !== '') {\n                    result.paramsString += '&';\n                }\n                result.paramsString += p[i];\n            }\n        }\n        return result;\n    }\n\n    function createPromise() {\n        // Need to create a native Promise which also preserves the\n        // interface of the custom promise type previously used by the API\n        var p = {\n            setSuccess: function(result) {\n                p.resolve(result);\n            },\n\n            setError: function(result) {\n                p.reject(result);\n            }\n        };\n        p.promise = new Promise(function(resolve, reject) {\n            p.resolve = resolve;\n            p.reject = reject;\n        });\n\n        p.promise.success = function(callback) {\n            logPromiseDeprecation();\n\n            this.then(function handleSuccess(value) {\n                callback(value);\n            });\n\n            return this;\n        };\n\n        p.promise.error = function(callback) {\n            logPromiseDeprecation();\n\n            this.catch(function handleError(error) {\n                callback(error);\n            });\n\n            return this;\n        };\n\n        return p;\n    }\n\n    // Function to extend existing native Promise with timeout\n    function applyTimeoutToPromise(promise, timeout, errorMessage) {\n        var timeoutHandle = null;\n        var timeoutPromise = new Promise(function (resolve, reject) {\n            timeoutHandle = setTimeout(function () {\n                reject({ \"error\": errorMessage || \"Promise is not settled within timeout of \" + timeout + \"ms\" });\n            }, timeout);\n        });\n\n        return Promise.race([promise, timeoutPromise]).finally(function () {\n            clearTimeout(timeoutHandle);\n        });\n    }\n\n    function setupCheckLoginIframe() {\n        var promise = createPromise();\n\n        if (!loginIframe.enable) {\n            promise.setSuccess();\n            return promise.promise;\n        }\n\n        if (loginIframe.iframe) {\n            promise.setSuccess();\n            return promise.promise;\n        }\n\n        var iframe = document.createElement('iframe');\n        loginIframe.iframe = iframe;\n\n        iframe.onload = function() {\n            var authUrl = kc.endpoints.authorize();\n            if (authUrl.charAt(0) === '/') {\n                loginIframe.iframeOrigin = getOrigin();\n            } else {\n                loginIframe.iframeOrigin = authUrl.substring(0, authUrl.indexOf('/', 8));\n            }\n            promise.setSuccess();\n        };\n\n        var src = kc.endpoints.checkSessionIframe();\n        iframe.setAttribute('src', src );\n        iframe.setAttribute('title', 'keycloak-session-iframe' );\n        iframe.style.display = 'none';\n        document.body.appendChild(iframe);\n\n        var messageCallback = function(event) {\n            if ((event.origin !== loginIframe.iframeOrigin) || (loginIframe.iframe.contentWindow !== event.source)) {\n                return;\n            }\n\n            if (!(event.data == 'unchanged' || event.data == 'changed' || event.data == 'error')) {\n                return;\n            }\n\n\n            if (event.data != 'unchanged') {\n                kc.clearToken();\n            }\n\n            var callbacks = loginIframe.callbackList.splice(0, loginIframe.callbackList.length);\n\n            for (var i = callbacks.length - 1; i >= 0; --i) {\n                var promise = callbacks[i];\n                if (event.data == 'error') {\n                    promise.setError();\n                } else {\n                    promise.setSuccess(event.data == 'unchanged');\n                }\n            }\n        };\n\n        window.addEventListener('message', messageCallback, false);\n\n        return promise.promise;\n    }\n\n    function scheduleCheckIframe() {\n        if (loginIframe.enable) {\n            if (kc.token) {\n                setTimeout(function() {\n                    checkLoginIframe().then(function(unchanged) {\n                        if (unchanged) {\n                            scheduleCheckIframe();\n                        }\n                    });\n                }, loginIframe.interval * 1000);\n            }\n        }\n    }\n\n    function checkLoginIframe() {\n        var promise = createPromise();\n\n        if (loginIframe.iframe && loginIframe.iframeOrigin ) {\n            var msg = kc.clientId + ' ' + (kc.sessionId ? kc.sessionId : '');\n            loginIframe.callbackList.push(promise);\n            var origin = loginIframe.iframeOrigin;\n            if (loginIframe.callbackList.length == 1) {\n                loginIframe.iframe.contentWindow.postMessage(msg, origin);\n            }\n        } else {\n            promise.setSuccess();\n        }\n\n        return promise.promise;\n    }\n\n    function check3pCookiesSupported() {\n        var promise = createPromise();\n\n        if (loginIframe.enable || kc.silentCheckSsoRedirectUri) {\n            var iframe = document.createElement('iframe');\n            iframe.setAttribute('src', kc.endpoints.thirdPartyCookiesIframe());\n            iframe.setAttribute('title', 'keycloak-3p-check-iframe' );\n            iframe.style.display = 'none';\n            document.body.appendChild(iframe);\n\n            var messageCallback = function(event) {\n                if (iframe.contentWindow !== event.source) {\n                    return;\n                }\n\n                if (event.data !== \"supported\" && event.data !== \"unsupported\") {\n                    return;\n                } else if (event.data === \"unsupported\") {\n                    loginIframe.enable = false;\n                    if (kc.silentCheckSsoFallback) {\n                        kc.silentCheckSsoRedirectUri = false;\n                    }\n                    logWarn(\"[KEYCLOAK] 3rd party cookies aren't supported by this browser. checkLoginIframe and \" +\n                        \"silent check-sso are not available.\");\n                }\n\n                document.body.removeChild(iframe);\n                window.removeEventListener(\"message\", messageCallback);\n                promise.setSuccess();\n            };\n\n            window.addEventListener('message', messageCallback, false);\n        } else {\n            promise.setSuccess();\n        }\n\n        return applyTimeoutToPromise(promise.promise, kc.messageReceiveTimeout, \"Timeout when waiting for 3rd party check iframe message.\");\n    }\n\n    function loadAdapter(type) {\n        if (!type || type == 'default') {\n            return {\n                login: function(options) {\n                    window.location.replace(kc.createLoginUrl(options));\n                    return createPromise().promise;\n                },\n\n                logout: function(options) {\n                    window.location.replace(kc.createLogoutUrl(options));\n                    return createPromise().promise;\n                },\n\n                register: function(options) {\n                    window.location.replace(kc.createRegisterUrl(options));\n                    return createPromise().promise;\n                },\n\n                accountManagement : function() {\n                    var accountUrl = kc.createAccountUrl();\n                    if (typeof accountUrl !== 'undefined') {\n                        window.location.href = accountUrl;\n                    } else {\n                        throw \"Not supported by the OIDC server\";\n                    }\n                    return createPromise().promise;\n                },\n\n                redirectUri: function(options, encodeHash) {\n\n                    if (options && options.redirectUri) {\n                        return options.redirectUri;\n                    } else if (kc.redirectUri) {\n                        return kc.redirectUri;\n                    } else {\n                        return location.href;\n                    }\n                }\n            };\n        }\n\n        if (type == 'cordova') {\n            loginIframe.enable = false;\n            var cordovaOpenWindowWrapper = function(loginUrl, target, options) {\n                if (window.cordova && window.cordova.InAppBrowser) {\n                    // Use inappbrowser for IOS and Android if available\n                    return window.cordova.InAppBrowser.open(loginUrl, target, options);\n                } else {\n                    return window.open(loginUrl, target, options);\n                }\n            };\n\n            var shallowCloneCordovaOptions = function (userOptions) {\n                if (userOptions && userOptions.cordovaOptions) {\n                    return Object.keys(userOptions.cordovaOptions).reduce(function (options, optionName) {\n                        options[optionName] = userOptions.cordovaOptions[optionName];\n                        return options;\n                    }, {});\n                } else {\n                    return {};\n                }\n            };\n\n            var formatCordovaOptions = function (cordovaOptions) {\n                return Object.keys(cordovaOptions).reduce(function (options, optionName) {\n                    options.push(optionName+\"=\"+cordovaOptions[optionName]);\n                    return options;\n                }, []).join(\",\");\n            };\n\n            var createCordovaOptions = function (userOptions) {\n                var cordovaOptions = shallowCloneCordovaOptions(userOptions);\n                cordovaOptions.location = 'no';\n                if (userOptions && userOptions.prompt == 'none') {\n                    cordovaOptions.hidden = 'yes';\n                }\n                return formatCordovaOptions(cordovaOptions);\n            };\n\n            return {\n                login: function(options) {\n                    var promise = createPromise();\n\n                    var cordovaOptions = createCordovaOptions(options);\n                    var loginUrl = kc.createLoginUrl(options);\n                    var ref = cordovaOpenWindowWrapper(loginUrl, '_blank', cordovaOptions);\n                    var completed = false;\n\n                    var closed = false;\n                    var closeBrowser = function() {\n                        closed = true;\n                        ref.close();\n                    };\n\n                    ref.addEventListener('loadstart', function(event) {\n                        if (event.url.indexOf('http://localhost') == 0) {\n                            var callback = parseCallback(event.url);\n                            processCallback(callback, promise);\n                            closeBrowser();\n                            completed = true;\n                        }\n                    });\n\n                    ref.addEventListener('loaderror', function(event) {\n                        if (!completed) {\n                            if (event.url.indexOf('http://localhost') == 0) {\n                                var callback = parseCallback(event.url);\n                                processCallback(callback, promise);\n                                closeBrowser();\n                                completed = true;\n                            } else {\n                                promise.setError();\n                                closeBrowser();\n                            }\n                        }\n                    });\n\n                    ref.addEventListener('exit', function(event) {\n                        if (!closed) {\n                            promise.setError({\n                                reason: \"closed_by_user\"\n                            });\n                        }\n                    });\n\n                    return promise.promise;\n                },\n\n                logout: function(options) {\n                    var promise = createPromise();\n\n                    var logoutUrl = kc.createLogoutUrl(options);\n                    var ref = cordovaOpenWindowWrapper(logoutUrl, '_blank', 'location=no,hidden=yes,clearcache=yes');\n\n                    var error;\n\n                    ref.addEventListener('loadstart', function(event) {\n                        if (event.url.indexOf('http://localhost') == 0) {\n                            ref.close();\n                        }\n                    });\n\n                    ref.addEventListener('loaderror', function(event) {\n                        if (event.url.indexOf('http://localhost') == 0) {\n                            ref.close();\n                        } else {\n                            error = true;\n                            ref.close();\n                        }\n                    });\n\n                    ref.addEventListener('exit', function(event) {\n                        if (error) {\n                            promise.setError();\n                        } else {\n                            kc.clearToken();\n                            promise.setSuccess();\n                        }\n                    });\n\n                    return promise.promise;\n                },\n\n                register : function(options) {\n                    var promise = createPromise();\n                    var registerUrl = kc.createRegisterUrl();\n                    var cordovaOptions = createCordovaOptions(options);\n                    var ref = cordovaOpenWindowWrapper(registerUrl, '_blank', cordovaOptions);\n                    ref.addEventListener('loadstart', function(event) {\n                        if (event.url.indexOf('http://localhost') == 0) {\n                            ref.close();\n                            var oauth = parseCallback(event.url);\n                            processCallback(oauth, promise);\n                        }\n                    });\n                    return promise.promise;\n                },\n\n                accountManagement : function() {\n                    var accountUrl = kc.createAccountUrl();\n                    if (typeof accountUrl !== 'undefined') {\n                        var ref = cordovaOpenWindowWrapper(accountUrl, '_blank', 'location=no');\n                        ref.addEventListener('loadstart', function(event) {\n                            if (event.url.indexOf('http://localhost') == 0) {\n                                ref.close();\n                            }\n                        });\n                    } else {\n                        throw \"Not supported by the OIDC server\";\n                    }\n                },\n\n                redirectUri: function(options) {\n                    return 'http://localhost';\n                }\n            }\n        }\n\n        if (type == 'cordova-native') {\n            loginIframe.enable = false;\n\n            return {\n                login: function(options) {\n                    var promise = createPromise();\n                    var loginUrl = kc.createLoginUrl(options);\n\n                    universalLinks.subscribe('keycloak', function(event) {\n                        universalLinks.unsubscribe('keycloak');\n                        window.cordova.plugins.browsertab.close();\n                        var oauth = parseCallback(event.url);\n                        processCallback(oauth, promise);\n                    });\n\n                    window.cordova.plugins.browsertab.openUrl(loginUrl);\n                    return promise.promise;\n                },\n\n                logout: function(options) {\n                    var promise = createPromise();\n                    var logoutUrl = kc.createLogoutUrl(options);\n\n                    universalLinks.subscribe('keycloak', function(event) {\n                        universalLinks.unsubscribe('keycloak');\n                        window.cordova.plugins.browsertab.close();\n                        kc.clearToken();\n                        promise.setSuccess();\n                    });\n\n                    window.cordova.plugins.browsertab.openUrl(logoutUrl);\n                    return promise.promise;\n                },\n\n                register : function(options) {\n                    var promise = createPromise();\n                    var registerUrl = kc.createRegisterUrl(options);\n                    universalLinks.subscribe('keycloak' , function(event) {\n                        universalLinks.unsubscribe('keycloak');\n                        window.cordova.plugins.browsertab.close();\n                        var oauth = parseCallback(event.url);\n                        processCallback(oauth, promise);\n                    });\n                    window.cordova.plugins.browsertab.openUrl(registerUrl);\n                    return promise.promise;\n\n                },\n\n                accountManagement : function() {\n                    var accountUrl = kc.createAccountUrl();\n                    if (typeof accountUrl !== 'undefined') {\n                        window.cordova.plugins.browsertab.openUrl(accountUrl);\n                    } else {\n                        throw \"Not supported by the OIDC server\";\n                    }\n                },\n\n                redirectUri: function(options) {\n                    if (options && options.redirectUri) {\n                        return options.redirectUri;\n                    } else if (kc.redirectUri) {\n                        return kc.redirectUri;\n                    } else {\n                        return \"http://localhost\";\n                    }\n                }\n            }\n        }\n\n        throw 'invalid adapter type: ' + type;\n    }\n\n    var LocalStorage = function() {\n        if (!(this instanceof LocalStorage)) {\n            return new LocalStorage();\n        }\n\n        localStorage.setItem('kc-test', 'test');\n        localStorage.removeItem('kc-test');\n\n        var cs = this;\n\n        function clearExpired() {\n            var time = new Date().getTime();\n            for (var i = 0; i < localStorage.length; i++)  {\n                var key = localStorage.key(i);\n                if (key && key.indexOf('kc-callback-') == 0) {\n                    var value = localStorage.getItem(key);\n                    if (value) {\n                        try {\n                            var expires = JSON.parse(value).expires;\n                            if (!expires || expires < time) {\n                                localStorage.removeItem(key);\n                            }\n                        } catch (err) {\n                            localStorage.removeItem(key);\n                        }\n                    }\n                }\n            }\n        }\n\n        cs.get = function(state) {\n            if (!state) {\n                return;\n            }\n\n            var key = 'kc-callback-' + state;\n            var value = localStorage.getItem(key);\n            if (value) {\n                localStorage.removeItem(key);\n                value = JSON.parse(value);\n            }\n\n            clearExpired();\n            return value;\n        };\n\n        cs.add = function(state) {\n            clearExpired();\n\n            var key = 'kc-callback-' + state.state;\n            state.expires = new Date().getTime() + (60 * 60 * 1000);\n            localStorage.setItem(key, JSON.stringify(state));\n        };\n    };\n\n    var CookieStorage = function() {\n        if (!(this instanceof CookieStorage)) {\n            return new CookieStorage();\n        }\n\n        var cs = this;\n\n        cs.get = function(state) {\n            if (!state) {\n                return;\n            }\n\n            var value = getCookie('kc-callback-' + state);\n            setCookie('kc-callback-' + state, '', cookieExpiration(-100));\n            if (value) {\n                return JSON.parse(value);\n            }\n        };\n\n        cs.add = function(state) {\n            setCookie('kc-callback-' + state.state, JSON.stringify(state), cookieExpiration(60));\n        };\n\n        cs.removeItem = function(key) {\n            setCookie(key, '', cookieExpiration(-100));\n        };\n\n        var cookieExpiration = function (minutes) {\n            var exp = new Date();\n            exp.setTime(exp.getTime() + (minutes*60*1000));\n            return exp;\n        };\n\n        var getCookie = function (key) {\n            var name = key + '=';\n            var ca = document.cookie.split(';');\n            for (var i = 0; i < ca.length; i++) {\n                var c = ca[i];\n                while (c.charAt(0) == ' ') {\n                    c = c.substring(1);\n                }\n                if (c.indexOf(name) == 0) {\n                    return c.substring(name.length, c.length);\n                }\n            }\n            return '';\n        };\n\n        var setCookie = function (key, value, expirationDate) {\n            var cookie = key + '=' + value + '; '\n                + 'expires=' + expirationDate.toUTCString() + '; ';\n            document.cookie = cookie;\n        };\n    };\n\n    function createCallbackStorage() {\n        try {\n            return new LocalStorage();\n        } catch (err) {\n        }\n\n        return new CookieStorage();\n    }\n\n    function createLogger(fn) {\n        return function() {\n            if (kc.enableLogging) {\n                fn.apply(console, Array.prototype.slice.call(arguments));\n            }\n        };\n    }\n}\n\nexport { Keycloak as default };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/keycloak-js/dist/keycloak.mjs\n// module id = 368\n// module chunks = 0","'use strict';\n\nvar isExtendable = require('is-extendable');\nvar forIn = require('for-in');\n\nfunction mixinDeep(target, objects) {\n  var len = arguments.length, i = 0;\n  while (++i < len) {\n    var obj = arguments[i];\n    if (isObject(obj)) {\n      forIn(obj, copy, target);\n    }\n  }\n  return target;\n}\n\n/**\n * Copy properties from the source object to the\n * target object.\n *\n * @param  {*} `val`\n * @param  {String} `key`\n */\n\nfunction copy(val, key) {\n  if (key === '__proto__') {\n    return;\n  }\n\n  var obj = this[key];\n  if (isObject(val) && isObject(obj)) {\n    mixinDeep(obj, val);\n  } else {\n    this[key] = val;\n  }\n}\n\n/**\n * Returns true if `val` is an object or function.\n *\n * @param  {any} val\n * @return {Boolean}\n */\n\nfunction isObject(val) {\n  return isExtendable(val) && !Array.isArray(val);\n}\n\n/**\n * Expose `mixinDeep`\n */\n\nmodule.exports = mixinDeep;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/mixin-deep/index.js\n// module id = 377\n// module chunks = 0","/*!\n * for-in <https://github.com/jonschlinkert/for-in>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function forIn(obj, fn, thisArg) {\n  for (var key in obj) {\n    if (fn.call(thisArg, obj[key], key, obj) === false) {\n      break;\n    }\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/mixin-deep/~/for-in/index.js\n// module id = 378\n// module chunks = 0","/*!\n * is-extendable <https://github.com/jonschlinkert/is-extendable>\n *\n * Copyright (c) 2015-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nvar isPlainObject = require('is-plain-object');\n\nmodule.exports = function isExtendable(val) {\n  return isPlainObject(val) || typeof val === 'function' || Array.isArray(val);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/mixin-deep/~/is-extendable/index.js\n// module id = 379\n// module chunks = 0","import React  from \"react\"\nimport moment from \"moment\"\n\nexport default function Period(period) {\n    let from = period.start || \"\";\n    let to   = period.end   || \"\";\n\n    if (from && to) {\n        from = moment(from);\n        to = moment(to);\n\n        if (from.isSame(to, \"day\")) {\n            return (\n                <span>\n                    {\n                        from.format(\"MM/DD/YYYY\")\n                    }\n                    {   from.isSame(to, \"hour\") ?\n                        null :\n                        <span>\n                            <small className=\"text-muted\"> from </small>\n                            { from.format(\"HH:mm\") }\n                            <small className=\"text-muted\"> to </small>\n                            { to.format(\"HH:mm\") }\n                        </span>\n                    }\n                </span>\n            )\n        }\n        else {\n            return (\n                <span>\n                    <small className=\"text-muted\"> from </small>\n                    { from.format(\"MM/DD/YYYY\") }\n                    <small className=\"text-muted\"> to </small>\n                    { to.format(\"MM/DD/YYYY\") }\n                </span>\n            )\n        }\n    }\n    else {\n        if (from) {\n            from = moment(from);\n            return (\n                <span>\n                    <small className=\"text-muted\"> from </small>\n                    { from.format(\"MM/DD/YYYY\") }\n                </span>\n            )\n        }\n        else if (to) {\n            to = moment(to);\n            return (\n                <span>\n                    <small className=\"text-muted\"> to </small>\n                    { to.format(\"MM/DD/YYYY\") }\n                </span>\n            )\n        }\n    }\n    return <small className=\"text-muted\">N/A</small>\n}\n\n\n// WEBPACK FOOTER //\n// ./components/Fhir/Period.js","/**\n * The purpose of this file is to combine reducers and create the single store.\n * One should use it simply like so:\n *\n * ```import STORE from \"./redux\"```\n */\nimport { createStore, applyMiddleware, combineReducers } from \"redux\"\nimport thunk     from \"redux-thunk\"\nimport selection from \"./selection\"\nimport query     from \"./query\"\nimport settings  from \"./settings\"\nimport urlParams from \"./urlParams\"\n\nconst middleWares = [thunk]\n\n// Create logger middleware that will log all redux action but only\n// use that in development env.\nif (process.env.NODE_ENV == \"development\" && console && console.groupCollapsed) {\n    let logger = _store => next => action => {\n        let result;\n        if (!action.__no_log) {\n            console.groupCollapsed(action.type)\n            console.info(\"dispatching\", action)\n            result = next(action)\n            console.log(\"next state\", _store.getState())\n            console.groupEnd(action.type)\n        }\n        else {\n            result = next(action)\n        }\n        return result\n    }\n\n    middleWares.push(logger)\n}\n\nexport default createStore(\n    combineReducers({\n        selection,\n        query,\n        settings,\n        urlParams\n    }),\n    applyMiddleware(...middleWares)\n);\n\n\n\n// WEBPACK FOOTER //\n// ./redux/index.js","import { createAction, handleActions } from \"redux-actions\"\nimport { setHashParam, parseQueryString, boolVal } from \"../lib\"\n\nconst PARAMS = parseQueryString(location.hash)\nconst SINGLE = boolVal(PARAMS[\"single-selection\"])\n\n/**\n * For the initial selection state parse the query portion of the URL hash (if\n * any). Note that this is not enough! The hash query can provide list of\n * patient IDs but we initialize them as true. Later they should be updated to\n * contain actual patient objects instead of true!\n */\nlet initialSelection = {};\n(PARAMS._selection || \"\").split(/\\s*,\\s*/).forEach(k => {\n    if (k) {\n\n        // In single mode the last id will become the selected one!\n        if (SINGLE) {\n            initialSelection = {\n                [k]: true\n            };\n        }\n        else {\n            initialSelection[k] = true;\n        }\n    }\n})\n\n/**\n * The initial state is just an empty object that will be filled\n * with patient IDs as keys and booleans as values to indicate if\n * that patient is selected.\n */\nconst INITIAL_STATE = {\n    ...initialSelection,\n    selectionCleared: false\n}\n\n// Private action constants\nconst TOGGLE  = \"app/selection/TOGGLE\"\nconst SET_ALL = \"app/selection/SET_ALL\"\nconst SELECTION_CLEARED = \"app/selection/SELECTION_CLEARED\"\n\n// Create (and export) the redux actions\nexport const toggle = createAction(TOGGLE)\nexport const setAll = createAction(SET_ALL)\nexport const setSelectionCleared = createAction(SELECTION_CLEARED)\n\n/**\n * Update the \"_selection\" hash parameter whenever the selection changes\n * @param {Object} selection The selection to set\n */\nfunction setHashSelection(selection) {\n    setHashParam(\n        \"_selection\",\n        Object.keys(selection).filter(\n            k => selection.hasOwnProperty(k) && !!selection[k]\n        ).join(\",\")\n    )\n}\n\n// Export the reducer as default\nexport default handleActions({\n\n    /**\n     * Toggle the selected state of action.payload.id\n     */\n    [TOGGLE]: (state, action) => {\n        let id = String(action.payload.id);\n        let newState = {\n            [id]: state[id] ? false : action.payload,\n            selectionCleared: false\n        };\n\n        if (!SINGLE) {\n            newState = { ...state, ...newState }\n        }\n        setHashSelection(newState)\n        return newState\n    },\n\n    /**\n     * If user's most recent action was to clear selection,\n     * track that so we can skip showing warning dialog on close\n     */\n    [SELECTION_CLEARED]: (state, action) => {\n        return { ...state, selectionCleared: true }\n    },\n\n    /**\n     * Set the entire selection. Useful if an initial selection\n     * needs to be provided from the host application.\n     */\n    [SET_ALL]: (_, action) => {\n        let newState = { ...action.payload, selectionCleared: false }\n        setHashSelection(newState)\n        return newState\n    }\n\n}, INITIAL_STATE)\n\n\n\n// WEBPACK FOOTER //\n// ./redux/selection.js","import { createAction, handleActions } from \"redux-actions\"\nimport INITIAL_STATE                   from \"../config.default.js\"\nimport mixinDeep from \"mixin-deep\";\n\n// Private action constants\nconst MERGE                = \"app/settings/MERGE\"\nconst REPLACE              = \"app/settings/REPLACE\"\nconst RENDER_SELECTED_ONLY = \"app/settings/RENDER_SELECTED_ONLY\"\n\n// Create (and export) the redux actions\nexport const merge            = createAction(MERGE)\nexport const replace          = createAction(REPLACE)\nexport const showSelectedOnly = createAction(RENDER_SELECTED_ONLY)\n\n// Export the reducer as default\nexport default handleActions({\n\n    [MERGE]: (state, action) => mixinDeep(state, action.payload, { loaded: true }),\n\n    [RENDER_SELECTED_ONLY]: (state, action) => ({\n        ...state,\n        renderSelectedOnly: !!action.payload\n    }),\n\n    // Replace the entire state (useful for testing)\n    [REPLACE]: (_, action) => ({ ...action.payload })\n}, INITIAL_STATE)\n\n\n\n// WEBPACK FOOTER //\n// ./redux/settings.js","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/style-loader/fixUrls.js\n// module id = 537\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./AgeSelector.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./AgeSelector.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./AgeSelector.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/AgeSelector/AgeSelector.less\n// module id = 538\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./App.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./App.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./App.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/App/App.less\n// module id = 539\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./DialogFooter.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./DialogFooter.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./DialogFooter.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/DialogFooter/DialogFooter.less\n// module id = 540\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./Footer.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./Footer.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./Footer.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/Footer/Footer.less\n// module id = 541\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./Header.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./Header.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./Header.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/Header/Header.less\n// module id = 542\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./Loader.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./Loader.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./Loader.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/Loader/Loader.less\n// module id = 543\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./PatientAlert.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./PatientAlert.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./PatientAlert.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/PatientAlert/PatientAlert.less\n// module id = 544\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./PatientDetail.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./PatientDetail.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./PatientDetail.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/PatientDetail/PatientDetail.less\n// module id = 545\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./PatientImage.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./PatientImage.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./PatientImage.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/PatientImage/PatientImage.less\n// module id = 546\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./PatientList.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./PatientList.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./PatientList.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/PatientList/PatientList.less\n// module id = 547\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./SortWidget.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./SortWidget.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./SortWidget.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/SortWidget/SortWidget.less\n// module id = 548\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./TagSelector.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {\"singleton\":true});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./TagSelector.less\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/index.js!../../../node_modules/less-loader/dist/cjs.js!./TagSelector.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/TagSelector/TagSelector.less\n// module id = 549\n// module chunks = 0","/* globals __webpack_amd_options__ */\r\nmodule.exports = __webpack_amd_options__;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/webpack/buildin/amd-options.js\n// module id = 553\n// module chunks = 0","import * as React from \"react\"\nimport moment     from \"moment\"\nimport $          from \"jquery\"\nimport UserService from \"../services/UserService\"\n\n/**\n * Returns the int representation of the first argument or the\n * \"defaultValue\" if the int conversion is not possible.\n * @param {number|string} x The argument to convert\n * @param {number} defaultValue The fall-back return value. This will be\n *                              converted to integer too.\n * @return {Number} The resulting integer.\n */\nexport function intVal(x, defaultValue = 0) {\n    var out = parseInt(x + \"\", 10);\n    if (isNaN(out) || !isFinite(out)) {\n        out = intVal(defaultValue);\n    }\n    return out;\n}\n\n/**\n * Converts the argument to boolean value. \"0\" and \"no\" are recognized as false.\n * \"1\" and \"yes\" are recognized as true. Everything else is just !!var\n * @param {*} x The argument to convert\n * @returns {Boolean} The argument converted to boolean\n */\nexport function boolVal(x) {\n    return (/^(false|0|no)$/i).test(String(x)) ?\n        false :\n        (/^(true|1|yes)$/i).test(String(x)) ?\n            true :\n            !!x;\n}\n\n/**\n * Given some input argument, this function tries to treat it like an error and\n * extract an error message out of it. Supported input types are:\n * - String\n * - Error\n * - AJAX JSON response\n * - FHIR JSON response\n * - Object map of error messages\n * @param {*} input The input to analyse\n * @param {String|JSX.Element} error(s)\n */\nexport function getErrorMessage(input) {\n    if (input && typeof input == \"string\") {\n        return input;\n    }\n\n    let out = \"Unknown error\"\n\n    if (input && input instanceof Error) {\n        out = String(input);\n    }\n\n    else if (input && input.responseJSON) {\n        if (Array.isArray(input.responseJSON.issue) && input.responseJSON.issue.length) {\n            out = input.responseJSON.issue.map(o => o.diagnostics || \"-\").join(\"\\n\")\n        }\n        else {\n            out = (\n                input.responseJSON.message ||\n                input.responseJSON.error ||\n                \"Unknown error\"\n            )\n        }\n    }\n\n    else if (input && input.responseText) {\n        out = ( input.responseText + \" - \" + input.statusText) || \"Unknown error\"\n    }\n\n    else if (input && input.statusText) {\n        if (input.statusText == \"timeout\") {\n            out = \"The server failed to respond in the desired number of seconds\"\n        }\n        else {\n            out = input.statusText || \"Unknown error\"\n        }\n    }\n\n    if (out && typeof out == \"object\") {\n        let out2 = []\n        for (let key in (out)) {\n            out2.push(React.createElement(\"li\", { key }, out[key]));\n        }\n        return React.createElement(\"div\", null, [\n            \"Multiple errors\",\n            React.createElement(\"ul\", null, out2)\n        ])\n    }\n\n    return String(out).replace(/(Error\\:\\s)+/, \"Error: \");\n}\n\n/**\n * Walks thru an object (ar array) and returns the value found at the provided\n * path. This function is very simple so it intentionally does not support any\n * argument polymorphism, meaning that the path can only be a dot-separated\n * string. If the path is invalid returns undefined.\n * @param {Object} obj The object (or Array) to walk through\n * @param {String} path The path (eg. \"a.b.4.c\")\n * @returns {*} Whatever is found in the path or undefined\n */\nexport function getPath(obj, path = \"\") {\n    return path.split(\".\").reduce((out, key) => out ? out[key] : undefined, obj)\n}\n\nexport function compileQueryString(params) {\n    let query = []\n\n    for (let key in params) {\n        let p = params[key]\n\n        // If the parameter value is falsy (and other than 0) just don't include\n        // it in the query\n        if (!p && p !== 0) {\n            continue;\n        }\n\n        // if the value is an array then include that parameter multiple times\n        // with different values\n        if (Array.isArray(p)) {\n            p.forEach(v => {\n\n                // skip falsy not 0 values same as above\n                if (v || v === 0) {\n                    query.push(\n                        encodeURIComponent(key) + \"=\"\n                        + encodeURIComponent(v)\n                    )\n                }\n            })\n        }\n\n        // Add normal param to the query string\n        else {\n            query.push(\n                encodeURIComponent(key) + \"=\"\n                + encodeURIComponent(p)\n            )\n        }\n    }\n\n    return query.join(\"&\")\n}\n\nexport function parseQueryString(str) {\n    let out = {};\n    str = String(str || \"\").trim().split(\"?\").pop();\n    str.split(/&/).forEach(pair => {\n        let tokens = pair.split(\"=\")\n        let key    = decodeURIComponent(tokens[0])\n        if (key) {\n            let value = decodeURIComponent(tokens[1] || \"true\")\n            if (out.hasOwnProperty(key)) {\n                if (!Array.isArray(out[key])) {\n                    out[key] = [out[key]]\n                }\n                out[key].push(value)\n            }\n            else {\n                out[key] = value\n            }\n        }\n    })\n    return out\n}\n\nexport function setHashParam(name, value) {\n    let query = location.hash.split(\"?\")[1] || \"\";\n    let hash  = location.hash.replace(/\\?.*/, \"\");\n    // console.warn(query)\n    query = parseQueryString(query || \"\");\n    if (value === undefined) {\n        if (query.hasOwnProperty(name)) {\n            delete query[name]\n        }\n    }\n    else {\n        query[name] = value\n    }\n\n    query = compileQueryString(query)\n    location.hash = hash + (query ? \"?\" + query : \"\")\n}\n\n// Fhir parsing helpers --------------------------------------------------------\n\n/**\n * Given an array of Coding objects finds and returns the one that contains\n * an MRN (using a code == \"MR\" check)\n * @export\n * @param {Object[]} codings Fhir.Coding[]\n * @returns {Object} Fhir.Coding | undefined\n */\nexport function findMRNCoding(codings) {\n    if (Array.isArray(codings)) {\n        return codings.find(coding => coding.code == \"MR\");\n    }\n}\n\n/**\n * Given an array of identifier objects finds and returns the one that contains an MRN\n * @export\n * @param {Object[]} identifiers\n * @returns {Object}\n */\nexport function findMRNIdentifier(identifiers) {\n    return identifiers.find(\n        identifier => !!findMRNCoding(getPath(identifier, \"type.coding\"))\n    );\n}\n\n/**\n * Given a patient returns his MRN\n * @export\n * @param {Object} patient\n * @returns {string}\n */\nexport function getPatientMRN(patient) {\n    let mrn = null;\n\n    if (Array.isArray(patient.identifier) && patient.identifier.length) {\n        mrn = findMRNIdentifier(patient.identifier);\n        if (mrn) {\n            return mrn.value;\n        }\n    }\n\n    return mrn;\n}\n\n/**\n * Extracts and returns a human-readable name string from FHIR patient object.\n * @param {Object} patient FHIR patient object\n * @returns {String} Patient's name or an empty string\n */\nexport function getPatientName(patient) {\n    if (!patient) {\n        return \"\"\n    }\n\n    let name = patient.name;\n    if (!Array.isArray(name)) {\n        name = [name];\n    }\n    name = name[0];\n    if (!name) {\n        return \"\";\n    }\n\n    let family = Array.isArray(name.family) ? name.family : [ name.family ];\n    let given  = Array.isArray(name.given ) ? name.given  : [ name.given  ];\n    let prefix = Array.isArray(name.prefix) ? name.prefix : [ name.prefix ];\n    let suffix = Array.isArray(name.suffix) ? name.suffix : [ name.suffix ];\n\n    return [\n        prefix.map(t => String(t || \"\").trim()).join(\" \"),\n        given .map(t => String(t || \"\").trim()).join(\" \"),\n        family.map(t => String(t || \"\").trim()).join(\" \"),\n        suffix.map(t => String(t || \"\").trim()).join(\" \")\n    ].filter(Boolean).join(\" \");\n}\n\n/**\n * Given a FHIR patient object, returns the patient's phone number (or empty string).\n * Note that if the patient have multiple phones this will only return the first one.\n * @param {Object} patient FHIR patient object\n * @returns {String} Patient's phone or an empty string\n */\nexport function getPatientPhone(patient = {}) {\n    let phone = (patient.telecom || []).find(c => c.system == \"phone\");\n    return phone ? phone.value : \"\";\n}\n\n/**\n * Given a FHIR patient object, returns the patient's email (or an empty string).\n * Note that if the patient have multiple emails this will only return the first one.\n * @param {Object} patient FHIR patient object\n * @returns {String} Patient's email address or an empty string\n */\nexport function getPatientEmail(patient = {}) {\n    let phone = (patient.telecom || []).find(c => c.system == \"email\");\n    return phone ? phone.value || \"\" : \"\";\n}\n\n/**\n * Extracts and returns a human-readable address string from FHIR patient object.\n * @param {Object} patient FHIR patient object\n * @returns {String} Patient's address or an empty string\n */\nexport function getPatientHomeAddress(patient = {}) {\n    let a = (patient.address || []);\n    a = a.find(c => c.use == \"home\") || a[0] || {};\n    var l = [a.line, a.postalCode, a.city, a.country]\n        .map(x => String(x || \"\").trim())\n        .filter(Boolean)\n        .join(\" \");\n    return l ? l : a.text || \"\";\n}\n\n/**\n * Extracts and returns a human-readable age string from FHIR patient object.\n * @param {Object} patient FHIR patient object\n * @returns {String} Patient's age\n */\nexport function getPatientAge(patient) {\n    let from  = moment(patient.birthDate);\n    let to    = moment(patient.deceasedDateTime || undefined);\n    let age   = to - from;\n\n    let seconds = Math.round(age / 1000)\n    if (seconds < 60) {\n        return seconds + \" second\"\n    }\n\n    let minutes = Math.round(seconds / 60)\n    if (minutes < 60) {\n        return minutes + \" minute\"\n    }\n\n    let hours = Math.round(minutes / 60)\n    if (hours < 24) {\n        return hours + \" hour\"\n    }\n\n    let days = Math.round(hours / 24)\n    if (days < 30) {\n        return days + \" day\"\n    }\n\n    let months = Math.round(days / 30)\n    if (months < 24) {\n        return months + \" month\"\n    }\n\n    let years = Math.round(days / 365)\n    return years + \" year\"\n}\n\n/**\n * Extracts and returns an URL pointing to the patient photo (or an empty string)\n * @param {Object} patient FHIR patient object\n * @returns {String} Patient's image URL\n */\nexport function getPatientImageUri(patient, base=\"\") {\n    let data = getPath(patient, \"photo.0.data\") || \"\";\n    let url  = getPath(patient, \"photo.0.url\") || \"\";\n    let type = getPath(patient, \"photo.0.contentType\") || \"\";\n    if (url.indexOf(\"/\") === 0) {\n        url = base + \"\" + url;\n    }\n    let http = url && url.match(/^https?:\\/\\//);\n    if (!http && data) {\n        if (type && data.indexOf(\"data:\") !== 0) {\n            data = `data:${type};base64,${data}`;\n        }\n        url = data;\n    }\n    else if (type && !http) {\n        url = `data:${type};base64,${url}`;\n    }\n    return url;\n}\n\n/**\n * Return the display text for the given CodeableConcept\n * @param {Object} concept CodeableConcept\n * @returns {String}\n */\nexport function getCodeableConcept(concept, defaultValue = \"-\") {\n    return String(\n        getPath(concept, \"coding.0.display\") ||\n        getPath(concept, \"coding.0.code\") ||\n        concept.text ||\n        defaultValue\n    );\n}\n\n/**\n * Some elements are of type `code` in older FHIR versions, but have been\n * converted to CodeableConcept in later versions\n * @param {String|Object} data Code or CodeableConcept\n * @returns {String}\n */\nexport function getCodeOrConcept(data, defaultValue = \"-\") {\n    if(data === undefined)\n      return defaultValue\n    if (typeof data == \"string\") return data || defaultValue;\n    return getCodeableConcept(data, defaultValue);\n}\n\n/**\n * Given some input string (@input) and a string to search for (@query), this\n * function will highlight all the occurrences by wrapping them in\n * \"<span class=\"search-match\"></span>\" tag.\n * @param {String} input The input string\n * @param {String} query The string to search for\n * @param {Boolean} caseSensitive Defaults to false\n * @returns {String} The input string with the matches highlighted\n */\nexport function searchHighlight(input, query, caseSensitive = false) {\n    let s = String(input);\n    let q = String(query);\n    let x = s;\n\n    if (!caseSensitive) {\n        x = x.toLowerCase();\n        q = q.toLowerCase();\n    }\n\n    let i = x.indexOf(q);\n\n    if (i > -1) {\n        return (\n            s.substr(0, i) +\n            `<span class=\"search-match\">` +\n            s.substr(i, q.length) +\n            \"</span>\" +\n            s.substr(i + q.length)\n        );\n    }\n\n    return input;\n}\n\n/**\n * Uses searchHighlight() to generate and return a JSX.span element containing\n * the @html string with @search highlighted\n * @param {String} html The input string\n * @param {String} search The string to search for\n * @returns {JSX.span} SPAN element with the matches highlighted\n */\nexport function renderSearchHighlight(html, search) {\n    return (\n        <span dangerouslySetInnerHTML={{\n            __html: search ? searchHighlight(html, search) : html\n        }}/>\n    )\n}\n\n/**\n * Given a fhir bundle fins it's link having the given rel attribute.\n * @param {Object} bundle FHIR JSON Bundle object\n * @param {String} rel The rel attribute to look for: prev|next|self... (see\n * http://www.iana.org/assignments/link-relations/link-relations.xhtml#link-relations-1)\n * @returns {String|null} Returns the url of the link or null if the link was\n *                        not found.\n */\nexport function getBundleURL(bundle, rel) {\n    let nextLink = bundle.link;\n    if (nextLink) {\n        nextLink = nextLink.find(l => l.relation === rel);\n        return nextLink && nextLink.url ? nextLink.url : null\n    }\n    return null;\n}\n\nexport function request(options) {\n    options = typeof options == \"string\" ? { url : options } : options || {};\n    let cfg = $.extend(true, options, {\n        headers: {\n            Accept: \"application/json+fhir\",\n            \"Authorization\" : \"Bearer \" + UserService.getToken()\n        }\n    })\n\n    console.log(cfg);\n\n    \n\n    return new Promise((resolve, reject) => {\n        console.info(\"Requesting \" + decodeURIComponent(cfg.url))\n        console.info(\"Headers \" + cfg.headers)\n        $.ajax(cfg).then(\n            resolve,\n            xhr => {\n                let message = getErrorMessage(xhr)\n                if (message && typeof message == \"string\") {\n                    return reject(new Error(message))\n                }\n                else {\n                    return reject({ message })\n                }\n            }\n        )\n    })\n}\n\nexport function getAllPages(options, result = []) {\n    console.log(\"getAllPages : \" + options);\n    return request(options).then(bundle => {\n        (bundle.entry || []).forEach(item => {\n            if (item.fullUrl && result.findIndex(o => (o.fullUrl === item.fullUrl)) == -1) {\n                result.push(item);\n            }\n        })\n        let nextUrl = getBundleURL(bundle, \"next\");\n        if (nextUrl) {\n            return getAllPages({ ...options, url: nextUrl }, result);\n        }\n        return result;\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/index.js"],"sourceRoot":""}